<!DOCTYPE html><html><head>
      <title>系统图表文档</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css">
      
      
      <script src="https://cdn.jsdelivr.net/npm/mermaid@11.5.0/dist/mermaid.min.js"></script>
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1>AdWeb 广告管理平台 - 系统图表文档</h1>
<p>本文档提供 AdWeb 广告管理平台的各种图表和可视化内容，用于辅助理解系统的设计和实现。</p>
<h2 id="1-用例图">1. 用例图 </h2>
<p>用例图展示了系统的主要功能和不同角色的交互关系。</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="1265px" preserveAspectRatio="none" style="width:364px;height:1265px;background:#FFFFFF;" version="1.1" viewBox="0 0 364 1265" width="364px" zoomAndPan="magnify"><title>AdWeb 平台全局用例图</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="155.4629" x="97.2686" y="24.5332">AdWeb 平台全局用例图</text><!--cluster AdWeb ??????--><g class="cluster" data-entity="AdWeb 广告管理平台" data-source-line="8" data-uid="ent0005" id="cluster_AdWeb 广告管理平台"><rect fill="none" height="1214" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="170" x="188" y="45.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140.6973" x="202.6514" y="62.1426">AdWeb 广告管理平台</text></g><g class="entity" data-entity="用户注册" data-source-line="9" data-uid="ent0006" id="entity_用户注册"><ellipse cx="272.8032" cy="363.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="368.1347">用户注册</text></g><g class="entity" data-entity="用户登录" data-source-line="10" data-uid="ent0008" id="entity_用户登录"><ellipse cx="272.8032" cy="563.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="568.1347">用户登录</text></g><g class="entity" data-entity="账户管理" data-source-line="11" data-uid="ent0010" id="entity_账户管理"><ellipse cx="272.8032" cy="429.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="434.1347">账户管理</text></g><g class="entity" data-entity="广告活动管理" data-source-line="12" data-uid="ent0012" id="entity_广告活动管理"><ellipse cx="272.7688" cy="496.7631" fill="#F1F1F1" rx="68.7688" ry="16.1538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="227.7688" y="501.2797">广告活动管理</text></g><g class="entity" data-entity="广告管理" data-source-line="13" data-uid="ent0014" id="entity_广告管理"><ellipse cx="272.8032" cy="97.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="102.1347">广告管理</text></g><g class="entity" data-entity="查看广告数据" data-source-line="14" data-uid="ent0016" id="entity_查看广告数据"><ellipse cx="272.7688" cy="164.7631" fill="#F1F1F1" rx="68.7688" ry="16.1538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="227.7688" y="169.2797">查看广告数据</text></g><g class="entity" data-entity="财务管理" data-source-line="15" data-uid="ent0018" id="entity_财务管理"><ellipse cx="272.8032" cy="231.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="236.1347">财务管理</text></g><g class="entity" data-entity="发票管理" data-source-line="16" data-uid="ent0020" id="entity_发票管理"><ellipse cx="272.8032" cy="297.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="302.1347">发票管理</text></g><g class="entity" data-entity="用户审核" data-source-line="19" data-uid="ent0023" id="entity_用户审核"><ellipse cx="272.8032" cy="895.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="900.1347">用户审核</text></g><g class="entity" data-entity="广告审核" data-source-line="20" data-uid="ent0025" id="entity_广告审核"><ellipse cx="272.8032" cy="961.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="966.1347">广告审核</text></g><g class="entity" data-entity="广告位管理" data-source-line="21" data-uid="ent0027" id="entity_广告位管理"><ellipse cx="273.1463" cy="1027.7036" fill="#F1F1F1" rx="61.6463" ry="15.5942" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="235.1463" y="1032.2202">广告位管理</text></g><g class="entity" data-entity="系统数据报表" data-source-line="22" data-uid="ent0029" id="entity_系统数据报表"><ellipse cx="272.7688" cy="630.7631" fill="#F1F1F1" rx="68.7688" ry="16.1538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="227.7688" y="635.2797">系统数据报表</text></g><g class="entity" data-entity="财务审批" data-source-line="23" data-uid="ent0031" id="entity_财务审批"><ellipse cx="272.8032" cy="697.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="702.1347">财务审批</text></g><g class="entity" data-entity="发票审批" data-source-line="24" data-uid="ent0033" id="entity_发票审批"><ellipse cx="272.8032" cy="763.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="768.1347">发票审批</text></g><g class="entity" data-entity="系统配置" data-source-line="25" data-uid="ent0035" id="entity_系统配置"><ellipse cx="272.8032" cy="829.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="834.1347">系统配置</text></g><g class="entity" data-entity="发送通知" data-source-line="27" data-uid="ent0037" id="entity_发送通知"><ellipse cx="272.8032" cy="1093.618" fill="#F1F1F1" rx="51.3032" ry="15.5087" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="241.8032" y="1098.1347">发送通知</text></g><g class="entity" data-entity="生成统计报表" data-source-line="28" data-uid="ent0039" id="entity_生成统计报表"><ellipse cx="272.7688" cy="1160.7631" fill="#F1F1F1" rx="68.7688" ry="16.1538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="227.7688" y="1165.2797">生成统计报表</text></g><g class="entity" data-entity="执行定时任务" data-source-line="29" data-uid="ent0041" id="entity_执行定时任务"><ellipse cx="272.7688" cy="1227.7631" fill="#F1F1F1" rx="68.7688" ry="16.1538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="227.7688" y="1232.2797">执行定时任务</text></g><!--entity Advertiser--><g class="entity" data-entity="Advertiser" data-source-line="4" data-uid="ent0002" id="entity_Advertiser"><ellipse cx="75.1172" cy="300.1094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M75.1172,308.1094 L75.1172,335.1094 M62.1172,316.1094 L88.1172,316.1094 M75.1172,335.1094 L62.1172,350.1094 M75.1172,335.1094 L88.1172,350.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.2344" x="16" y="366.1426">广告主 (Advertiser)</text></g><!--entity Admin--><g class="entity" data-entity="Admin" data-source-line="5" data-uid="ent0003" id="entity_Admin"><ellipse cx="74.8413" cy="766.1094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M74.8413,774.1094 L74.8413,801.1094 M61.8413,782.1094 L87.8413,782.1094 M74.8413,801.1094 L61.8413,816.1094 M74.8413,801.1094 L87.8413,816.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.6826" x="6" y="832.1426">管理员 (Administrator)</text></g><!--entity SystemUser--><g class="entity" data-entity="SystemUser" data-source-line="6" data-uid="ent0004" id="entity_SystemUser"><ellipse cx="74.9448" cy="1130.1094" fill="#C2F0FF" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M74.9448,1138.1094 L74.9448,1165.1094 M61.9448,1146.1094 L87.9448,1146.1094 M74.9448,1165.1094 L61.9448,1180.1094 M74.9448,1165.1094 L87.9448,1180.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.8896" x="31" y="1196.1426">系统 (System)</text></g><!--link Advertiser to ????--><g class="link" data-entity-1="Advertiser" data-entity-2="用户注册" data-source-line="9" data-uid="lnk7" id="link_Advertiser_用户注册"><path d="M134.01,340.3794 C163.92,345.4094 199.84,351.4594 227.53,356.1194" fill="none" id="Advertiser-用户注册" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ????--><g class="link" data-entity-1="Advertiser" data-entity-2="用户登录" data-source-line="10" data-uid="lnk9" id="link_Advertiser_用户登录"><path d="M86.99,369.6494 C101.41,414.1594 130.83,486.3494 180,529.6094 C193.93,541.8694 212.68,549.8494 229.62,554.9794" fill="none" id="Advertiser-用户登录" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ????--><g class="link" data-entity-1="Advertiser" data-entity-2="账户管理" data-source-line="11" data-uid="lnk11" id="link_Advertiser_账户管理"><path d="M132.45,369.6094 C147.52,379.1294 164.06,388.8094 180,396.6094 C197.83,405.3294 218.58,412.9794 235.86,418.6994" fill="none" id="Advertiser-账户管理" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="广告活动管理" data-source-line="12" data-uid="lnk13" id="link_Advertiser_广告活动管理"><path d="M98.6,369.8094 C117.16,398.9594 145.9,437.8194 180,462.6094 C193.5,472.4194 210.14,479.7094 225.55,484.9594" fill="none" id="Advertiser-广告活动管理" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ????--><g class="link" data-entity-1="Advertiser" data-entity-2="广告管理" data-source-line="13" data-uid="lnk15" id="link_Advertiser_广告管理"><path d="M86.86,291.2894 C101.16,246.4694 130.48,173.8594 180,130.6094 C193.8,118.5594 212.33,110.7994 229.15,105.8594" fill="none" id="Advertiser-广告管理" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="查看广告数据" data-source-line="14" data-uid="lnk17" id="link_Advertiser_查看广告数据"><path d="M98.6,291.4094 C117.16,262.2594 145.9,223.3994 180,198.6094 C193.5,188.7994 210.14,181.5094 225.55,176.2594" fill="none" id="Advertiser-查看广告数据" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ????--><g class="link" data-entity-1="Advertiser" data-entity-2="财务管理" data-source-line="15" data-uid="lnk19" id="link_Advertiser_财务管理"><path d="M132.45,291.6094 C147.52,282.0894 164.06,272.4094 180,264.6094 C197.83,255.8894 218.58,248.2394 235.86,242.5194" fill="none" id="Advertiser-财务管理" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ????--><g class="link" data-entity-1="Advertiser" data-entity-2="发票管理" data-source-line="16" data-uid="lnk21" id="link_Advertiser_发票管理"><path d="M134.01,320.8394 C163.92,315.8094 199.84,309.7594 227.53,305.0994" fill="none" id="Advertiser-发票管理" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ????--><g class="link" data-entity-1="Admin" data-entity-2="用户登录" data-source-line="18" data-uid="lnk22" id="link_Admin_用户登录"><path d="M86.86,757.2894 C101.16,712.4694 130.48,639.8594 180,596.6094 C193.8,584.5594 212.33,576.7994 229.15,571.8594" fill="none" id="Admin-用户登录" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ????--><g class="link" data-entity-1="Admin" data-entity-2="用户审核" data-source-line="19" data-uid="lnk24" id="link_Admin_用户审核"><path d="M132.45,835.6094 C147.52,845.1294 164.06,854.8094 180,862.6094 C197.83,871.3294 218.58,878.9794 235.86,884.6994" fill="none" id="Admin-用户审核" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ????--><g class="link" data-entity-1="Admin" data-entity-2="广告审核" data-source-line="20" data-uid="lnk26" id="link_Admin_广告审核"><path d="M98.53,835.8994 C117.06,865.0994 145.79,903.9794 180,928.6094 C195.15,939.5194 214.26,947.1394 231.14,952.2894" fill="none" id="Admin-广告审核" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ?????--><g class="link" data-entity-1="Admin" data-entity-2="广告位管理" data-source-line="21" data-uid="lnk28" id="link_Admin_广告位管理"><path d="M87.1,835.9394 C101.55,880.3394 130.92,951.9294 180,994.6094 C192.55,1005.5194 208.97,1012.9194 224.46,1017.8894" fill="none" id="Admin-广告位管理" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ??????--><g class="link" data-entity-1="Admin" data-entity-2="系统数据报表" data-source-line="22" data-uid="lnk30" id="link_Admin_系统数据报表"><path d="M98.6,757.4094 C117.16,728.2594 145.9,689.3994 180,664.6094 C193.5,654.7994 210.14,647.5094 225.55,642.2594" fill="none" id="Admin-系统数据报表" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ????--><g class="link" data-entity-1="Admin" data-entity-2="财务审批" data-source-line="23" data-uid="lnk32" id="link_Admin_财务审批"><path d="M132.45,757.6094 C147.52,748.0894 164.06,738.4094 180,730.6094 C197.83,721.8894 218.58,714.2394 235.86,708.5194" fill="none" id="Admin-财务审批" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ????--><g class="link" data-entity-1="Admin" data-entity-2="发票审批" data-source-line="24" data-uid="lnk34" id="link_Admin_发票审批"><path d="M144,785.1594 C171.75,780.4894 203.06,775.2194 227.76,771.0594" fill="none" id="Admin-发票审批" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ????--><g class="link" data-entity-1="Admin" data-entity-2="系统配置" data-source-line="25" data-uid="lnk36" id="link_Admin_系统配置"><path d="M144,808.0594 C171.75,812.7294 203.06,817.9994 227.76,822.1594" fill="none" id="Admin-系统配置" style="stroke:#181818;stroke-width:1;"></path></g><!--link SystemUser to ????--><g class="link" data-entity-1="SystemUser" data-entity-2="发送通知" data-source-line="27" data-uid="lnk38" id="link_SystemUser_发送通知"><path d="M119.01,1145.9094 C154.85,1133.6594 205.18,1116.4494 238.19,1105.1694" fill="none" id="SystemUser-发送通知" style="stroke:#181818;stroke-width:1;"></path></g><!--link SystemUser to ??????--><g class="link" data-entity-1="SystemUser" data-entity-2="生成统计报表" data-source-line="28" data-uid="lnk40" id="link_SystemUser_生成统计报表"><path d="M119.01,1160.6094 C143.8,1160.6094 175.54,1160.6094 203.67,1160.6094" fill="none" id="SystemUser-生成统计报表" style="stroke:#181818;stroke-width:1;"></path></g><!--link SystemUser to ??????--><g class="link" data-entity-1="SystemUser" data-entity-2="执行定时任务" data-source-line="29" data-uid="lnk42" id="link_SystemUser_执行定时任务"><path d="M119.01,1175.3094 C153.16,1186.9894 200.47,1203.1594 233.4,1214.4194" fill="none" id="SystemUser-执行定时任务" style="stroke:#181818;stroke-width:1;"></path></g><!--SRC=[XP9VIy9G78RlzoaEwyPT-256LqAKKD7rqcK3_y1s2282kr1qAYeebGLhmMfNmvYKChGlitFE_1QTRRhKDe9TR7lUlUVvdREYU041h01PAbn2a9TaCGUbIfc14YoAWC-VYUS0pMpK7QEQYJwgP62wYnPwMZ2Ca8CL6R1ezetwgZjrG8hFNuaob1HHvbWWAE3tUHqcbavwTTH_yCCbgImfK1OeMUVfgoXgEyJHGEhuMe5YAGo4zwUq4EpnsUn1Pfy_oHmTCeolBPGBL9bTE_jMg-K2VnRSC6132QJJ84N7mOqlR9ketkQIC7bqq7mOWxt9cu-3HM9mw80d3bBDVqA966i6UMwjcePZtB5YFLwHgYSlqUqJ8p88EDtdX06t2R9q_3BT9g5CCd7ddKsLg30upt06h1gURcxpS0Y_jZdRgGtyuqZOkQnro3pO5tfj_2AhRvVLksLrH3I3-ul9GCED7ktmQ7iajHF2pNTFRoDhXEy_NOUUfiunjpy0]--></g></svg></p><h3 id="11-核心模块用例图">1.1 核心模块用例图 </h3>
<h4 id="111-用户管理模块-user-management">1.1.1 用户管理模块 (User Management) </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="1163px" preserveAspectRatio="none" style="width:449px;height:1163px;background:#FFFFFF;" version="1.1" viewBox="0 0 449 1163" width="449px" zoomAndPan="magnify"><title>用户管理模块用例图</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="132.8906" x="151.0547" y="24.5332">用户管理模块用例图</text><!--cluster ????--><g class="cluster" data-entity="用户管理" data-source-line="6" data-uid="ent0004" id="cluster_用户管理"><rect fill="none" height="997" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="248" x="195" y="160.9658"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59.0625" x="289.4688" y="177.499">用户管理</text></g><g class="entity" data-entity="UUC01: 注册账户" data-source-line="7" data-uid="ent0005" id="entity_UUC01: 注册账户"><ellipse cx="319.1631" cy="214.9984" fill="#F1F1F1" rx="78.1631" ry="18.0326" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6826" x="262.4896" y="219.2334">UUC01: 注册账户</text></g><g class="entity" data-entity="UUC02: 登录系统" data-source-line="8" data-uid="ent0007" id="entity_UUC02: 登录系统"><ellipse cx="319.1631" cy="729.9984" fill="#F1F1F1" rx="78.1631" ry="18.0326" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6826" x="262.4896" y="734.2334">UUC02: 登录系统</text></g><g class="entity" data-entity="UUC03: 修改个人资料" data-source-line="9" data-uid="ent0009" id="entity_UUC03: 修改个人资料"><ellipse cx="318.8291" cy="288.8316" fill="#F1F1F1" rx="89.8291" ry="20.3658" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.6826" x="249.9877" y="292.5601">UUC03: 修改个人资料</text></g><g class="entity" data-entity="UUC04: 修改密码" data-source-line="10" data-uid="ent0011" id="entity_UUC04: 修改密码"><ellipse cx="319.1631" cy="362.9984" fill="#F1F1F1" rx="78.1631" ry="18.0326" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6826" x="262.4896" y="367.2334">UUC04: 修改密码</text></g><g class="entity" data-entity="UUC05: 查看账户余额" data-source-line="11" data-uid="ent0013" id="entity_UUC05: 查看账户余额"><ellipse cx="318.8291" cy="436.8316" fill="#F1F1F1" rx="89.8291" ry="20.3658" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.6826" x="249.9877" y="440.5601">UUC05: 查看账户余额</text></g><g class="entity" data-entity="UUC06: 查看通知" data-source-line="12" data-uid="ent0015" id="entity_UUC06: 查看通知"><ellipse cx="319.1631" cy="510.9984" fill="#F1F1F1" rx="78.1631" ry="18.0326" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6826" x="262.4896" y="515.2334">UUC06: 查看通知</text></g><g class="entity" data-entity="UUC07: 申请密码重置" data-source-line="13" data-uid="ent0017" id="entity_UUC07: 申请密码重置"><ellipse cx="318.8291" cy="584.8316" fill="#F1F1F1" rx="89.8291" ry="20.3658" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.6826" x="249.9877" y="588.5601">UUC07: 申请密码重置</text></g><g class="entity" data-entity="UUC08: 邮箱验证" data-source-line="14" data-uid="ent0019" id="entity_UUC08: 邮箱验证"><ellipse cx="319.1631" cy="658.9984" fill="#F1F1F1" rx="78.1631" ry="18.0326" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6826" x="262.4896" y="663.2334">UUC08: 邮箱验证</text></g><g class="entity" data-entity="UAC01: 审核用户注册" data-source-line="17" data-uid="ent0022" id="entity_UAC01: 审核用户注册"><ellipse cx="318.9964" cy="1044.7651" fill="#F1F1F1" rx="89.4964" ry="20.2993" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.9102" x="250.5413" y="1048.4936">UAC01: 审核用户注册</text></g><g class="entity" data-entity="UAC02: 管理用户信息" data-source-line="18" data-uid="ent0024" id="entity_UAC02: 管理用户信息"><ellipse cx="318.9964" cy="1120.7651" fill="#F1F1F1" rx="89.4964" ry="20.2993" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.9102" x="250.5413" y="1124.4936">UAC02: 管理用户信息</text></g><g class="entity" data-entity="UAC03: 查看用户列表" data-source-line="19" data-uid="ent0026" id="entity_UAC03: 查看用户列表"><ellipse cx="318.9964" cy="803.7651" fill="#F1F1F1" rx="89.4964" ry="20.2993" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.9102" x="250.5413" y="807.4936">UAC03: 查看用户列表</text></g><g class="entity" data-entity="UAC04: 发送系统通知给用户" data-source-line="20" data-uid="ent0028" id="entity_UAC04: 发送系统通知给用户"><ellipse cx="319.1177" cy="883.9894" fill="#F1F1F1" rx="108.1177" ry="24.0235" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.9102" x="229.6626" y="887.7179">UAC04: 发送系统通知给用户</text></g><g class="entity" data-entity="UAC05: 禁用/启用用户账户" data-source-line="21" data-uid="ent0030" id="entity_UAC05: 禁用/启用用户账户"><ellipse cx="319.0495" cy="966.0757" fill="#F1F1F1" rx="103.5495" ry="23.1099" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.7998" x="234.6496" y="969.8042">UAC05: 禁用/启用用户账户</text></g><!--entity Advertiser--><g class="entity" data-entity="Advertiser" data-source-line="3" data-uid="ent0002" id="entity_Advertiser"><ellipse cx="50" cy="443.4658" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M50,451.4658 L50,478.4658 M37,459.4658 L63,459.4658 M50,478.4658 L37,493.4658 M50,478.4658 L63,493.4658" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="29" y="509.499">广告主</text></g><!--entity Admin--><g class="entity" data-entity="Admin" data-source-line="4" data-uid="ent0003" id="entity_Admin"><ellipse cx="50" cy="894.4658" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M50,902.4658 L50,929.4658 M37,910.4658 L63,910.4658 M50,929.4658 L37,944.4658 M50,929.4658 L63,944.4658" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="29" y="960.499">管理员</text></g><g class="entity" data-entity="UAC01" data-source-line="24" data-uid="ent0032" id="entity_UAC01"><ellipse cx="49.9043" cy="1014.9196" fill="#F1F1F1" rx="43.4043" ry="15.4538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1309" x="26.821" y="1018.8077">UAC01</text></g><g class="entity" data-entity="UAC04" data-source-line="24" data-uid="ent0033" id="entity_UAC04"><ellipse cx="49.9043" cy="1098.9196" fill="#F1F1F1" rx="43.4043" ry="15.4538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1309" x="26.821" y="1102.8077">UAC04</text></g><g class="entity" data-entity="UAC02" data-source-line="25" data-uid="ent0035" id="entity_UAC02"><ellipse cx="49.9043" cy="128.9196" fill="#F1F1F1" rx="43.4043" ry="15.4538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1309" x="26.821" y="132.8077">UAC02</text></g><g class="entity" data-entity="UAC03" data-source-line="25" data-uid="ent0036" id="entity_UAC03"><ellipse cx="318.9043" cy="128.9196" fill="#F1F1F1" rx="43.4043" ry="15.4538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1309" x="295.821" y="132.8077">UAC03</text></g><g class="entity" data-entity="UUC01" data-source-line="26" data-uid="ent0038" id="entity_UUC01"><ellipse cx="49.9556" cy="62.9211" fill="#F1F1F1" rx="43.9556" ry="15.4553" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.9033" x="26.3091" y="66.861">UUC01</text></g><g class="entity" data-entity="UUC08" data-source-line="26" data-uid="ent0039" id="entity_UUC08"><ellipse cx="318.9556" cy="62.9211" fill="#F1F1F1" rx="43.9556" ry="15.4553" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.9033" x="295.3091" y="66.861">UUC08</text></g><!--link Advertiser to UUC01: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="UUC01: 注册账户" data-source-line="7" data-uid="lnk6" id="link_Advertiser_UUC01: 注册账户"><path d="M63.1,434.5558 C81.13,383.0558 120.28,294.3558 187,250.9658 C206.57,238.2358 230.6,229.9658 252.71,224.6158" fill="none" id="Advertiser-UUC01: 注册账户" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to UUC02: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="UUC02: 登录系统" data-source-line="8" data-uid="lnk8" id="link_Advertiser_UUC02: 登录系统"><path d="M62.73,513.0858 C80.46,564.6258 119.38,653.5558 187,694.9658 C206.87,707.1358 230.97,715.1258 253.05,720.3558" fill="none" id="Advertiser-UUC02: 登录系统" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to UUC03: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="UUC03: 修改个人资料" data-source-line="9" data-uid="lnk10" id="link_Advertiser_UUC03: 修改个人资料"><path d="M71.02,443.4958 C94.71,409.8858 137.28,356.6158 187,326.9658 C205.81,315.7458 228.13,307.6758 248.97,301.9358" fill="none" id="Advertiser-UUC03: 修改个人资料" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to UUC04: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="UUC04: 修改密码" data-source-line="10" data-uid="lnk12" id="link_Advertiser_UUC04: 修改密码"><path d="M71.44,460.6858 C97.41,444.2858 144.04,416.4258 187,398.9658 C210.93,389.2358 238.35,381.2458 261.9,375.2858" fill="none" id="Advertiser-UUC04: 修改密码" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to UUC05: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="UUC05: 查看账户余额" data-source-line="11" data-uid="lnk14" id="link_Advertiser_UUC05: 查看账户余额"><path d="M71.07,471.1858 C106.85,466.2258 183.37,455.6258 241.81,447.5258" fill="none" id="Advertiser-UUC05: 查看账户余额" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to UUC06: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="UUC06: 查看通知" data-source-line="12" data-uid="lnk16" id="link_Advertiser_UUC06: 查看通知"><path d="M71.07,476.7458 C108.91,481.9858 192.32,493.5458 251.72,501.7858" fill="none" id="Advertiser-UUC06: 查看通知" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to UUC07: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="UUC07: 申请密码重置" data-source-line="13" data-uid="lnk18" id="link_Advertiser_UUC07: 申请密码重置"><path d="M71.08,486.4858 C97.06,502.2658 144.08,529.4458 187,546.9658 C209.25,556.0458 234.45,563.9058 256.77,570.0758" fill="none" id="Advertiser-UUC07: 申请密码重置" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to UUC08: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="UUC08: 邮箱验证" data-source-line="14" data-uid="lnk20" id="link_Advertiser_UUC08: 邮箱验证"><path d="M71.01,504.6958 C94.7,538.6358 137.27,592.5058 187,622.9658 C207.21,635.3458 231.75,643.5558 254.09,648.9558" fill="none" id="Advertiser-UUC08: 邮箱验证" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to UUC02: ????--><g class="link" data-entity-1="Admin" data-entity-2="UUC02: 登录系统" data-source-line="16" data-uid="lnk21" id="link_Admin_UUC02: 登录系统"><path d="M71.17,890.5058 C94.42,853.9258 136.04,797.1758 187,765.9658 C207.21,753.5858 231.75,745.3758 254.09,739.9758" fill="none" id="Admin-UUC02: 登录系统" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to UAC01: ??????--><g class="link" data-entity-1="Admin" data-entity-2="UAC01: 审核用户注册" data-source-line="17" data-uid="lnk23" id="link_Admin_UAC01: 审核用户注册"><path d="M71.29,939.5158 C97.1,957.4758 143.55,987.9558 187,1006.9658 C208.69,1016.4558 233.43,1024.3358 255.52,1030.4058" fill="none" id="Admin-UAC01: 审核用户注册" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to UAC02: ??????--><g class="link" data-entity-1="Admin" data-entity-2="UAC02: 管理用户信息" data-source-line="18" data-uid="lnk25" id="link_Admin_UAC02: 管理用户信息"><path d="M71.07,951.8158 C101.62,992.0158 159.14,1065.0658 187,1082.9658 C205.13,1094.6158 226.92,1102.7858 247.48,1108.4758" fill="none" id="Admin-UAC02: 管理用户信息" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to UAC03: ??????--><g class="link" data-entity-1="Admin" data-entity-2="UAC03: 查看用户列表" data-source-line="19" data-uid="lnk27" id="link_Admin_UAC03: 查看用户列表"><path d="M71.31,910.4658 C97.14,892.5558 143.62,862.1258 187,842.9658 C209.03,833.2358 234.19,825.0858 256.52,818.7958" fill="none" id="Admin-UAC03: 查看用户列表" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to UAC04: ?????????--><g class="link" data-entity-1="Admin" data-entity-2="UAC04: 发送系统通知给用户" data-source-line="20" data-uid="lnk29" id="link_Admin_UAC04: 发送系统通知给用户"><path d="M71.07,921.8858 C104.42,916.7658 173.18,906.2058 229.69,897.5258" fill="none" id="Admin-UAC04: 发送系统通知给用户" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to UAC05: ??/??????--><g class="link" data-entity-1="Admin" data-entity-2="UAC05: 禁用/启用用户账户" data-source-line="21" data-uid="lnk31" id="link_Admin_UAC05: 禁用/启用用户账户"><path d="M71.07,928.0458 C105.15,933.2758 176.2,944.1958 233.37,952.9658" fill="none" id="Admin-UAC05: 禁用/启用用户账户" style="stroke:#181818;stroke-width:1;"></path></g><!--link UAC01 to UAC04--><g class="link" data-entity-1="UAC01" data-entity-2="UAC04" data-source-line="24" data-uid="lnk34" id="link_UAC01_UAC04"><path d="M50,1030.6958 C50,1045.6858 50,1062.1458 50,1077.1658" fill="none" id="UAC01-to-UAC04" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="50,1083.1658,54,1074.1658,50,1078.1658,46,1074.1658,50,1083.1658" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6563" x="10.5" y="1062.4609">«include»</text></g><!--link UAC02 to UAC03--><g class="link" data-entity-1="UAC02" data-entity-2="UAC03" data-source-line="25" data-uid="lnk37" id="link_UAC02_UAC03"><path d="M93.6,128.9658 C143.37,128.9658 219.22,128.9658 269.11,128.9658" fill="none" id="UAC02-to-UAC03" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="275.11,128.9658,266.11,124.9658,270.11,128.9658,266.11,132.9658,275.11,128.9658" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.4917" x="125" y="125.4609">«extend»</text></g><!--link UUC01 to UUC08--><g class="link" data-entity-1="UUC01" data-entity-2="UUC08" data-source-line="26" data-uid="lnk40" id="link_UUC01_UUC08"><path d="M94.19,62.9658 C143.93,62.9658 219.16,62.9658 268.87,62.9658" fill="none" id="UUC01-to-UUC08" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="274.87,62.9658,265.87,58.9658,269.87,62.9658,265.87,66.9658,274.87,62.9658" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.4917" x="125" y="59.4609">«extend»</text></g><!--SRC=[VTBVIi9G70Vm-pt53w_omlve_nWYIC_W0uWk6zY4UOeW0eqmIIC5own45oZYnKPO-6UeBxEpixr5nnqNXgshmSvdlp_VCoIYj02arZEBGw8gf58mUmfkrkaROrR2hpCkBHmZG1cGnTG9WgGe2maaPYGkda0P6NnuFCVLEsEa-o2UXMZoN92Hc1LazvmLnTNdvVcfA77SeaPSIj7EljNMFhZaOAK610Am4OiTRU_mO0vwk52sFhjK-_zMGHv8GyVJHpBGYTxoK24UZBbgriR6g6zC9jRNZVdKyB2xhiLQWRJp7cgFJjVgaBSIcywODkptfeVTTwsTUo6jZeSwe9lK1fOsP7tjstioLJti8G_sjKhK3xjVjZGweyDepF_dyWEYJhnOLSpsY5q6YtgTBUeuzyIOCLVClBREGkwAZE5YtL9wwuncYn-gTYxFfc9v4Bt1lbhtD6NIpTFJBLpHw8CvzuUuuZYsYXys8yi6Vk0X71QbHFeiAKGY30GfS4M82U422LBI0J5MmG6BR7-3Rm00]--></g></svg></p><h4 id="112-广告管理模块-advertisement-management">1.1.2 广告管理模块 (Advertisement Management) </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="1403px" preserveAspectRatio="none" style="width:464px;height:1403px;background:#FFFFFF;" version="1.1" viewBox="0 0 464 1403" width="464px" zoomAndPan="magnify"><title>广告管理模块用例图</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="132.8906" x="158.5547" y="24.5332">广告管理模块用例图</text><!--cluster ????--><g class="cluster" data-entity="广告管理" data-source-line="6" data-uid="ent0004" id="cluster_广告管理"><rect fill="none" height="1170" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="248" x="210" y="227.9658"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59.0625" x="304.4688" y="244.499">广告管理</text></g><g class="entity" data-entity="ADUC01: 创建广告活动" data-source-line="7" data-uid="ent0005" id="entity_ADUC01: 创建广告活动"><ellipse cx="333.8842" cy="285.1427" fill="#F1F1F1" rx="93.8842" ry="21.1768" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0205" x="260.374" y="288.8712">ADUC01: 创建广告活动</text></g><g class="entity" data-entity="ADUC02: 管理广告活动" data-source-line="8" data-uid="ent0007" id="entity_ADUC02: 管理广告活动"><ellipse cx="333.8842" cy="362.1427" fill="#F1F1F1" rx="93.8842" ry="21.1768" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0205" x="260.374" y="365.8712">ADUC02: 管理广告活动</text></g><g class="entity" data-entity="ADUC03: 创建广告" data-source-line="9" data-uid="ent0009" id="entity_ADUC03: 创建广告"><ellipse cx="333.9287" cy="436.7516" fill="#F1F1F1" rx="81.9287" ry="18.7857" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.0205" x="274.2529" y="440.5294">ADUC03: 创建广告</text></g><g class="entity" data-entity="ADUC04: 编辑广告内容" data-source-line="10" data-uid="ent0011" id="entity_ADUC04: 编辑广告内容"><ellipse cx="333.8842" cy="512.1427" fill="#F1F1F1" rx="93.8842" ry="21.1768" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0205" x="260.374" y="515.8712">ADUC04: 编辑广告内容</text></g><g class="entity" data-entity="ADUC05: 提交广告审核" data-source-line="11" data-uid="ent0013" id="entity_ADUC05: 提交广告审核"><ellipse cx="333.8842" cy="589.1427" fill="#F1F1F1" rx="93.8842" ry="21.1768" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0205" x="260.374" y="592.8712">ADUC05: 提交广告审核</text></g><g class="entity" data-entity="ADUC06: 查看广告状态" data-source-line="12" data-uid="ent0015" id="entity_ADUC06: 查看广告状态"><ellipse cx="333.8842" cy="666.1427" fill="#F1F1F1" rx="93.8842" ry="21.1768" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0205" x="260.374" y="669.8712">ADUC06: 查看广告状态</text></g><g class="entity" data-entity="ADUC07: 查看广告数据" data-source-line="13" data-uid="ent0017" id="entity_ADUC07: 查看广告数据"><ellipse cx="333.8842" cy="743.1427" fill="#F1F1F1" rx="93.8842" ry="21.1768" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0205" x="260.374" y="746.8712">ADUC07: 查看广告数据</text></g><g class="entity" data-entity="ADUC08: 上传广告素材" data-source-line="14" data-uid="ent0019" id="entity_ADUC08: 上传广告素材"><ellipse cx="333.8842" cy="820.1427" fill="#F1F1F1" rx="93.8842" ry="21.1768" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0205" x="260.374" y="823.8712">ADUC08: 上传广告素材</text></g><g class="entity" data-entity="ADUC09: 暂停/启动广告" data-source-line="15" data-uid="ent0021" id="entity_ADUC09: 暂停/启动广告"><ellipse cx="334.0905" cy="897.9839" fill="#F1F1F1" rx="95.5905" ry="21.5181" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.9102" x="258.6354" y="901.7124">ADUC09: 暂停/启动广告</text></g><g class="entity" data-entity="ADUC10: 复制广告" data-source-line="16" data-uid="ent0023" id="entity_ADUC10: 复制广告"><ellipse cx="333.9287" cy="973.7516" fill="#F1F1F1" rx="81.9287" ry="18.7857" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.0205" x="274.2529" y="977.5294">ADUC10: 复制广告</text></g><g class="entity" data-entity="ADAC01: 审核广告内容" data-source-line="18" data-uid="ent0025" id="entity_ADAC01: 审核广告内容"><ellipse cx="334.0465" cy="1049.0751" fill="#F1F1F1" rx="93.5465" ry="21.1093" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.248" x="260.9225" y="1052.8036">ADAC01: 审核广告内容</text></g><g class="entity" data-entity="ADAC02: 管理广告位" data-source-line="19" data-uid="ent0027" id="entity_ADAC02: 管理广告位"><ellipse cx="333.9982" cy="1124.8655" fill="#F1F1F1" rx="87.4982" ry="19.8996" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.248" x="267.8741" y="1128.594">ADAC02: 管理广告位</text></g><g class="entity" data-entity="ADAC03: 查看所有广告" data-source-line="20" data-uid="ent0029" id="entity_ADAC03: 查看所有广告"><ellipse cx="334.0465" cy="1201.0751" fill="#F1F1F1" rx="93.5465" ry="21.1093" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.248" x="260.9225" y="1204.8036">ADAC03: 查看所有广告</text></g><g class="entity" data-entity="ADAC04: 设置广告参数" data-source-line="21" data-uid="ent0031" id="entity_ADAC04: 设置广告参数"><ellipse cx="334.0465" cy="1278.0751" fill="#F1F1F1" rx="93.5465" ry="21.1093" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.248" x="260.9225" y="1281.8036">ADAC04: 设置广告参数</text></g><g class="entity" data-entity="ADAC05: 管理广告分类/标签" data-source-line="22" data-uid="ent0033" id="entity_ADAC05: 管理广告分类/标签"><ellipse cx="333.7671" cy="1357.9192" fill="#F1F1F1" rx="107.7671" ry="23.9534" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1377" x="244.6983" y="1361.6478">ADAC05: 管理广告分类/标签</text></g><!--entity Advertiser--><g class="entity" data-entity="Advertiser" data-source-line="3" data-uid="ent0002" id="entity_Advertiser"><ellipse cx="56.5" cy="585.4658" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M56.5,593.4658 L56.5,620.4658 M43.5,601.4658 L69.5,601.4658 M56.5,620.4658 L43.5,635.4658 M56.5,620.4658 L69.5,635.4658" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="35.5" y="651.499">广告主</text></g><!--entity Admin--><g class="entity" data-entity="Admin" data-source-line="4" data-uid="ent0003" id="entity_Admin"><ellipse cx="56.5" cy="1170.4658" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M56.5,1178.4658 L56.5,1205.4658 M43.5,1186.4658 L69.5,1186.4658 M56.5,1205.4658 L43.5,1220.4658 M56.5,1205.4658 L69.5,1220.4658" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="35.5" y="1236.499">管理员</text></g><g class="entity" data-entity="ADUC03" data-source-line="25" data-uid="ent0035" id="entity_ADUC03"><ellipse cx="56.7428" cy="162.9689" fill="#F1F1F1" rx="50.7428" ry="15.503" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2412" x="26.1222" y="167.4855">ADUC03</text></g><g class="entity" data-entity="ADUC01" data-source-line="25" data-uid="ent0036" id="entity_ADUC01"><ellipse cx="334.2428" cy="129.9689" fill="#F1F1F1" rx="50.7428" ry="15.503" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2412" x="303.6222" y="134.4855">ADUC01</text></g><g class="entity" data-entity="ADUC05" data-source-line="26" data-uid="ent0038" id="entity_ADUC05"><ellipse cx="56.7428" cy="1290.9689" fill="#F1F1F1" rx="50.7428" ry="15.503" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2412" x="26.1222" y="1295.4855">ADUC05</text></g><g class="entity" data-entity="ADAC01" data-source-line="26" data-uid="ent0039" id="entity_ADAC01"><ellipse cx="56.6726" cy="1374.9631" fill="#F1F1F1" rx="50.1726" ry="15.4973" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4688" x="26.5914" y="1379.4458">ADAC01</text></g><g class="entity" data-entity="ADUC07" data-source-line="27" data-uid="ent0041" id="entity_ADUC07"><ellipse cx="56.7428" cy="62.9689" fill="#F1F1F1" rx="50.7428" ry="15.503" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2412" x="26.1222" y="67.4855">ADUC07</text></g><g class="entity" data-entity="生成数据报表" data-source-line="27" data-uid="ent0042" id="entity_生成数据报表"><ellipse cx="333.7688" cy="63.1196" fill="#F1F1F1" rx="68.7688" ry="16.1538" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="288.7688" y="67.6362">生成数据报表</text></g><g class="entity" data-entity="ADUC08" data-source-line="28" data-uid="ent0044" id="entity_ADUC08"><ellipse cx="334.2428" cy="195.9689" fill="#F1F1F1" rx="50.7428" ry="15.503" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2412" x="303.6222" y="200.4855">ADUC08</text></g><!--link Advertiser to ADUC01: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC01: 创建广告活动" data-source-line="7" data-uid="lnk6" id="link_Advertiser_ADUC01: 创建广告活动"><path d="M64.17,576.8458 C77.52,511.8058 114.18,382.6958 202,322.9658 C218.94,311.4458 239.39,303.3758 259.04,297.7358" fill="none" id="Advertiser-ADUC01: 创建广告活动" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC02: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC02: 管理广告活动" data-source-line="8" data-uid="lnk8" id="link_Advertiser_ADUC02: 管理广告活动"><path d="M72.09,576.6358 C92.8,526.7258 135.75,442.0758 202,399.9658 C219.59,388.7858 240.56,380.8058 260.52,375.1358" fill="none" id="Advertiser-ADUC02: 管理广告活动" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC03: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC03: 创建广告" data-source-line="9" data-uid="lnk10" id="link_Advertiser_ADUC03: 创建广告"><path d="M77.65,588.8458 C103.1,556.5158 149.9,503.0858 202,472.9658 C221.81,461.5158 245.41,453.5758 267.09,448.1258" fill="none" id="Advertiser-ADUC03: 创建广告" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC04: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC04: 编辑广告内容" data-source-line="10" data-uid="lnk12" id="link_Advertiser_ADUC04: 编辑广告内容"><path d="M77.68,605.6058 C105.26,591.7158 156.49,566.8558 202,549.9658 C224.42,541.6458 249.54,533.9758 271.74,527.7358" fill="none" id="Advertiser-ADUC04: 编辑广告内容" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC05: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC05: 提交广告审核" data-source-line="11" data-uid="lnk14" id="link_Advertiser_ADUC05: 提交广告审核"><path d="M77.76,613.9758 C113.11,610.5158 187.98,603.1758 247.54,597.3458" fill="none" id="Advertiser-ADUC05: 提交广告审核" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC06: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC06: 查看广告状态" data-source-line="12" data-uid="lnk16" id="link_Advertiser_ADUC06: 查看广告状态"><path d="M77.76,619.6458 C115.72,626.5358 199.25,641.6958 260.46,652.7958" fill="none" id="Advertiser-ADUC06: 查看广告状态" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC07: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC07: 查看广告数据" data-source-line="13" data-uid="lnk18" id="link_Advertiser_ADUC07: 查看广告数据"><path d="M77.59,630.7858 C104.65,650.1558 154.86,684.0758 202,704.9658 C222.89,714.2258 246.65,721.9058 268.14,727.8758" fill="none" id="Advertiser-ADUC07: 查看广告数据" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC08: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC08: 上传广告素材" data-source-line="14" data-uid="lnk20" id="link_Advertiser_ADUC08: 上传广告素材"><path d="M77.52,648.8458 C102.18,686.5658 147.55,747.6158 202,781.9658 C219.62,793.0858 240.61,801.0458 260.57,806.7158" fill="none" id="Advertiser-ADUC08: 上传广告素材" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC09: ??/????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC09: 暂停/启动广告" data-source-line="15" data-uid="lnk22" id="link_Advertiser_ADUC09: 暂停/启动广告"><path d="M68.71,655.2358 C86.81,710.8058 128.13,810.9558 202,858.9658 C219.41,870.2758 240.22,878.4158 260.08,884.2258" fill="none" id="Advertiser-ADUC09: 暂停/启动广告" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to ADUC10: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="ADUC10: 复制广告" data-source-line="16" data-uid="lnk24" id="link_Advertiser_ADUC10: 复制广告"><path d="M61.82,655.1858 C71.94,725.8558 104.28,873.1158 202,936.9658 C221.09,949.4458 244.4,957.7658 266.04,963.3058" fill="none" id="Advertiser-ADUC10: 复制广告" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ADAC01: ??????--><g class="link" data-entity-1="Admin" data-entity-2="ADAC01: 审核广告内容" data-source-line="18" data-uid="lnk26" id="link_Admin_ADAC01: 审核广告内容"><path d="M77.78,1181.0058 C104.26,1155.9558 153.04,1113.2358 202,1087.9658 C222.03,1077.6258 245.24,1069.5858 266.5,1063.5658" fill="none" id="Admin-ADAC01: 审核广告内容" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ADAC02: ?????--><g class="link" data-entity-1="Admin" data-entity-2="ADAC02: 管理广告位" data-source-line="19" data-uid="lnk28" id="link_Admin_ADAC02: 管理广告位"><path d="M77.64,1193.9658 C93.65,1188.5058 116.64,1180.8858 137,1174.9658 C182.19,1161.8258 233.77,1148.7458 272.67,1139.2558" fill="none" id="Admin-ADAC02: 管理广告位" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ADAC03: ??????--><g class="link" data-entity-1="Admin" data-entity-2="ADAC03: 查看所有广告" data-source-line="20" data-uid="lnk30" id="link_Admin_ADAC03: 查看所有广告"><path d="M77.76,1200.9658 C111.68,1200.9658 182,1200.9658 240.25,1200.9658" fill="none" id="Admin-ADAC03: 查看所有广告" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ADAC04: ??????--><g class="link" data-entity-1="Admin" data-entity-2="ADAC04: 设置广告参数" data-source-line="21" data-uid="lnk32" id="link_Admin_ADAC04: 设置广告参数"><path d="M77.76,1206.6258 C118.77,1218.0858 212.94,1244.4158 274.72,1261.6758" fill="none" id="Admin-ADAC04: 设置广告参数" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to ADAC05: ??????/??--><g class="link" data-entity-1="Admin" data-entity-2="ADAC05: 管理广告分类/标签" data-source-line="22" data-uid="lnk34" id="link_Admin_ADAC05: 管理广告分类/标签"><path d="M77.73,1221.3858 C104.17,1247.0058 152.89,1290.7758 202,1316.9658 C219.98,1326.5558 240.56,1334.3058 260,1340.3858" fill="none" id="Admin-ADAC05: 管理广告分类/标签" style="stroke:#181818;stroke-width:1;"></path></g><!--link ADUC03 to ADUC01--><g class="link" data-entity-1="ADUC03" data-entity-2="ADUC01" data-source-line="25" data-uid="lnk37" id="link_ADUC03_ADUC01"><path d="M103.92,157.4058 C154.68,151.3258 217.6778,143.7767 268.5178,137.6867" fill="none" id="ADUC03-to-ADUC01" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="286.39,135.5458,267.8041,131.7293,269.2314,143.6441,286.39,135.5458" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.5317" x="143" y="144.4609">extends</text></g><!--link ADUC05 to ADAC01--><g class="link" data-entity-1="ADUC05" data-entity-2="ADAC01" data-source-line="26" data-uid="lnk40" id="link_ADUC05_ADAC01"><path d="M56.5,1306.6958 C56.5,1321.6858 56.5,1338.1458 56.5,1353.1658" fill="none" id="ADUC05-to-ADAC01" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="56.5,1359.1658,60.5,1350.1658,56.5,1354.1658,52.5,1350.1658,56.5,1359.1658" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43.3481" x="23" y="1338.4609">triggers</text></g><!--link ADUC07 to ??????--><g class="link" data-entity-1="ADUC07" data-entity-2="生成数据报表" data-source-line="27" data-uid="lnk43" id="link_ADUC07_生成数据报表"><path d="M107.07,62.9658 C151.15,62.9658 210,62.9658 258.93,62.9658" fill="none" id="ADUC07-to-生成数据报表" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="264.93,62.9658,255.93,58.9658,259.93,62.9658,255.93,66.9658,264.93,62.9658" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.4917" x="139" y="59.4609">«extend»</text></g><!--link ADUC03 to ADUC08--><g class="link" data-entity-1="ADUC03" data-entity-2="ADUC08" data-source-line="28" data-uid="lnk45" id="link_ADUC03_ADUC08"><path d="M96.95,172.4558 C109.67,175.2258 123.87,178.0358 137,179.9658 C186.65,187.2658 237.9195,191.1282 277.6695,193.3682" fill="none" id="ADUC03-to-ADUC08" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="283.66,193.7058,274.8993,189.2058,278.6679,193.4245,274.4492,197.1931,283.66,193.7058" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6563" x="138" y="176.4609">«include»</text></g><!--SRC=[ZTF_Ii9G50Vm__SK1_zgVsG_pHeoa7g57a3qPWERC6yHL512PXDnGhz89OK2_saLY6ZgUfdTEn-ZgxiZLotw-tpkz-oUSuSLd450-X-agZjcop4AjDqYZLldgcrR9LApX0pQmO2pe2dfNGmfHKD9h6HL8P74MGr2xb6xDmX18WVnr07Ii993cbTtGqdrZjVt55KG9Xa9DSqwXsPRX-18W9aCc9-7kVZMzkRYaWIaM2E3TvVJpe3eRJ40Bql0k_u3h_YJWzWgonpUZAsgoqZXd9Zz81oHW5OC-_sHOxD5cxqWlCRmmvDJB_59w5rwUXQ4etvChrzfsGp2wnBOFTqUDdbofqaRHX3UOCdtUN9MNo362vlNd-DOMcHJUooJOjTZKyTsoqdSNTdquZydvdFVjcMFoh-W5U_UzFAKrYzdFyxds9h6fkMCJDwqacSZ-iL5_4r9iU2y3HPeyy9vjaJXH13uun3PaMFPUuGYI80ECL9JEGuY8eHbxyAJCcQ_IHffNZtAwXFWN3tGek6kY-fFurPxWcCnDqsMl_g5mrwxTPSeQZApdqAo_0a0]--></g></svg></p><h4 id="113-财务与发票管理模块-finance--invoice-management">1.1.3 财务与发票管理模块 (Finance &amp; Invoice Management) </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="1235px" preserveAspectRatio="none" style="width:608px;height:1235px;background:#FFFFFF;" version="1.1" viewBox="0 0 608 1235" width="608px" zoomAndPan="magnify"><title>财务与发票管理模块用例图</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="177.1875" x="208.4063" y="24.5332">财务与发票管理模块用例图</text><!--cluster ???????--><g class="cluster" data-entity="财务与发票管理" data-source-line="6" data-uid="ent0004" id="cluster_财务与发票管理"><rect fill="none" height="1085" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="238" x="364" y="94.9658"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="103.3594" x="431.3203" y="111.499">财务与发票管理</text></g><g class="entity" data-entity="FIUC01: 账户充值" data-source-line="7" data-uid="ent0005" id="entity_FIUC01: 账户充值"><ellipse cx="483.0839" cy="149.1826" fill="#F1F1F1" rx="79.0839" ry="18.2168" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0137" x="425.6762" y="153.3058">FIUC01: 账户充值</text></g><g class="entity" data-entity="FIUC02: 查看交易记录" data-source-line="8" data-uid="ent0007" id="entity_FIUC02: 查看交易记录"><ellipse cx="482.8357" cy="223.033" fill="#F1F1F1" rx="90.8357" ry="20.5671" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.0137" x="412.8288" y="226.7615">FIUC02: 查看交易记录</text></g><g class="entity" data-entity="FIUC03: 申请发票" data-source-line="9" data-uid="ent0009" id="entity_FIUC03: 申请发票"><ellipse cx="483.0839" cy="297.1826" fill="#F1F1F1" rx="79.0839" ry="18.2168" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0137" x="425.6762" y="301.3058">FIUC03: 申请发票</text></g><g class="entity" data-entity="FIUC04: 管理发票信息" data-source-line="10" data-uid="ent0011" id="entity_FIUC04: 管理发票信息"><ellipse cx="482.8357" cy="371.033" fill="#F1F1F1" rx="90.8357" ry="20.5671" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.0137" x="412.8288" y="374.7615">FIUC04: 管理发票信息</text></g><g class="entity" data-entity="FIUC05: 查看发票状态" data-source-line="11" data-uid="ent0013" id="entity_FIUC05: 查看发票状态"><ellipse cx="482.8357" cy="447.033" fill="#F1F1F1" rx="90.8357" ry="20.5671" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.0137" x="412.8288" y="450.7615">FIUC05: 查看发票状态</text></g><g class="entity" data-entity="FIUC06: 取消发票申请" data-source-line="12" data-uid="ent0015" id="entity_FIUC06: 取消发票申请"><ellipse cx="482.8357" cy="523.033" fill="#F1F1F1" rx="90.8357" ry="20.5671" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.0137" x="412.8288" y="526.7615">FIUC06: 取消发票申请</text></g><g class="entity" data-entity="FIUC07: 下载电子发票" data-source-line="13" data-uid="ent0017" id="entity_FIUC07: 下载电子发票"><ellipse cx="482.8357" cy="599.033" fill="#F1F1F1" rx="90.8357" ry="20.5671" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.0137" x="412.8288" y="602.7615">FIUC07: 下载电子发票</text></g><g class="entity" data-entity="FIUC08: 设置默认发票抬头" data-source-line="14" data-uid="ent0019" id="entity_FIUC08: 设置默认发票抬头"><ellipse cx="483.1963" cy="678.0051" fill="#F1F1F1" rx="103.1963" ry="23.0393" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.0137" x="399.1894" y="681.7336">FIUC08: 设置默认发票抬头</text></g><g class="entity" data-entity="FIAC01: 审核充值记录" data-source-line="16" data-uid="ent0021" id="entity_FIAC01: 审核充值记录"><ellipse cx="483.0017" cy="756.9662" fill="#F1F1F1" rx="90.5017" ry="20.5003" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2412" x="413.381" y="760.6947">FIAC01: 审核充值记录</text></g><g class="entity" data-entity="FIAC02: 处理发票申请" data-source-line="17" data-uid="ent0023" id="entity_FIAC02: 处理发票申请"><ellipse cx="483.0017" cy="832.9662" fill="#F1F1F1" rx="90.5017" ry="20.5003" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2412" x="413.381" y="836.6947">FIAC02: 处理发票申请</text></g><g class="entity" data-entity="FIAC03: 标记发票状态" data-source-line="18" data-uid="ent0025" id="entity_FIAC03: 标记发票状态"><ellipse cx="483.0017" cy="908.9662" fill="#F1F1F1" rx="90.5017" ry="20.5003" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2412" x="413.381" y="912.6947">FIAC03: 标记发票状态</text></g><g class="entity" data-entity="FIAC04: 查看系统财务报表" data-source-line="19" data-uid="ent0027" id="entity_FIAC04: 查看系统财务报表"><ellipse cx="482.8495" cy="987.9357" fill="#F1F1F1" rx="102.8495" ry="22.9699" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.2412" x="399.2289" y="991.6642">FIAC04: 查看系统财务报表</text></g><g class="entity" data-entity="FIAC05: 导出交易数据" data-source-line="20" data-uid="ent0029" id="entity_FIAC05: 导出交易数据"><ellipse cx="483.0017" cy="1066.9662" fill="#F1F1F1" rx="90.5017" ry="20.5003" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2412" x="413.381" y="1070.6947">FIAC05: 导出交易数据</text></g><g class="entity" data-entity="FIAC06: 处理退款申请" data-source-line="21" data-uid="ent0031" id="entity_FIAC06: 处理退款申请"><ellipse cx="483.0017" cy="1142.9662" fill="#F1F1F1" rx="90.5017" ry="20.5003" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.2412" x="413.381" y="1146.6947">FIAC06: 处理退款申请</text></g><!--entity Advertiser--><g class="entity" data-entity="Advertiser" data-source-line="3" data-uid="ent0002" id="entity_Advertiser"><ellipse cx="51.5" cy="378.4658" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M51.5,386.4658 L51.5,413.4658 M38.5,394.4658 L64.5,394.4658 M51.5,413.4658 L38.5,428.4658 M51.5,413.4658 L64.5,428.4658" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="30.5" y="444.499">广告主</text></g><!--entity Admin--><g class="entity" data-entity="Admin" data-source-line="4" data-uid="ent0003" id="entity_Admin"><ellipse cx="51.5" cy="927.4658" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M51.5,935.4658 L51.5,962.4658 M38.5,943.4658 L64.5,943.4658 M51.5,962.4658 L38.5,977.4658 M51.5,962.4658 L64.5,977.4658" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="30.5" y="993.499">管理员</text></g><g class="entity" data-entity="FIUC03" data-source-line="24" data-uid="ent0033" id="entity_FIUC03"><ellipse cx="51.6286" cy="62.9282" fill="#F1F1F1" rx="45.6286" ry="15.4624" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.2344" x="26.2644" y="67.0213">FIUC03</text></g><g class="entity" data-entity="FIUC04" data-source-line="24" data-uid="ent0034" id="entity_FIUC04"><ellipse cx="483.1286" cy="62.9282" fill="#F1F1F1" rx="45.6286" ry="15.4624" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.2344" x="457.7644" y="67.0213">FIUC04</text></g><g class="entity" data-entity="FIAC02" data-source-line="25" data-uid="ent0036" id="entity_FIAC02"><ellipse cx="51.5727" cy="1129.9255" fill="#F1F1F1" rx="45.0727" ry="15.4596" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4619" x="26.7806" y="1133.9682">FIAC02</text></g><g class="entity" data-entity="FIAC03" data-source-line="25" data-uid="ent0037" id="entity_FIAC03"><ellipse cx="51.5727" cy="1213.9255" fill="#F1F1F1" rx="45.0727" ry="15.4596" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4619" x="26.7806" y="1217.9682">FIAC03</text></g><g class="entity" data-entity="FIUC07" data-source-line="26" data-uid="ent0039" id="entity_FIUC07"><ellipse cx="483.1286" cy="1213.9282" fill="#F1F1F1" rx="45.6286" ry="15.4624" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.2344" x="457.7644" y="1218.0213">FIUC07</text></g><!--link Advertiser to FIUC01: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="FIUC01: 账户充值" data-source-line="7" data-uid="lnk6" id="link_Advertiser_FIUC01: 账户充值"><path d="M61.14,369.8558 C71.07,333.9358 90.86,281.7358 127,250.9658 C206.09,183.6158 327.24,160.6558 405.55,152.8858" fill="none" id="Advertiser-FIUC01: 账户充值" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to FIUC02: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="FIUC02: 查看交易记录" data-source-line="8" data-uid="lnk8" id="link_Advertiser_FIUC02: 查看交易记录"><path d="M72.69,373.3358 C85.75,353.3758 104.49,329.6258 127,314.9658 C209.17,261.4758 320.95,239.0458 396.97,229.6658" fill="none" id="Advertiser-FIUC02: 查看交易记录" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to FIUC03: ????--><g class="link" data-entity-1="Advertiser" data-entity-2="FIUC03: 申请发票" data-source-line="9" data-uid="lnk10" id="link_Advertiser_FIUC03: 申请发票"><path d="M72.52,395.3458 C87.05,386.0558 107.5,374.1758 127,366.9658 C221.72,331.9558 337.46,313.3158 410.47,304.2858" fill="none" id="Advertiser-FIUC03: 申请发票" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to FIUC04: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="FIUC04: 管理发票信息" data-source-line="10" data-uid="lnk12" id="link_Advertiser_FIUC04: 管理发票信息"><path d="M72.64,407.1858 C129.86,402.1258 295.83,387.4358 398.02,378.3958" fill="none" id="Advertiser-FIUC04: 管理发票信息" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to FIUC05: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="FIUC05: 查看发票状态" data-source-line="11" data-uid="lnk14" id="link_Advertiser_FIUC05: 查看发票状态"><path d="M72.64,410.7458 C129.86,415.8058 295.83,430.4958 398.02,439.5358" fill="none" id="Advertiser-FIUC05: 查看发票状态" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to FIUC06: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="FIUC06: 取消发票申请" data-source-line="12" data-uid="lnk16" id="link_Advertiser_FIUC06: 取消发票申请"><path d="M72.59,419.5158 C87.33,426.9058 108,436.5658 127,442.9658 C222.2,475.0358 336.09,498.1258 408.72,511.0258" fill="none" id="Advertiser-FIUC06: 取消发票申请" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to FIUC07: ??????--><g class="link" data-entity-1="Advertiser" data-entity-2="FIUC07: 下载电子发票" data-source-line="13" data-uid="lnk18" id="link_Advertiser_FIUC07: 下载电子发票"><path d="M72.67,446.5958 C85.6,467.3058 104.23,491.8058 127,506.9658 C208.49,561.1958 320.15,583.4758 396.34,592.6158" fill="none" id="Advertiser-FIUC07: 下载电子发票" style="stroke:#181818;stroke-width:1;"></path></g><!--link Advertiser to FIUC08: ????????--><g class="link" data-entity-1="Advertiser" data-entity-2="FIUC08: 设置默认发票抬头" data-source-line="14" data-uid="lnk20" id="link_Advertiser_FIUC08: 设置默认发票抬头"><path d="M57.56,447.9758 C65.14,490.2358 83.55,556.6058 127,593.9658 C196.87,654.0458 302,672.9658 379.73,678.1058" fill="none" id="Advertiser-FIUC08: 设置默认发票抬头" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to FIAC01: ??????--><g class="link" data-entity-1="Admin" data-entity-2="FIAC01: 审核充值记录" data-source-line="16" data-uid="lnk22" id="link_Admin_FIAC01: 审核充值记录"><path d="M72.45,918.9558 C85.3,897.4558 103.93,871.9558 127,855.9658 C208.78,799.2958 322.19,774.9458 398.63,764.5558" fill="none" id="Admin-FIAC01: 审核充值记录" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to FIAC02: ??????--><g class="link" data-entity-1="Admin" data-entity-2="FIAC02: 处理发票申请" data-source-line="17" data-uid="lnk24" id="link_Admin_FIAC02: 处理发票申请"><path d="M72.64,942.5458 C87.06,932.2058 107.34,919.0358 127,910.9658 C217.63,873.7658 328.89,852.9958 402.44,842.4158" fill="none" id="Admin-FIAC02: 处理发票申请" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to FIAC03: ??????--><g class="link" data-entity-1="Admin" data-entity-2="FIAC03: 标记发票状态" data-source-line="18" data-uid="lnk26" id="link_Admin_FIAC03: 标记发票状态"><path d="M72.64,955.6658 C130.52,949.0658 299.7,929.7658 401.55,918.1458" fill="none" id="Admin-FIAC03: 标记发票状态" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to FIAC04: ????????--><g class="link" data-entity-1="Admin" data-entity-2="FIAC04: 查看系统财务报表" data-source-line="19" data-uid="lnk28" id="link_Admin_FIAC04: 查看系统财务报表"><path d="M72.64,959.3758 C127.37,963.1958 281.61,973.9658 384.34,981.1458" fill="none" id="Admin-FIAC04: 查看系统财务报表" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to FIAC05: ??????--><g class="link" data-entity-1="Admin" data-entity-2="FIAC05: 导出交易数据" data-source-line="20" data-uid="lnk30" id="link_Admin_FIAC05: 导出交易数据"><path d="M72.76,966.8058 C87.58,973.0358 108.28,981.2458 127,986.9658 C224.13,1016.6358 339.25,1040.5858 411.47,1054.3058" fill="none" id="Admin-FIAC05: 导出交易数据" style="stroke:#181818;stroke-width:1;"></path></g><!--link Admin to FIAC06: ??????--><g class="link" data-entity-1="Admin" data-entity-2="FIAC06: 处理退款申请" data-source-line="21" data-uid="lnk32" id="link_Admin_FIAC06: 处理退款申请"><path d="M72.56,992.3558 C85.69,1011.9758 104.55,1035.4758 127,1049.9658 C209.7,1103.3458 321.88,1126.1658 397.84,1135.8758" fill="none" id="Admin-FIAC06: 处理退款申请" style="stroke:#181818;stroke-width:1;"></path></g><!--link FIUC03 to FIUC04--><g class="link" data-entity-1="FIUC03" data-entity-2="FIUC04" data-source-line="24" data-uid="lnk35" id="link_FIUC03_FIUC04"><path d="M97.25,62.9658 C179.75,62.9658 348.92,62.9658 431.35,62.9658" fill="none" id="FIUC03-to-FIUC04" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="437.35,62.9658,428.35,58.9658,432.35,62.9658,428.35,66.9658,437.35,62.9658" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6563" x="210" y="59.4609">«include»</text></g><!--link FIAC02 to FIAC03--><g class="link" data-entity-1="FIAC02" data-entity-2="FIAC03" data-source-line="25" data-uid="lnk38" id="link_FIAC02_FIAC03"><path d="M51.5,1145.6958 C51.5,1160.6858 51.5,1177.1458 51.5,1192.1658" fill="none" id="FIAC02-to-FIAC03" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="51.5,1198.1658,55.5,1189.1658,51.5,1193.1658,47.5,1189.1658,51.5,1198.1658" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.6563" x="12" y="1177.4609">«include»</text></g><!--link FIAC03 to FIUC07--><g class="link" data-entity-1="FIAC03" data-entity-2="FIUC07" data-source-line="26" data-uid="lnk40" id="link_FIAC03_FIUC07"><path d="M96.85,1213.9658 C179.15,1213.9658 348.65,1213.9658 431.25,1213.9658" fill="none" id="FIAC03-to-FIUC07" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="437.25,1213.9658,428.25,1209.9658,432.25,1213.9658,428.25,1217.9658,437.25,1213.9658" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.5972" x="128" y="1210.4609">«extend»  : (若为电子发票且开具完成)</text></g><!--SRC=[VPBTIkD068RFvoe-UcGE5FzM9KX01C4By09AczL0JI6E8eWGmMf9tRLbgrjOHIEjz41JmP_6_dap-MRYNJWsYRJOxE4mpxoyt_CDrMX61V_f1YtRSt_ZQOdNwjonUV68rMsy_ClBTQzNm7yzab5_Kg1PCBJr3GffpL1JLClg99cYMGCI-Fg69Sjpsmb8Ri5IUaSrgBQb6j5z48gbIdY_gUc4V6OazNLH8J6oGmBs20o4mVWuZAsihYrFJicYzItBDp6NGxCZnM3JCh2h6hyeUAqgg_pndGVidiN1CpBmygFVQ0OLuh1PWGN3z37lpMO7ZJZuHrGW7CjwOUP173md0vwUivTy2FVBnC7pCdXkmUzsUVaPxul_xxmWT3aztdNUsnNVgGOmi-wm-YIH_XknZn1Vwjj5nsRNRc1tKDiG9_HYzV1BnM3X8KwOPTV7dp7VB0nniv4j_jZcxQlWJp2hvjlr4RHmYuqE7hU2vRAp1_RB6S7DHItVJPFTzQAM-uI4UvTWOaA9jYk138kBcfxARATLHI7Xf89Hecb68qCnym6Zxb9LJoiAYDEONwXvRcjmNPvRnew9kIOw9onVb3u0]--></g></svg></p><h3 id="12-详细用例描述-表格形式">1.2 详细用例描述 (表格形式) </h3>
<h4 id="广告主用例">广告主用例 </h4>
<table>
<thead>
<tr>
<th>用例ID</th>
<th>用例名称</th>
<th>参与者</th>
<th>优先级</th>
<th>前置条件</th>
<th>基本事件流 (用户操作与系统响应)</th>
<th>后置条件</th>
<th>扩展/替代流程</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>UUC01</td>
<td>用户注册</td>
<td>广告主</td>
<td>高</td>
<td>无</td>
<td>1. 用户访问注册页面。 <br> 2. 系统显示注册表单（用户名、邮箱、密码等）。 <br> 3. 用户填写信息并提交。 <br> 4. 系统校验数据。 <br> 5. 系统创建用户账户（状态：待审核），发送验证邮件（可选）。 <br> 6. 系统提示注册请求已提交，等待审核/邮箱验证。</td>
<td>用户账户被创建，状态为"待审核"或"待邮箱验证"。</td>
<td>4a. 数据校验失败：系统提示错误信息。 <br> 5a. 邮箱已被注册：系统提示邮箱已存在。</td>
<td>对应 <code>User</code> audit_status='pending'</td>
</tr>
<tr>
<td>ADUC01</td>
<td>创建广告活动</td>
<td>广告主</td>
<td>高</td>
<td>用户已登录，账户状态正常。</td>
<td>1. 用户进入广告活动管理界面，点击"创建新活动"。 <br> 2. 系统展示活动创建表单（名称、总预算、每日预算、投放起止日期等）。 <br> 3. 用户填写表单并提交。 <br> 4. 系统校验数据。 <br> 5. 系统创建广告活动（状态：待审核/草稿/进行中）。 <br> 6. 系统提示活动创建成功。</td>
<td>新广告活动被创建。</td>
<td>4a. 数据校验失败：系统提示错误。</td>
<td>Campaign status: pending_approval / active</td>
</tr>
<tr>
<td>ADUC03</td>
<td>创建广告</td>
<td>广告主</td>
<td>高</td>
<td>用户已登录，已存在有效的广告活动。</td>
<td>1. 用户在指定广告活动下点击"创建广告"。 <br> 2. 系统展示广告创建表单（名称、广告位、预算、素材、目标URL、投放时段等）。 <br> 3. 用户填写信息，上传素材并提交。 <br> 4. 系统校验数据。 <br> 5. 系统创建广告（状态：待审核）。<br> 6. 系统提示广告提交成功，等待审核。</td>
<td>新广告被创建，状态为"待审核"。</td>
<td>3a. 素材上传失败：系统提示错误。 <br> 4a. 数据校验失败（如预算超限）：系统提示错误。</td>
<td>Ad status: 'pending_approval'</td>
</tr>
<tr>
<td>FIUC01</td>
<td>账户充值</td>
<td>广告主</td>
<td>高</td>
<td>用户已登录。</td>
<td>1. 用户进入充值页面。 <br> 2. 系统显示充值选项（金额、支付方式）。 <br> 3. 用户选择/输入充值金额和支付方式并提交。 <br> 4. 系统跳转至支付网关（模拟）或处理余额支付。 <br> 5. 支付成功后，系统更新用户余额，创建交易记录。 <br> 6. 系统提示充值成功，发送通知。</td>
<td>用户账户余额增加，生成"充值"类型交易记录。</td>
<td>4a. 支付失败：系统提示支付失败。 <br> 5a. 充值金额无效：系统提示错误。</td>
<td>Transaction type: 'recharge'</td>
</tr>
<tr>
<td>FIUC03</td>
<td>申请发票</td>
<td>广告主</td>
<td>中</td>
<td>用户已登录，有可开票交易记录，已设置发票抬头。</td>
<td>1. 用户进入发票管理，点击"申请发票"。 <br> 2. 系统显示可开票金额和交易，用户选择发票抬头、填写发票金额、接收邮箱等。 <br> 3. 用户提交申请。 <br> 4. 系统校验数据。 <br> 5. 系统创建发票申请记录（状态：待处理），关联交易项。 <br> 6. 系统提示申请已提交。</td>
<td>新发票申请被创建，状态为"待处理"。</td>
<td>2a. 无可用发票抬头：引导用户创建。 <br> 4a. 申请金额超过可开票金额：系统提示错误。</td>
<td>Invoice status: 'pending'</td>
</tr>
</tbody>
</table>
<h4 id="管理员用例">管理员用例 </h4>
<table>
<thead>
<tr>
<th>用例ID</th>
<th>用例名称</th>
<th>参与者</th>
<th>优先级</th>
<th>前置条件</th>
<th>基本事件流 (用户操作与系统响应)</th>
<th>后置条件</th>
<th>扩展/替代流程</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>UAC01</td>
<td>审核用户注册</td>
<td>管理员</td>
<td>高</td>
<td>管理员已登录，存在待审核用户。</td>
<td>1. 管理员查看待审核用户列表。 <br> 2. 管理员选择用户进行审核。 <br> 3. 系统展示用户注册信息。 <br> 4. 管理员操作"批准"或"拒绝"。 <br> 5. 系统更新用户审核状态，发送通知给用户。 <br> 6. 系统记录审核日志。</td>
<td>用户审核状态更新为"已批准"或"已拒绝"。</td>
<td>4a. 需补充材料：管理员可发送通知要求用户补充。</td>
<td>User audit_status: 'approved' / 'rejected'</td>
</tr>
<tr>
<td>ADAC01</td>
<td>审核广告内容</td>
<td>管理员</td>
<td>高</td>
<td>管理员已登录，存在待审核广告。</td>
<td>1. 管理员查看待审核广告列表。 <br> 2. 管理员选择广告进行审核。 <br> 3. 系统展示广告详情和素材。 <br> 4. 管理员操作"批准"或"拒绝"（可附带原因）。 <br> 5. 系统更新广告状态，记录审核日志，发送通知给广告主。</td>
<td>广告状态更新为"投放中"或"已拒绝"。</td>
<td>4a. 广告内容违规：管理员可直接拒绝。 <br> 4b. 广告素材不清晰：管理员可要求重新上传。</td>
<td>Ad status: 'active' / 'rejected', 创建 AuditLog</td>
</tr>
<tr>
<td>FIAC02</td>
<td>处理发票申请</td>
<td>管理员</td>
<td>中</td>
<td>管理员已登录，存在待处理发票。</td>
<td>1. 管理员查看待处理发票列表。 <br> 2. 管理员选择发票进行处理。 <br> 3. 系统展示发票申请详情和关联交易。 <br> 4. 管理员操作"批准处理"、"拒绝"或"标记已开具"。 <br> 5. 系统更新发票状态，发送通知给用户。</td>
<td>发票状态更新（processing, rejected, completed）。</td>
<td>4a. 信息不符：管理员可拒绝并说明原因。 <br> 4b. 若选择"标记已开具"，需填写发票号、日期等。</td>
<td>Invoice status: 'processing', 'rejected', 'completed'</td>
</tr>
</tbody>
</table>
<h2 id="2-参与者类属关系图">2. 参与者类属关系图 </h2>
<p>参与者类属关系图展示了系统中不同角色的层次关系。<code>User</code> 是基类，<code>Advertiser</code> 和 <code>Administrator</code> 是其具体化。</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="363px" preserveAspectRatio="none" style="width:340px;height:363px;background:#FFFFFF;" version="1.1" viewBox="0 0 340 363" width="340px" zoomAndPan="magnify"><defs></defs><g><!--class User--><g class="entity" data-entity="User" data-source-line="3" data-uid="ent0002" id="entity_User"><rect fill="#F1F1F1" height="171.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.0615" x="87.5" y="7"></rect><ellipse cx="141.0015" cy="23" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M143.7671,18.875 Q143.9233,18.6563 144.1108,18.5469 Q144.2983,18.4375 144.5171,18.4375 Q144.8921,18.4375 145.1265,18.6953 Q145.3608,18.9531 145.3608,19.5625 L145.3608,21.0156 Q145.3608,21.625 145.1265,21.8906 Q144.8921,22.1563 144.5171,22.1563 Q144.1733,22.1563 143.9702,21.9531 Q143.7671,21.7656 143.6577,21.25 Q143.6108,20.8906 143.4233,20.7031 Q143.0952,20.3281 142.4858,20.1094 Q141.8765,19.8906 141.2515,19.8906 Q140.4858,19.8906 139.853,20.2188 Q139.2202,20.5469 138.728,21.2969 Q138.2358,22.0469 138.2358,23.0781 L138.2358,24.1719 Q138.2358,25.4063 139.1265,26.2266 Q140.0171,27.0469 141.6108,27.0469 Q142.5483,27.0469 143.2046,26.7969 Q143.5952,26.6406 144.0171,26.2031 Q144.2827,25.9375 144.4312,25.8594 Q144.5796,25.7813 144.7827,25.7813 Q145.1108,25.7813 145.3687,26.0391 Q145.6265,26.2969 145.6265,26.6406 Q145.6265,26.9844 145.2827,27.3906 Q144.7827,27.9688 143.9858,28.2969 Q142.9077,28.75 141.6108,28.75 Q140.0952,28.75 138.8921,28.125 Q137.9077,27.625 137.2202,26.5547 Q136.5327,25.4844 136.5327,24.2031 L136.5327,23.0469 Q136.5327,21.7188 137.1499,20.5703 Q137.7671,19.4219 138.8608,18.8047 Q139.9546,18.1875 141.189,18.1875 Q141.9233,18.1875 142.5718,18.3516 Q143.2202,18.5156 143.7671,18.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="161.5015" y="28.7285">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="88.5" x2="231.5615" y1="39" y2="39"></line><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="95.5" y="50.3047"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2549" x="107.5" y="57.5332">username</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="95.5" y="67.9141"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.4551" x="107.5" y="75.1426">email</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="95.5" y="85.5234"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4688" x="107.5" y="92.752">is_active</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="95.5" y="103.1328"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4824" x="107.5" y="110.3613">user_type</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="95.5" y="120.7422"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.041" x="107.5" y="127.9707">balance</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="95.5" y="138.3516"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4961" x="107.5" y="145.5801">audit_status</text><line style="stroke:#181818;stroke-width:0.5;" x1="88.5" x2="231.5615" y1="152.6563" y2="152.6563"></line><rect fill="#808080" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="95.5" y="163.9609"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.0615" x="107.5" y="171.1895">password (hashed)</text></g><!--class Advertiser--><g class="entity" data-entity="Advertiser" data-source-line="13" data-uid="ent0003" id="entity_Advertiser"><rect fill="#F1F1F1" height="83.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.6133" x="7" y="255.5"></rect><ellipse cx="35.7667" cy="271.5" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M38.5324,267.375 Q38.6886,267.1563 38.8761,267.0469 Q39.0636,266.9375 39.2824,266.9375 Q39.6574,266.9375 39.8917,267.1953 Q40.1261,267.4531 40.1261,268.0625 L40.1261,269.5156 Q40.1261,270.125 39.8917,270.3906 Q39.6574,270.6563 39.2824,270.6563 Q38.9386,270.6563 38.7355,270.4531 Q38.5324,270.2656 38.423,269.75 Q38.3761,269.3906 38.1886,269.2031 Q37.8605,268.8281 37.2511,268.6094 Q36.6417,268.3906 36.0167,268.3906 Q35.2511,268.3906 34.6183,268.7188 Q33.9855,269.0469 33.4933,269.7969 Q33.0011,270.5469 33.0011,271.5781 L33.0011,272.6719 Q33.0011,273.9063 33.8917,274.7266 Q34.7824,275.5469 36.3761,275.5469 Q37.3136,275.5469 37.9699,275.2969 Q38.3605,275.1406 38.7824,274.7031 Q39.048,274.4375 39.1964,274.3594 Q39.3449,274.2813 39.548,274.2813 Q39.8761,274.2813 40.1339,274.5391 Q40.3917,274.7969 40.3917,275.1406 Q40.3917,275.4844 40.048,275.8906 Q39.548,276.4688 38.7511,276.7969 Q37.673,277.25 36.3761,277.25 Q34.8605,277.25 33.6574,276.625 Q32.673,276.125 31.9855,275.0547 Q31.298,273.9844 31.298,272.7031 L31.298,271.5469 Q31.298,270.2188 31.9152,269.0703 Q32.5324,267.9219 33.6261,267.3047 Q34.7199,266.6875 35.9542,266.6875 Q36.6886,266.6875 37.3371,266.8516 Q37.9855,267.0156 38.5324,267.375 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="52.826" y="277.2285">Advertiser</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="131.6133" y1="287.5" y2="287.5"></line><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="15" y="298.8047"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.6133" x="27" y="306.0332">company_name</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="15" y="316.4141"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.1855" x="27" y="323.6426">phone_number</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="131.6133" y1="330.7188" y2="330.7188"></line></g><!--class Administrator--><g class="entity" data-entity="Administrator" data-source-line="18" data-uid="ent0004" id="entity_Administrator"><rect fill="#F1F1F1" height="118.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165.3164" x="168.5" y="238"></rect><ellipse cx="206.3814" cy="254" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M209.1471,249.875 Q209.3033,249.6563 209.4908,249.5469 Q209.6783,249.4375 209.8971,249.4375 Q210.2721,249.4375 210.5064,249.6953 Q210.7408,249.9531 210.7408,250.5625 L210.7408,252.0156 Q210.7408,252.625 210.5064,252.8906 Q210.2721,253.1563 209.8971,253.1563 Q209.5533,253.1563 209.3502,252.9531 Q209.1471,252.7656 209.0377,252.25 Q208.9908,251.8906 208.8033,251.7031 Q208.4752,251.3281 207.8658,251.1094 Q207.2564,250.8906 206.6314,250.8906 Q205.8658,250.8906 205.233,251.2188 Q204.6002,251.5469 204.108,252.2969 Q203.6158,253.0469 203.6158,254.0781 L203.6158,255.1719 Q203.6158,256.4063 204.5064,257.2266 Q205.3971,258.0469 206.9908,258.0469 Q207.9283,258.0469 208.5846,257.7969 Q208.9752,257.6406 209.3971,257.2031 Q209.6627,256.9375 209.8111,256.8594 Q209.9596,256.7813 210.1627,256.7813 Q210.4908,256.7813 210.7486,257.0391 Q211.0064,257.2969 211.0064,257.6406 Q211.0064,257.9844 210.6627,258.3906 Q210.1627,258.9688 209.3658,259.2969 Q208.2877,259.75 206.9908,259.75 Q205.4752,259.75 204.2721,259.125 Q203.2877,258.625 202.6002,257.5547 Q201.9127,256.4844 201.9127,255.2031 L201.9127,254.0469 Q201.9127,252.7188 202.5299,251.5703 Q203.1471,250.4219 204.2408,249.8047 Q205.3346,249.1875 206.5689,249.1875 Q207.3033,249.1875 207.9518,249.3516 Q208.6002,249.5156 209.1471,249.875 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4688" x="225.4662" y="259.7285">Administrator</text><line style="stroke:#181818;stroke-width:0.5;" x1="169.5" x2="332.8164" y1="270" y2="270"></line><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="176.5" y="281.3047"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0547" x="188.5" y="288.5332">admin_privileges</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="176.5" y="298.9141"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.7373" x="188.5" y="306.1426">can_audit_users</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="176.5" y="316.5234"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0752" x="188.5" y="323.752">can_audit_ads</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="176.5" y="334.1328"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.3164" x="188.5" y="341.3613">can_manage_invoices</text><line style="stroke:#181818;stroke-width:0.5;" x1="169.5" x2="332.8164" y1="348.4375" y2="348.4375"></line></g><!--reverse link User to Advertiser--><g class="link" data-entity-1="User" data-entity-2="Advertiser" data-source-line="26" data-uid="lnk5" id="link_User_Advertiser"><path codeline="26" d="M115.0412,194.6494 C103.1912,221.3194 97.96,233.1 88.11,255.24" fill="none" id="User-backto-Advertiser" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="122.35,178.2,109.5581,192.2131,120.5243,197.0856,122.35,178.2" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link User to Administrator--><g class="link" data-entity-1="User" data-entity-2="Administrator" data-source-line="27" data-uid="lnk6" id="link_User_Administrator"><path codeline="27" d="M205.4418,194.6167 C214.4618,214.6767 216.49,219.19 224.83,237.76" fill="none" id="User-backto-Administrator" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="198.06,178.2,199.9696,197.0773,210.914,192.1561,198.06,178.2" style="stroke:#181818;stroke-width:1;"></polygon></g><!--SRC=[NL31IiD05BpdA_Qc7ee_uCMFyBoy9ezcCRiRTZUHea8e55e8Ag9UYWL1Q2yUIZqKM-tFT9Fsr5ymJRIjtkODCpkpey-P24419rmAwVfASYH6HUWSaCNdF7yOvgEfxNqjatJrtBUthSNaPfcq2sOzIxFU-offsRkE7JtchnyRvQYV9GDxd-RJGTQTs_Ou7qyTDm2joPb6HIuTGceaAg00ZkM175XGeh2GNKZbaKCVj8_UKSaoJS4rBCQjbPfcM5rr242u5OR8OuPg0oRIphNpathgnQWCssMxaeSWcdIR7_fI81KHhwFQzt4cc3OAZFormeQZeM8n2x21kdeF1AsYDzN-S-3j60u26aYPY2LpiUnuGFQ7MiywrTgBoHivkQhLoF9bM0oRZNisVJgkfEjProcdB0Mxx_qXzxf_0m00]--></g></svg></p><h3 id="21-参与者特性描述">2.1 参与者特性描述 </h3>
<h4 id="user用户抽象基类">User（用户抽象基类） </h4>
<p>所有系统用户的基类，包含共有属性和方法：</p>
<ul>
<li><strong>属性</strong>: <code>username</code>, <code>email</code>, <code>password</code> (加密存储), <code>is_active</code> (账户是否激活), <code>user_type</code> (用户类型: advertiser, admin), <code>date_joined</code> (注册时间), <code>last_login</code> (最后登录时间), <code>first_name</code>, <code>last_name</code>。</li>
<li><strong>通用方法</strong>: <code>login()</code>, <code>logout()</code>, <code>update_profile()</code>, <code>change_password()</code>。</li>
</ul>
<h4 id="advertiser广告主">Advertiser（广告主） </h4>
<p>继承自User，代表使用平台投放广告的客户。</p>
<ul>
<li><strong>特有属性</strong>: <code>company_name</code>, <code>phone_number</code> (联系方式), <code>balance</code> (账户余额), <code>audit_status</code> (账户审核状态: pending, approved, rejected)。</li>
<li><strong>主要职责/方法</strong>: 管理账户、创建和管理广告活动 (<code>create_campaign()</code>)与广告 (<code>create_ad()</code>)、账户充值 (<code>recharge_account()</code>)、申请发票 (<code>request_invoice()</code>)、查看广告数据。</li>
</ul>
<h4 id="administrator管理员">Administrator（管理员） </h4>
<p>继承自User，代表管理和维护平台的内部人员。</p>
<ul>
<li><strong>特有属性</strong>: <code>is_staff</code> (固定为true), <code>is_superuser</code> (最高权限)。</li>
<li><strong>主要职责/方法</strong>: 审核用户注册 (<code>audit_user()</code>)、审核广告内容 (<code>audit_ad()</code>)、管理广告位 (<code>manage_ad_placement()</code>)、处理发票申请 (<code>process_invoice()</code>)、查看系统报表 (<code>view_system_reports()</code>)、管理用户账户。</li>
</ul>
<h4 id="system系统参与者">System（系统参与者） </h4>
<p>代表系统自身执行的一些自动化或后台处理功能，非人类用户。</p>
<ul>
<li><strong>主要职责/方法</strong>: 发送各类通知 (<code>send_notification()</code>)、自动生成统计报表 (<code>generate_reports()</code>)、执行定时任务 (<code>run_scheduled_tasks()</code>，如每日数据汇总、活动状态更新)、记录系统活动日志 (<code>log_activity()</code>)。</li>
</ul>
<h2 id="3-数据库设计">3. 数据库设计 </h2>
<h3 id="31-实体关系图-erd---enhanced-mermaid">3.1 实体关系图 (ERD - Enhanced Mermaid) </h3>
<p>本节描述了 AdWeb 广告管理平台的主要数据实体及其关系。详细的表结构定义请参见《<a href="http://xn--kbru91aswdz9bndu9kiwb.md">数据库分析文档.md</a>》和后续的关系模式表。</p>
<p><strong>图例说明:</strong></p>
<ul>
<li><code>PK</code>: 主键</li>
<li><code>FK</code>: 外键</li>
<li><code>UK</code>: 唯一约束</li>
<li><code>||--o{</code> : 一对多关系 (0..N)</li>
<li><code>||--|{</code> : 一对多关系 (1..N, "一"端强制参与, "多"端强制参与)</li>
<li><code>}o--o{</code> : 多对多关系 (0..N on both sides)</li>
<li><code>}o--|{</code> : 多对多关系 (0..N on "left", 1..N on "right")</li>
</ul>
<div class="mermaid">erDiagram
    User {
        INT id PK
        VARCHAR username UK
        VARCHAR email UK
        VARCHAR password
        DECIMAL balance
        VARCHAR audit_status
        VARCHAR user_type
        VARCHAR phone
        VARCHAR company
        DATETIME date_joined
    }

    ValidationCode {
        INT id PK
        INT user_id FK
        VARCHAR code
        DATETIME expire_at
    }

    Notification {
        INT id PK
        INT user_id FK
        VARCHAR title
        TEXT content
        VARCHAR status
        DATETIME created_at
    }

    Campaign {
        INT id PK
        VARCHAR name
        INT advertiser_id FK
        DECIMAL budget
        DATETIME start_date
        DATETIME end_date
        VARCHAR status
    }

    AdPlacement {
        INT id PK
        VARCHAR placement_type UK
        VARCHAR dimension
        DECIMAL price_per_day
        BOOLEAN is_active
    }

    Ad {
        INT id PK
        VARCHAR name
        INT advertiser_id FK
        INT campaign_id FK
        INT placement_id FK
        DECIMAL budget
        DECIMAL daily_limit
        VARCHAR image_path
        VARCHAR target_url
        TEXT description
        VARCHAR status
        DATETIME start_date
        DATETIME end_date
    }

    AuditLog {
        INT id PK
        INT ad_id FK
        INT admin_id FK
        VARCHAR action
        TEXT reason
        DATETIME created_at
    }

    Transaction {
        INT id PK
        INT user_id FK
        DECIMAL amount
        VARCHAR transaction_type
        VARCHAR payment_method
        VARCHAR status
        INT ad_id FK
        TEXT description
        DATETIME created_at
    }

    InvoiceInfo {
        INT id PK
        INT user_id FK
        VARCHAR title
        VARCHAR tax_number
        VARCHAR address
        VARCHAR telephone
        VARCHAR bank_name
        VARCHAR bank_account
        BOOLEAN is_default
    }

    Invoice {
        INT id PK
        INT user_id FK
        INT invoice_info_id FK
        VARCHAR invoice_type
        DECIMAL amount
        VARCHAR title
        VARCHAR tax_number
        VARCHAR status
        VARCHAR email
        VARCHAR invoice_number
        DATE invoice_date
        DATETIME created_at
    }

    InvoiceItem {
        INT id PK
        INT invoice_id FK
        INT transaction_id FK
        DECIMAL amount
    }

    AdImpression {
        INT id PK
        INT ad_id FK
        DATETIME timestamp
        VARCHAR ip_address
        TEXT user_agent
        DECIMAL cost
    }

    AdClick {
        INT id PK
        INT ad_id FK
        INT impression_id FK
        DATETIME timestamp
        VARCHAR ip_address
        TEXT user_agent
        DECIMAL cost
    }

    DailyStats {
        INT id PK
        INT ad_id FK
        DATE date
        INT impressions
        INT clicks
        DECIMAL cost
    }

    User ||--o{ ValidationCode : "has"
    User ||--o{ Notification : "receives"
    User ||--o{ Campaign : "creates (as advertiser)"
    User ||--o{ Ad : "creates (as advertiser)"
    User ||--o{ AuditLog : "performs (as admin)"
    User ||--o{ Transaction : "initiates"
    User ||--o{ InvoiceInfo : "owns"
    User ||--o{ Invoice : "requests"

    Campaign ||--o{ Ad : "groups"
    AdPlacement ||--o{ Ad : "hosts"
    Ad ||--o{ AuditLog : "is audited"
    Ad ||--o{ Transaction : "relates to spend"
    Ad ||--o{ AdImpression : "generates"
    Ad ||--o{ AdClick : "generates"
    Ad ||--o{ DailyStats : "accumulates"

    AdImpression ||--o{ AdClick : "may lead to"

    InvoiceInfo ||--o{ Invoice : "provides details for"
    Invoice ||--o{ InvoiceItem : "is detailed by"
    Transaction ||--o{ InvoiceItem : "is itemized in"
</div><p><strong>关系文字描述（已更新基数）:</strong></p>
<ul>
<li>一个 <code>User</code> 可以有零或多个 <code>ValidationCode</code> 和 <code>Notification</code>。(1-0..N)</li>
<li>一个 <code>User</code> (作为广告主) 必须创建至少一个 <code>Campaign</code> 和 <code>Ad</code> 才能投放广告，但理论上可以只注册不创建。(1-0..N, 实际业务中可能是1..N)</li>
<li>一个 <code>User</code> (作为管理员) 可以执行零或多个 <code>AuditLog</code>。(1-0..N)</li>
<li>一个 <code>User</code> 可以发起零或多个 <code>Transaction</code>，必须拥有至少一个 <code>InvoiceInfo</code> (通常注册后或首次申请发票前创建默认的)，可以申请零或多个 <code>Invoice</code>。(1-0..N for Tx/Invoice, 1-1..N for InvoiceInfo)</li>
<li>一个 <code>Campaign</code> 必须包含至少一个 <code>Ad</code> 才能生效。(1-1..N)</li>
<li>一个 <code>AdPlacement</code> 可以承载零或多个 <code>Ad</code>。(1-0..N)</li>
<li>一个 <code>Ad</code> 可以有零或多个 <code>AuditLog</code>，在其生命周期内必须产生多个 <code>AdImpression</code> 和 <code>AdClick</code> (如果投放成功)，可以累积零或多个 <code>DailyStats</code>。(1-0..N for AuditLog/DailyStats, 1-1..N for Impression/Click if active)</li>
<li>一个 <code>AuditLog</code> 可以针对一个 <code>User</code> (如用户审核) 或一个 <code>Ad</code> (广告审核)。</li>
<li>一个 <code>AdImpression</code> 最多导致一个 <code>AdClick</code>。(1-0..1)</li>
<li>一个 <code>InvoiceInfo</code> 可以被用于零或多个 <code>Invoice</code> 申请。(1-0..N)</li>
<li>一个 <code>Invoice</code> 必须包含至少一个 <code>InvoiceItem</code>。(1-1..N)</li>
<li>一个 <code>Transaction</code> (通常是支出型) 可以被零或多个 <code>InvoiceItem</code> 包含 (例如，一个交易可能被拆分到不同发票，或不开发票)。(1-0..N)</li>
<li><code>DailyStats</code> 可以是针对单个 <code>Ad</code>、<code>Campaign</code>、<code>User</code> (广告主) 或整个平台的统计。</li>
</ul>
<h3 id="32-关系模式表格">3.2 关系模式表格 </h3>
<p>根据上述E-R图，将每个实体转化为关系模式，并用表格形式展示。</p>
<p><strong>User (用户表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>用户ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>password</td>
<td>VARCHAR(128)</td>
<td>NN</td>
<td>密码 (哈希)</td>
<td>Django默认 (存储哈希值)</td>
</tr>
<tr>
<td>last_login</td>
<td>DATETIME</td>
<td>NULL</td>
<td>最后登录时间</td>
<td></td>
</tr>
<tr>
<td>is_superuser</td>
<td>BOOLEAN</td>
<td>NN</td>
<td>是否为超级用户</td>
<td>DEFAULT False</td>
</tr>
<tr>
<td>username</td>
<td>VARCHAR(150)</td>
<td>UK, NN</td>
<td>用户名</td>
<td></td>
</tr>
<tr>
<td>first_name</td>
<td>VARCHAR(150)</td>
<td>NULL</td>
<td>名字</td>
<td></td>
</tr>
<tr>
<td>last_name</td>
<td>VARCHAR(150)</td>
<td>NULL</td>
<td>姓氏</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>VARCHAR(254)</td>
<td>UK, NN</td>
<td>电子邮箱</td>
<td></td>
</tr>
<tr>
<td>is_staff</td>
<td>BOOLEAN</td>
<td>NN</td>
<td>是否为员工</td>
<td>DEFAULT False (管理员为True)</td>
</tr>
<tr>
<td>is_active</td>
<td>BOOLEAN</td>
<td>NN</td>
<td>账户是否激活</td>
<td>DEFAULT True</td>
</tr>
<tr>
<td>date_joined</td>
<td>DATETIME</td>
<td>NN</td>
<td>注册时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>balance</td>
<td>DECIMAL(10,2)</td>
<td>NN</td>
<td>账户余额</td>
<td>DEFAULT 0.00</td>
</tr>
<tr>
<td>audit_status</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>审核状态</td>
<td>pending, approved, rejected, DEFAULT 'pending'</td>
</tr>
<tr>
<td>user_type</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>用户类型</td>
<td>advertiser, admin, DEFAULT 'advertiser'</td>
</tr>
<tr>
<td>phone</td>
<td>VARCHAR(20)</td>
<td>NULL</td>
<td>电话号码</td>
<td></td>
</tr>
<tr>
<td>company</td>
<td>VARCHAR(100)</td>
<td>NULL</td>
<td>公司名称</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>ValidationCode (验证码表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>验证码ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>user_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NN</td>
<td>用户ID</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>VARCHAR(10)</td>
<td>UK, NN</td>
<td>验证码</td>
<td></td>
</tr>
<tr>
<td>expire_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>过期时间</td>
<td></td>
</tr>
<tr>
<td>purpose</td>
<td>VARCHAR(50)</td>
<td>NN</td>
<td>用途</td>
<td>e.g., email_verification</td>
</tr>
<tr>
<td>is_used</td>
<td>BOOLEAN</td>
<td>NN</td>
<td>是否已使用</td>
<td>DEFAULT False</td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>创建时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
</tbody>
</table>
<p><strong>Notification (通知表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>通知ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>user_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NN</td>
<td>接收用户ID</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td>VARCHAR(255)</td>
<td>NN</td>
<td>通知标题</td>
<td></td>
</tr>
<tr>
<td>content</td>
<td>TEXT</td>
<td>NN</td>
<td>通知内容</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>状态</td>
<td>unread, read, DEFAULT 'unread'</td>
</tr>
<tr>
<td>type</td>
<td>VARCHAR(50)</td>
<td>NULL</td>
<td>通知类型</td>
<td>system, ad, invoice, etc.</td>
</tr>
<tr>
<td>related_url</td>
<td>VARCHAR(255)</td>
<td>NULL</td>
<td>相关链接</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>创建时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
</tbody>
</table>
<p><strong>Campaign (广告活动表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>广告活动ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(100)</td>
<td>NN</td>
<td>活动名称</td>
<td></td>
</tr>
<tr>
<td>advertiser_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NN</td>
<td>广告主ID</td>
<td></td>
</tr>
<tr>
<td>budget</td>
<td>DECIMAL(12,2)</td>
<td>NN</td>
<td>总预算</td>
<td></td>
</tr>
<tr>
<td>daily_budget</td>
<td>DECIMAL(10,2)</td>
<td>NULL</td>
<td>每日预算</td>
<td></td>
</tr>
<tr>
<td>start_date</td>
<td>DATETIME</td>
<td>NN</td>
<td>开始日期</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>DATETIME</td>
<td>NULL</td>
<td>结束日期</td>
<td>NULL表示不限</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>状态</td>
<td>active, paused, ended, deleted, pending_approval, DEFAULT 'pending_approval'</td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>创建时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>updated_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>更新时间</td>
<td>DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</td>
</tr>
</tbody>
</table>
<p><strong>AdPlacement (广告位表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>广告位ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(100)</td>
<td>UK, NN</td>
<td>广告位名称</td>
<td></td>
</tr>
<tr>
<td>placement_type</td>
<td>VARCHAR(50)</td>
<td>NN</td>
<td>广告位类型</td>
<td>banner, sidebar, etc.</td>
</tr>
<tr>
<td>dimension</td>
<td>VARCHAR(50)</td>
<td>NULL</td>
<td>尺寸</td>
<td>e.g., "300x250"</td>
</tr>
<tr>
<td>price_per_day</td>
<td>DECIMAL(10,2)</td>
<td>NULL</td>
<td>每日价格</td>
<td></td>
</tr>
<tr>
<td>price_cpm</td>
<td>DECIMAL(10,2)</td>
<td>NULL</td>
<td>CPM价格</td>
<td></td>
</tr>
<tr>
<td>price_cpc</td>
<td>DECIMAL(10,2)</td>
<td>NULL</td>
<td>CPC价格</td>
<td></td>
</tr>
<tr>
<td>is_active</td>
<td>BOOLEAN</td>
<td>NN</td>
<td>是否激活</td>
<td>DEFAULT True</td>
</tr>
<tr>
<td>description</td>
<td>TEXT</td>
<td>NULL</td>
<td>描述</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>创建时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
</tbody>
</table>
<p><strong>Ad (广告表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>广告ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>name</td>
<td>VARCHAR(100)</td>
<td>NN</td>
<td>广告名称</td>
<td></td>
</tr>
<tr>
<td>advertiser_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NN</td>
<td>广告主ID</td>
<td></td>
</tr>
<tr>
<td>campaign_id</td>
<td>INT</td>
<td>FK (<a href="http://Campaign.id">Campaign.id</a>), NN</td>
<td>广告活动ID</td>
<td></td>
</tr>
<tr>
<td>placement_id</td>
<td>INT</td>
<td>FK (<a href="http://AdPlacement.id">AdPlacement.id</a>), NN</td>
<td>广告位ID</td>
<td></td>
</tr>
<tr>
<td>budget</td>
<td>DECIMAL(10,2)</td>
<td>NULL</td>
<td>广告预算</td>
<td></td>
</tr>
<tr>
<td>daily_limit</td>
<td>DECIMAL(10,2)</td>
<td>NULL</td>
<td>每日预算上限</td>
<td></td>
</tr>
<tr>
<td>creative_type</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>素材类型</td>
<td>image, video, text, html</td>
</tr>
<tr>
<td>image_path</td>
<td>VARCHAR(255)</td>
<td>NULL</td>
<td>图片素材路径</td>
<td></td>
</tr>
<tr>
<td>video_url</td>
<td>VARCHAR(255)</td>
<td>NULL</td>
<td>视频素材URL</td>
<td></td>
</tr>
<tr>
<td>text_content</td>
<td>TEXT</td>
<td>NULL</td>
<td>文本内容</td>
<td></td>
</tr>
<tr>
<td>html_content</td>
<td>TEXT</td>
<td>NULL</td>
<td>HTML内容</td>
<td></td>
</tr>
<tr>
<td>target_url</td>
<td>VARCHAR(500)</td>
<td>NN</td>
<td>目标链接</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>TEXT</td>
<td>NULL</td>
<td>广告描述</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>状态</td>
<td>pending_approval, active, paused, ended, rejected, deleted, DEFAULT 'pending_approval'</td>
</tr>
<tr>
<td>start_date</td>
<td>DATETIME</td>
<td>NN</td>
<td>投放开始日期</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>DATETIME</td>
<td>NULL</td>
<td>投放结束日期</td>
<td></td>
</tr>
<tr>
<td>audit_remark</td>
<td>TEXT</td>
<td>NULL</td>
<td>审核备注</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>创建时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>updated_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>更新时间</td>
<td>DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</td>
</tr>
</tbody>
</table>
<p><strong>AuditLog (审核日志表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>审核日志ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>ad_id</td>
<td>INT</td>
<td>FK (<a href="http://Ad.id">Ad.id</a>), NULL</td>
<td>广告ID</td>
<td></td>
</tr>
<tr>
<td>user_audit_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NULL</td>
<td>被审核用户ID</td>
<td></td>
</tr>
<tr>
<td>admin_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NN</td>
<td>管理员ID</td>
<td></td>
</tr>
<tr>
<td>entity_type</td>
<td>VARCHAR(50)</td>
<td>NN</td>
<td>审核实体类型</td>
<td>ad, user</td>
</tr>
<tr>
<td>action</td>
<td>VARCHAR(50)</td>
<td>NN</td>
<td>操作</td>
<td>approve, reject, comment</td>
</tr>
<tr>
<td>reason</td>
<td>TEXT</td>
<td>NULL</td>
<td>原因/备注</td>
<td></td>
</tr>
<tr>
<td>previous_status</td>
<td>VARCHAR(20)</td>
<td>NULL</td>
<td>先前状态</td>
<td></td>
</tr>
<tr>
<td>new_status</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>新状态</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>创建时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
</tbody>
</table>
<p><strong>Transaction (交易记录表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>交易ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>user_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NN</td>
<td>用户ID</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>DECIMAL(10,2)</td>
<td>NN</td>
<td>金额</td>
<td>正为收入,负为支出</td>
</tr>
<tr>
<td>transaction_type</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>交易类型</td>
<td>recharge, ad_spend, refund, withdrawal</td>
</tr>
<tr>
<td>payment_method</td>
<td>VARCHAR(50)</td>
<td>NULL</td>
<td>支付方式</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>状态</td>
<td>pending, completed, failed, cancelled</td>
</tr>
<tr>
<td>ad_id</td>
<td>INT</td>
<td>FK (<a href="http://Ad.id">Ad.id</a>), NULL</td>
<td>关联广告ID</td>
<td></td>
</tr>
<tr>
<td>invoice_id</td>
<td>INT</td>
<td>FK (<a href="http://Invoice.id">Invoice.id</a>), NULL</td>
<td>关联发票ID</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>TEXT</td>
<td>NULL</td>
<td>描述/备注</td>
<td></td>
</tr>
<tr>
<td>external_id</td>
<td>VARCHAR(100)</td>
<td>UK, NULL</td>
<td>外部交易号</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>创建时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>completed_at</td>
<td>DATETIME</td>
<td>NULL</td>
<td>完成时间</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>InvoiceInfo (发票抬头信息表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>发票抬头ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>user_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NN</td>
<td>用户ID</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td>VARCHAR(255)</td>
<td>UK, NN</td>
<td>发票抬头</td>
<td></td>
</tr>
<tr>
<td>tax_number</td>
<td>VARCHAR(50)</td>
<td>UK, NN</td>
<td>税号</td>
<td></td>
</tr>
<tr>
<td>address</td>
<td>VARCHAR(255)</td>
<td>NULL</td>
<td>公司地址</td>
<td></td>
</tr>
<tr>
<td>telephone</td>
<td>VARCHAR(50)</td>
<td>NULL</td>
<td>公司电话</td>
<td></td>
</tr>
<tr>
<td>bank_name</td>
<td>VARCHAR(100)</td>
<td>NULL</td>
<td>开户行名称</td>
<td></td>
</tr>
<tr>
<td>bank_account</td>
<td>VARCHAR(50)</td>
<td>NULL</td>
<td>银行账号</td>
<td></td>
</tr>
<tr>
<td>is_default</td>
<td>BOOLEAN</td>
<td>NN</td>
<td>是否默认</td>
<td>DEFAULT False</td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>创建时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
</tbody>
</table>
<p><strong>Invoice (发票表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>发票ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>user_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NN</td>
<td>用户ID</td>
<td></td>
</tr>
<tr>
<td>invoice_info_id</td>
<td>INT</td>
<td>FK (<a href="http://InvoiceInfo.id">InvoiceInfo.id</a>), NN</td>
<td>发票抬头ID</td>
<td></td>
</tr>
<tr>
<td>invoice_number</td>
<td>VARCHAR(50)</td>
<td>UK, NULL</td>
<td>发票号码</td>
<td></td>
</tr>
<tr>
<td>invoice_type</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>发票类型</td>
<td>normal, special, electronic</td>
</tr>
<tr>
<td>amount</td>
<td>DECIMAL(10,2)</td>
<td>NN</td>
<td>发票金额</td>
<td></td>
</tr>
<tr>
<td>content</td>
<td>VARCHAR(255)</td>
<td>NN</td>
<td>发票内容</td>
<td>e.g., "广告服务费"</td>
</tr>
<tr>
<td>status</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>状态</td>
<td>pending, processing, completed, rejected, cancelled, sent, DEFAULT 'pending'</td>
</tr>
<tr>
<td>email</td>
<td>VARCHAR(254)</td>
<td>NULL</td>
<td>接收邮箱</td>
<td></td>
</tr>
<tr>
<td>admin_remark</td>
<td>TEXT</td>
<td>NULL</td>
<td>管理员备注</td>
<td></td>
</tr>
<tr>
<td>pdf_url</td>
<td>VARCHAR(255)</td>
<td>NULL</td>
<td>PDF链接</td>
<td></td>
</tr>
<tr>
<td>created_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>申请时间</td>
<td>DEFAULT CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>updated_at</td>
<td>DATETIME</td>
<td>NN</td>
<td>更新时间</td>
<td>DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</td>
</tr>
<tr>
<td>invoice_date</td>
<td>DATE</td>
<td>NULL</td>
<td>开票日期</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>InvoiceItem (发票项目表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>发票项目ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>invoice_id</td>
<td>INT</td>
<td>FK (<a href="http://Invoice.id">Invoice.id</a>), NN</td>
<td>发票ID</td>
<td></td>
</tr>
<tr>
<td>transaction_id</td>
<td>INT</td>
<td>FK (<a href="http://Transaction.id">Transaction.id</a>), NN, UK (<code>invoice_id</code>, <code>transaction_id</code>)</td>
<td>关联交易ID</td>
<td></td>
</tr>
<tr>
<td>amount</td>
<td>DECIMAL(10,2)</td>
<td>NN</td>
<td>项目金额</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>TEXT</td>
<td>NULL</td>
<td>项目描述</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>AdImpression (广告展示记录表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>BIGINT</td>
<td>PK, NN</td>
<td>广告展示ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>ad_id</td>
<td>INT</td>
<td>FK (<a href="http://Ad.id">Ad.id</a>), NN</td>
<td>广告ID</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>DATETIME(6)</td>
<td>NN</td>
<td>展示时间</td>
<td>DEFAULT CURRENT_TIMESTAMP(6)</td>
</tr>
<tr>
<td>ip_address</td>
<td>VARCHAR(45)</td>
<td>NULL</td>
<td>IP地址</td>
<td></td>
</tr>
<tr>
<td>user_agent</td>
<td>TEXT</td>
<td>NULL</td>
<td>用户代理</td>
<td></td>
</tr>
<tr>
<td>cost</td>
<td>DECIMAL(8,4)</td>
<td>NULL</td>
<td>本次展示花费</td>
<td>(CPM计费)</td>
</tr>
<tr>
<td>device_type</td>
<td>VARCHAR(50)</td>
<td>NULL</td>
<td>设备类型</td>
<td></td>
</tr>
<tr>
<td>geo_location</td>
<td>VARCHAR(100)</td>
<td>NULL</td>
<td>地理位置</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>AdClick (广告点击记录表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>BIGINT</td>
<td>PK, NN</td>
<td>广告点击ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>ad_id</td>
<td>INT</td>
<td>FK (<a href="http://Ad.id">Ad.id</a>), NN</td>
<td>广告ID</td>
<td></td>
</tr>
<tr>
<td>impression_id</td>
<td>BIGINT</td>
<td>FK (<a href="http://AdImpression.id">AdImpression.id</a>), NULL, UK (<code>ad_id</code>, <code>impression_id</code>)</td>
<td>关联展示ID</td>
<td></td>
</tr>
<tr>
<td>timestamp</td>
<td>DATETIME(6)</td>
<td>NN</td>
<td>点击时间</td>
<td>DEFAULT CURRENT_TIMESTAMP(6)</td>
</tr>
<tr>
<td>ip_address</td>
<td>VARCHAR(45)</td>
<td>NULL</td>
<td>IP地址</td>
<td></td>
</tr>
<tr>
<td>user_agent</td>
<td>TEXT</td>
<td>NULL</td>
<td>用户代理</td>
<td></td>
</tr>
<tr>
<td>cost</td>
<td>DECIMAL(8,4)</td>
<td>NULL</td>
<td>本次点击花费</td>
<td>(CPC计费)</td>
</tr>
<tr>
<td>referer_url</td>
<td>VARCHAR(500)</td>
<td>NULL</td>
<td>来源URL</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>DailyStats (每日统计表)</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>数据类型</th>
<th>约束 (PK,FK,UK,NN)</th>
<th>中文描述</th>
<th>备注 (Default, Extra)</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>INT</td>
<td>PK, NN</td>
<td>每日统计ID</td>
<td>AUTO_INCREMENT</td>
</tr>
<tr>
<td>date</td>
<td>DATE</td>
<td>NN</td>
<td>统计日期</td>
<td></td>
</tr>
<tr>
<td>stat_level</td>
<td>VARCHAR(20)</td>
<td>NN</td>
<td>统计层级</td>
<td>ad, campaign, advertiser, platform</td>
</tr>
<tr>
<td>ad_id</td>
<td>INT</td>
<td>FK (<a href="http://Ad.id">Ad.id</a>), NULL</td>
<td>广告ID</td>
<td></td>
</tr>
<tr>
<td>campaign_id</td>
<td>INT</td>
<td>FK (<a href="http://Campaign.id">Campaign.id</a>), NULL</td>
<td>广告活动ID</td>
<td></td>
</tr>
<tr>
<td>advertiser_id</td>
<td>INT</td>
<td>FK (<a href="http://User.id">User.id</a>), NULL</td>
<td>广告主ID</td>
<td></td>
</tr>
<tr>
<td>impressions</td>
<td>INT</td>
<td>NN, DEFAULT 0</td>
<td>总展示数</td>
<td></td>
</tr>
<tr>
<td>clicks</td>
<td>INT</td>
<td>NN, DEFAULT 0</td>
<td>总点击数</td>
<td></td>
</tr>
<tr>
<td>cost</td>
<td>DECIMAL(12,2)</td>
<td>NN, DEFAULT 0.00</td>
<td>总花费</td>
<td></td>
</tr>
<tr>
<td>ctr</td>
<td>DECIMAL(5,4)</td>
<td>NULL</td>
<td>点击率</td>
<td>(计算值)</td>
</tr>
<tr>
<td>cpc</td>
<td>DECIMAL(10,2)</td>
<td>NULL</td>
<td>平均点击成本</td>
<td>(计算值)</td>
</tr>
<tr>
<td>cpm</td>
<td>DECIMAL(10,2)</td>
<td>NULL</td>
<td>平均千次展示成本</td>
<td>(计算值)</td>
</tr>
<tr>
<td></td>
<td></td>
<td>UK (<code>date</code>, <code>stat_level</code>, <code>ad_id</code>, <code>campaign_id</code>, <code>advertiser_id</code>)</td>
<td></td>
<td>保证每日各层级唯一性</td>
</tr>
</tbody>
</table>
<h2 id="4-数据流图-dfd">4. 数据流图 (DFD) </h2>
<p>数据流图 (DFD) 描述了系统中的数据流动和处理过程。</p>
<h3 id="41-0层dfd-上下文图">4.1 0层DFD (上下文图) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="549px" preserveAspectRatio="none" style="width:1366px;height:549px;background:#FFFFFF;" version="1.1" viewBox="0 0 1366 549" width="1366px" zoomAndPan="magnify"><title>AdWeb 广告管理平台 - 0层DFD (上下文图)</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="276.7393" x="537.6526" y="24.5332">AdWeb 广告管理平台 - 0层DFD (上下文图)</text><!--entity Advertiser--><g class="entity" data-entity="Advertiser" data-source-line="4" data-uid="ent0002" id="entity_Advertiser"><ellipse cx="27" cy="238.3194" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M27,246.3194 L27,273.3194 M14,254.3194 L40,254.3194 M27,273.3194 L14,288.3194 M27,273.3194 L40,288.3194" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="6" y="304.3526">广告主</text></g><!--entity Admin--><g class="entity" data-entity="Admin" data-source-line="5" data-uid="ent0003" id="entity_Admin"><ellipse cx="1297" cy="93.3194" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M1297,101.3194 L1297,128.3194 M1284,109.3194 L1310,109.3194 M1297,128.3194 L1284,143.3194 M1297,128.3194 L1310,143.3194" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="1276" y="159.3526">管理员</text></g><!--entity PaymentGateway--><g class="entity" data-entity="PaymentGateway" data-source-line="6" data-uid="ent0004" id="entity_PaymentGateway"><path d="M1259,232.3194 C1259,222.3194 1297,222.3194 1297,222.3194 C1297,222.3194 1335,222.3194 1335,232.3194 L1335,258.9288 C1335,268.9288 1297,268.9288 1297,268.9288 C1297,268.9288 1259,268.9288 1259,258.9288 L1259,232.3194" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><path d="M1259,232.3194 C1259,242.3194 1297,242.3194 1297,242.3194 C1297,242.3194 1335,242.3194 1335,232.3194" fill="none" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1269" y="260.8526">支付服务</text></g><!--entity AdNetwork--><g class="entity" data-entity="AdNetwork" data-source-line="7" data-uid="ent0005" id="entity_AdNetwork"><path d="M1246.5152,370.0906 C1250.5057,363.2942 1255.662,361.8765 1260.587,369.1565 C1263.1892,362.6966 1269.3131,361.7008 1272.9525,368.1642 C1275.4015,360.1352 1280.2613,359.1826 1286.1255,364.8888 C1290.1806,357.8313 1294.5188,358.9577 1298.9505,364.5057 C1303.032,359.148 1308.4882,359.8789 1310.6791,366.3761 C1314.7161,359.87 1320.8582,361.0508 1323.3613,367.8393 C1326.8696,362.978 1331.8922,362.3842 1335.2092,368.0544 C1339.7429,362.5965 1344.4344,362.7947 1348.1949,368.9211 C1356.444,372.0477 1359.0445,380.7508 1351.5233,386.8113 C1357.6334,392.4227 1356.1868,399.1467 1348.9161,402.5401 C1345.6705,409.0448 1340.499,409.1395 1335.9005,404.0602 C1332.0611,409.5544 1328.134,410.1921 1323.2667,405.312 C1321.3835,411.5592 1315.8335,412.8516 1311.2712,408.2835 C1309.0212,414.6015 1303.8184,417.3188 1298.4354,411.6339 C1292.392,416.1244 1287.0629,415.9797 1284.3571,407.8968 C1280.0243,412.2544 1275.6025,411.2552 1273.298,405.6463 C1267.9251,410.8049 1264.0111,410.0776 1260.7895,403.3772 C1257.12,408.4731 1250.6815,408.1945 1247.6994,402.5401 C1239.8891,398.3623 1237.9527,391.5903 1246.1483,385.9187 C1238.948,380.2709 1239.8801,375.4178 1246.5152,370.0906" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.8896" x="1253" y="390.3526">广告网络/媒体</text></g><!--entity AdWebSystem--><g class="entity" data-entity="AdWebSystem" data-source-line="9" data-uid="ent0006" id="entity_AdWebSystem"><rect fill="#C2F0FF" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149.9102" x="591" y="249.8194"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.9102" x="601" y="274.3526">AdWeb广告管理平台</text></g><!--link Advertiser to AdWebSystem--><g class="link" data-entity-1="Advertiser" data-entity-2="AdWebSystem" data-source-line="11" data-uid="lnk7" id="link_Advertiser_AdWebSystem"><path d="M48.12,268.8194 C130.65,268.8194 439.75,268.8194 584.94,268.8194" fill="none" id="Advertiser-to-AdWebSystem" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="590.94,268.8194,581.94,264.8194,585.94,268.8194,581.94,272.8194,590.94,268.8194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="481.73" x="79" y="265.3145">用户注册信息, 登录凭证, 账户操作请求, 广告活动/广告创建请求, 充值请求, 发票申请</text></g><!--link AdWebSystem to Advertiser--><g class="link" data-entity-1="AdWebSystem" data-entity-2="Advertiser" data-source-line="12" data-uid="lnk8" id="link_AdWebSystem_Advertiser"><path d="M599.16,287.8594 C586.59,290.7594 573.47,293.2894 561,294.8194 C347.94,321.0494 286.53,345.7994 78,294.8194 C67.55,292.2694 62.0414,290.1002 53.2414,285.0402" fill="none" id="AdWebSystem-to-Advertiser" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="48.04,282.0494,53.8483,290.0032,52.3745,284.5417,57.836,283.068,48.04,282.0494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.1182" x="158.5" y="291.3145">账户信息, 审核状态, 广告数据, 财务报表, 发票, 系统通知</text></g><!--link Admin to AdWebSystem--><g class="link" data-entity-1="Admin" data-entity-2="AdWebSystem" data-source-line="14" data-uid="lnk9" id="link_Admin_AdWebSystem"><path d="M1275.77,132.6194 C1258.18,139.9194 1231.85,150.0094 1208,155.8194 C1017.71,202.2394 957.42,152.7294 771,212.8194 C744.07,221.5094 721.0487,233.9366 700.8487,246.4666" fill="none" id="Admin-to-AdWebSystem" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="695.75,249.6294,705.5066,248.2844,699.9989,246.9938,701.2896,241.4861,695.75,249.6294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="435.5063" x="772" y="152.3145">登录凭证, 用户/广告审核操作, 广告位管理请求, 系统配置请求, 财务审批操作</text></g><!--link AdWebSystem to Admin--><g class="link" data-entity-1="AdWebSystem" data-entity-2="Admin" data-source-line="15" data-uid="lnk10" id="link_AdWebSystem_Admin"><path d="M675.05,249.6194 C689.22,218.6294 721.86,158.5794 771,133.8194 C948.07,44.6094 1197.4072,98.2822 1270.1472,116.8922" fill="none" id="AdWebSystem-to-Admin" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1275.96,118.3794,1268.2323,112.2735,1271.116,117.1401,1266.2494,120.0238,1275.96,118.3794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.2827" x="853.5" y="81.3145">用户/广告列表, 系统报表, 待处理任务, 系统通知</text></g><!--link AdWebSystem to PaymentGateway--><g class="link" data-entity-1="AdWebSystem" data-entity-2="PaymentGateway" data-source-line="17" data-uid="lnk11" id="link_AdWebSystem_PaymentGateway"><path d="M741.2,253.6594 C751.18,252.0894 761.32,250.7394 771,249.8194 C953.4,232.5994 1167.0263,239.6839 1252.9763,243.6339" fill="none" id="AdWebSystem-to-PaymentGateway" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1258.97,243.9094,1250.1631,239.5004,1253.9753,243.6798,1249.7959,247.492,1258.97,243.9094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.27" x="944.5" y="235.3145">支付请求 (充值)</text></g><!--link PaymentGateway to AdWebSystem--><g class="link" data-entity-1="PaymentGateway" data-entity-2="AdWebSystem" data-source-line="18" data-uid="lnk12" id="link_PaymentGateway_AdWebSystem"><path d="M1258.58,261.6094 C1243.21,267.2994 1225.04,272.9994 1208,275.8194 C1016.39,307.5894 965.11,282.3494 771,275.8194 C761.32,275.4994 757.14,275.3454 747.1,274.7654" fill="none" id="PaymentGateway-to-AdWebSystem" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="741.11,274.4194,749.8643,278.9318,746.1017,274.7077,750.3257,270.9451,741.11,274.4194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="963.5" y="272.3145">支付结果</text></g><!--link AdWebSystem to AdNetwork--><g class="link" data-entity-1="AdWebSystem" data-entity-2="AdNetwork" data-source-line="20" data-uid="lnk13" id="link_AdWebSystem_AdNetwork"><path d="M671.55,288.0094 C681.76,326.2394 710.52,411.2194 771,445.8194 C939.57,542.2894 1022.63,503.7894 1208,445.8194 C1231.24,438.5594 1249.1318,426.5919 1265.5618,412.8919" fill="none" id="AdWebSystem-to-AdNetwork" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1270.17,409.0494,1260.6961,411.741,1266.3299,412.2514,1265.8194,417.8852,1270.17,409.0494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.2236" x="921" y="442.3145">广告投放指令, 广告素材</text></g><!--link AdNetwork to AdWebSystem--><g class="link" data-entity-1="AdNetwork" data-entity-2="AdWebSystem" data-source-line="21" data-uid="lnk14" id="link_AdNetwork_AdWebSystem"><path d="M1237.77,391.1894 C1118.9,403.2094 852.64,424.8994 771,387.8194 C725.78,367.2894 695.4329,321.5448 679.8229,293.4348" fill="none" id="AdNetwork-to-AdWebSystem" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="676.91,288.1894,677.7824,297.9995,679.3374,292.5606,684.7763,294.1156,676.91,288.1894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6118" x="923" y="384.3145">广告展示/点击原始数据</text></g><!--link AdWebSystem to AdNetwork--><g class="link" data-entity-1="AdWebSystem" data-entity-2="AdNetwork" data-source-line="22" data-uid="lnk15" id="link_AdWebSystem_AdNetwork"><path d="M701.08,287.9394 C720.89,298.1694 746.67,310.0394 771,316.8194 C959.25,369.3394 1015.12,334.2694 1208,365.8194 C1217.72,367.4094 1222.1032,368.1598 1232.0632,370.2098" fill="none" id="AdWebSystem-to-AdNetwork-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1237.94,371.4194,1229.9312,365.6871,1233.0427,370.4114,1228.3184,373.5229,1237.94,371.4194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.6582" x="940" y="313.3145">(可能的结算指令)</text></g><!--SRC=[VPBVRX915CRlvoacU0C91A-vC24scYQcacZYzHR6kf4_oJBQS0TO2cwBb0AsjYXT0qfCX1A8XOvBNsPd1j_2MMQNIY5Upintpk_xpXciuZY2uTWBj0tfv8PMTTup-D4-dGnfvH86u7qwo6yyse1UQwnRumFsiKZFfpuGHoynn2cegJklC8of6efYDPK4G8dYb0OzifSr9Xwef4N_jqZ3QXffxhj3gPuwxmar2M8ALhQLD88ULkzRv9GrorGtveA8aacW97wiOBIhP40qddeJSo7Sh7BI3D8VnvPPSzfj8RoRqbu3OFjIaZiYesSUSZMZKo7UdcNI62NWlN0aycJpOVZvvjCj06wjmq3WmP8m17czoqfNRDYb-uVMZS5oVJ_admWr6xJuSzRF-U5izCrMrCgMsPprhzWWxtVcp4Q4wjsWFD3IEINN2q6XGBE_5wTAbNUwl3uK5-1VllIpi1ToOAuHsZFOnPZhlrWsju0sBbcvPzlwAaRBzCxCwBe4ONr8E6dzoPxnLiTEBfQoBlHIG3a2DyOSATEwICiiot6xUHnAeSpDddid_TZbxoUoV4rIsqxe3h1qCayWUoxoJ0kqlIUG5X4pDbQ3BNTU_bm28R-Vz0QzSXi-S4UsEXXPnacDVMc2DVwTJocKpZBq1gjFsM7H8crtMdnqmJuVWLlnAiP9FcZmzdMGvoUqIEY75lr-89VxNx2NLlgpToO_snCsUUz4mdr_0G00]--></g></svg></p><p><strong>0层DFD说明:</strong></p>
<ul>
<li><strong>外部实体</strong>:
<ul>
<li>广告主 (Advertiser):系统的主要用户，进行广告投放和财务管理。</li>
<li>管理员 (Admin): 系统的维护和管理者，进行审核和配置。</li>
<li>支付服务 (PaymentGateway): 处理充值支付的外部服务。</li>
<li>广告网络/媒体 (AdNetwork): 实际展示广告的外部平台或媒体。</li>
</ul>
</li>
<li><strong>核心系统</strong>: AdWeb广告管理平台，作为一个整体处理所有数据和交互。</li>
<li><strong>主要数据流</strong>: 概括了各外部实体与核心系统之间最重要的数据输入和输出。</li>
</ul>
<h3 id="42-1层dfd">4.2 1层DFD </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="1749px" preserveAspectRatio="none" style="width:1222px;height:1749px;background:#FFFFFF;" version="1.1" viewBox="0 0 1222 1749" width="1222px" zoomAndPan="magnify"><title>AdWeb 广告管理平台 - 1层DFD</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="204.4629" x="502.1086" y="24.5332">AdWeb 广告管理平台 - 1层DFD</text><!--cluster AdWeb??????--><g class="cluster" data-entity="AdWeb广告管理平台" data-source-line="15" data-uid="ent0006" id="cluster_AdWeb广告管理平台"><path d="M195.18,109.6094 L332.9876,109.6094 A3.75,3.75 0 0 1 335.4876,112.1094 L342.4876,133.2188 L976.18,133.2188 A2.5,2.5 0 0 1 978.68,135.7188 L978.68,694.1094 A2.5,2.5 0 0 1 976.18,696.6094 L195.18,696.6094 A2.5,2.5 0 0 1 192.68,694.1094 L192.68,112.1094 A2.5,2.5 0 0 1 195.18,109.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="192.68" x2="342.4876" y1="133.2188" y2="133.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.8076" x="196.68" y="126.1426">AdWeb广告管理平台</text></g><!--entity P1_UserMgmt--><g class="entity" data-entity="P1_UserMgmt" data-source-line="17" data-uid="ent0007" id="entity_P1_UserMgmt"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.3516" x="249.68" y="632.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="349.0316" y="637.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="347.0316" y="639.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="347.0316" y="643.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.3516" x="264.68" y="667.1426">1.0 用户管理</text></g><!--entity P2_AdMgmt--><g class="entity" data-entity="P2_AdMgmt" data-source-line="18" data-uid="ent0008" id="entity_P2_AdMgmt"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.3516" x="249.68" y="246.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="349.0316" y="251.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="347.0316" y="253.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="347.0316" y="257.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.3516" x="264.68" y="281.1426">2.0 广告管理</text></g><!--entity P3_FinanceMgmt--><g class="entity" data-entity="P3_FinanceMgmt" data-source-line="19" data-uid="ent0009" id="entity_P3_FinanceMgmt"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.3516" x="249.68" y="430.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="349.0316" y="435.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="347.0316" y="437.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="347.0316" y="441.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.3516" x="264.68" y="465.1426">3.0 财务管理</text></g><!--entity P4_DataReport--><g class="entity" data-entity="P4_DataReport" data-source-line="20" data-uid="ent0010" id="entity_P4_DataReport"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.3516" x="774.68" y="517.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="888.0316" y="522.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="886.0316" y="524.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="886.0316" y="528.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3516" x="789.68" y="552.1426">4.0 数据与报表</text></g><!--entity P5_SysConfigAudit--><g class="entity" data-entity="P5_SysConfigAudit" data-source-line="21" data-uid="ent0011" id="entity_P5_SysConfigAudit"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.3516" x="228.68" y="145.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="370.0316" y="150.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="368.0316" y="152.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="368.0316" y="156.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.3516" x="243.68" y="180.1426">5.0 系统配置与审计</text></g><!--entity DS_Users--><g class="entity" data-entity="DS_Users" data-source-line="24" data-uid="ent0012" id="entity_DS_Users"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.0684" x="208.68" y="531.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="389.7484" y="536.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="387.7484" y="538.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="387.7484" y="542.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.0684" x="223.68" y="566.1426">«database» 用户数据存储</text></g><!--entity DS_Ads--><g class="entity" data-entity="DS_Ads" data-source-line="25" data-uid="ent0013" id="entity_DS_Ads"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.0684" x="740.68" y="211.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="921.7484" y="216.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="919.7484" y="218.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="919.7484" y="222.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.0684" x="755.68" y="246.1426">«database» 广告数据存储</text></g><!--entity DS_Finance--><g class="entity" data-entity="DS_Finance" data-source-line="26" data-uid="ent0014" id="entity_DS_Finance"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.0684" x="208.68" y="329.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="389.7484" y="334.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="387.7484" y="336.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="387.7484" y="340.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.0684" x="223.68" y="364.1426">«database» 财务数据存储</text></g><!--entity DS_Stats--><g class="entity" data-entity="DS_Stats" data-source-line="27" data-uid="ent0015" id="entity_DS_Stats"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.0684" x="740.68" y="416.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="921.7484" y="421.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="919.7484" y="423.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="919.7484" y="427.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.0684" x="755.68" y="451.1426">«database» 统计数据存储</text></g><!--entity DS_ConfigLog--><g class="entity" data-entity="DS_ConfigLog" data-source-line="28" data-uid="ent0016" id="entity_DS_ConfigLog"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="243.0684" x="719.68" y="294.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="942.7484" y="299.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="940.7484" y="301.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="940.7484" y="305.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.0684" x="734.68" y="329.1426">«database» 配置与日志数据存储</text></g><!--entity Advertiser--><g class="entity" data-entity="Advertiser" data-source-line="7" data-uid="ent0002" id="entity_Advertiser"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="800.18" y="1235.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="862.18" y="1240.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="860.18" y="1242.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="860.18" y="1246.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="815.18" y="1270.1426">广告主</text></g><!--entity Admin--><g class="entity" data-entity="Admin" data-source-line="8" data-uid="ent0003" id="entity_Admin"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="800.18" y="963.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="862.18" y="968.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="860.18" y="970.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="860.18" y="974.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="815.18" y="998.1426">管理员</text></g><!--entity PaymentGateway--><g class="entity" data-entity="PaymentGateway" data-source-line="9" data-uid="ent0004" id="entity_PaymentGateway"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="261.18" y="45.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="337.18" y="50.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="335.18" y="52.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="335.18" y="56.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="276.18" y="80.1426">支付服务</text></g><!--entity AdNetwork--><g class="entity" data-entity="AdNetwork" data-source-line="12" data-uid="ent0005" id="entity_AdNetwork"><path d="M790.6952,878.8806 C794.6857,872.0842 799.842,870.6665 804.767,877.9465 C807.3692,871.4866 813.4931,870.4908 817.1325,876.9542 C819.5815,868.9252 824.4413,867.9726 830.3055,873.6788 C834.3606,866.6213 838.6988,867.7477 843.1305,873.2957 C847.212,867.938 852.6682,868.6689 854.8591,875.1661 C858.8961,868.66 865.0382,869.8408 867.5413,876.6293 C871.0496,871.768 876.0722,871.1742 879.3892,876.8444 C883.9229,871.3865 888.6144,871.5847 892.3749,877.7111 C900.624,880.8377 903.2245,889.5408 895.7033,895.6013 C901.8134,901.2127 900.3668,907.9367 893.0961,911.3301 C889.8505,917.8348 884.679,917.9295 880.0805,912.8502 C876.2411,918.3444 872.314,918.9821 867.4467,914.102 C865.5635,920.3492 860.0135,921.6416 855.4512,917.0735 C853.2012,923.3915 847.9984,926.1088 842.6154,920.4239 C836.572,924.9144 831.2429,924.7697 828.5371,916.6868 C824.2043,921.0444 819.7825,920.0452 817.478,914.4363 C812.1051,919.5949 808.1911,918.8676 804.9695,912.1672 C801.3,917.2631 794.8615,916.9845 791.8794,911.3301 C784.0691,907.1523 782.1327,900.3803 790.3283,894.7087 C783.128,889.0609 784.0601,884.2078 790.6952,878.8806" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.8896" x="797.18" y="899.1426">广告网络/媒体</text></g><g class="entity" data-entity="GMN52" data-source-line="80" data-uid="ent0053" id="entity_GMN52"><path d="M739.68,1693.1094 L739.68,1735.8125 L942.68,1735.8125 L942.68,1703.1094 L932.68,1693.1094 L739.68,1693.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M932.68,1693.1094 L932.68,1703.1094 L942.68,1703.1094 L932.68,1693.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="745.68" y="1711.6045">功能：用户注册、登录、认证、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="745.68" y="1727.9561">授权、资料管理、用户审核</text></g><g class="entity" data-entity="GMN55" data-source-line="81" data-uid="ent0056" id="entity_GMN55"><path d="M739.68,791.1094 L739.68,833.8125 L942.68,833.8125 L942.68,801.1094 L932.68,791.1094 L739.68,791.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M932.68,791.1094 L932.68,801.1094 L942.68,801.1094 L932.68,791.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.6118" x="745.68" y="809.6045">功能：广告活动/广告创建、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="745.68" y="825.9561">素材管理、审核、投放指令下发</text></g><g class="entity" data-entity="GMN58" data-source-line="82" data-uid="ent0059" id="entity_GMN58"><path d="M746.18,1615.1094 L746.18,1657.8125 L936.18,1657.8125 L936.18,1625.1094 L926.18,1615.1094 L746.18,1615.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M926.18,1615.1094 L926.18,1625.1094 L936.18,1625.1094 L926.18,1615.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="752.18" y="1633.6045">功能：账户充值、支付对接、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="752.18" y="1649.9561">交易记录管理、发票处理</text></g><g class="entity" data-entity="GMN61" data-source-line="83" data-uid="ent0062" id="entity_GMN61"><path d="M1025.68,520.1094 L1025.68,537.6094 L907.94,541.6094 L1025.68,545.6094 L1025.68,562.8125 A0,0 0 0 0 1025.68,562.8125 L1215.68,562.8125 A0,0 0 0 0 1215.68,562.8125 L1215.68,530.1094 L1205.68,520.1094 L1025.68,520.1094 A0,0 0 0 0 1025.68,520.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M1205.68,520.1094 L1205.68,530.1094 L1215.68,530.1094 L1205.68,520.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1031.68" y="538.6045">功能：广告数据收集、清洗、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1031.68" y="554.9561">聚合、报表生成</text></g><g class="entity" data-entity="GMN64" data-source-line="84" data-uid="ent0065" id="entity_GMN64"><path d="M746.18,713.1094 L746.18,755.8125 L936.18,755.8125 L936.18,723.1094 L926.18,713.1094 L746.18,713.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M926.18,713.1094 L926.18,723.1094 L936.18,723.1094 L926.18,713.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="752.18" y="731.6045">功能：系统参数配置、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="752.18" y="747.9561">用户权限管理、审计日志查询</text></g><!--link Advertiser to P1_UserMgmt--><g class="link" data-entity-1="Advertiser" data-entity-2="P1_UserMgmt" data-source-line="32" data-uid="lnk17" id="link_Advertiser_P1_UserMgmt"><path d="M837.47,1283.8494 C829.02,1346.4494 796.92,1513.3594 689.68,1581.6094 C595.94,1641.2694 523.52,1654.5294 439.68,1581.6094 C369.25,1520.3594 320.75,821.0094 311.71,680.9494" fill="none" id="Advertiser-P1_UserMgmt" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.4473" x="453.68" y="1578.1045">用户注册信息, 登录凭证, 个人资料更新</text></g><!--link P1_UserMgmt to Advertiser--><g class="link" data-entity-1="P1_UserMgmt" data-entity-2="Advertiser" data-source-line="33" data-uid="lnk18" id="link_P1_UserMgmt_Advertiser"><path d="M309.78,680.9694 C308.21,809.8094 308.11,1410.2294 439.68,1523.6094 C481.77,1559.8794 641.64,1551.5194 689.68,1523.6094 C781.14,1470.4694 821.66,1338.6294 834.92,1283.9594" fill="none" id="P1_UserMgmt-Advertiser" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.4473" x="492.68" y="1520.1045">账户信息, 验证结果, 通知</text></g><!--link Admin to P1_UserMgmt--><g class="link" data-entity-1="Admin" data-entity-2="P1_UserMgmt" data-source-line="35" data-uid="lnk19" id="link_Admin_P1_UserMgmt"><path d="M824.21,1011.7294 C798,1052.5194 746.15,1138.5094 719.68,1218.6094 C706.34,1258.9894 722.02,1379.9994 689.68,1407.6094 C647.43,1443.6794 482.17,1443.3994 439.68,1407.6094 C325.21,1311.1894 311.92,798.6094 310.38,680.7694" fill="none" id="Admin-P1_UserMgmt" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.2236" x="483.18" y="1404.1045">用户审核指令, 用户管理指令</text></g><!--link P1_UserMgmt to Admin--><g class="link" data-entity-1="P1_UserMgmt" data-entity-2="Admin" data-source-line="36" data-uid="lnk20" id="link_P1_UserMgmt_Admin"><path d="M310.76,680.7694 C313.99,792.9794 333.75,1261.6394 439.68,1349.6094 C482.42,1385.0994 646.23,1384.2294 689.68,1349.6094 C736.39,1312.3894 699.03,1274.6594 719.68,1218.6094 C748.92,1139.2394 799.74,1052.5694 825.01,1011.6094" fill="none" id="P1_UserMgmt-Admin" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.2236" x="509.18" y="1346.1045">用户列表, 审核结果</text></g><!--link P1_UserMgmt to DS_Users--><g class="link" data-entity-1="P1_UserMgmt" data-entity-2="DS_Users" data-source-line="38" data-uid="lnk21" id="link_P1_UserMgmt_DS_Users"><path d="M309.18,626.4194 C309.18,610.5494 309.18,601.8594 309.18,585.9594" fill="none" id="P1_UserMgmt-DS_Users" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="309.18,632.4194,313.18,623.4194,309.18,627.4194,305.18,623.4194,309.18,632.4194" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="309.18,579.9594,305.18,588.9594,309.18,584.9594,313.18,588.9594,309.18,579.9594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="245.18" y="611.6045">用户基础数据读写</text></g><!--link P1_UserMgmt to DS_ConfigLog--><g class="link" data-entity-1="P1_UserMgmt" data-entity-2="DS_ConfigLog" data-source-line="39" data-uid="lnk22" id="link_P1_UserMgmt_DS_ConfigLog"><path d="M369.01,643.7894 C472.79,620.9294 678.58,574.4194 689.68,562.6094 C740.43,508.6194 678.9,460.4794 719.68,398.6094 C735.57,374.4994 756.2528,358.8191 780.0028,345.6491" fill="none" id="P1_UserMgmt-to-DS_ConfigLog" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="785.25,342.7394,775.4393,343.6058,780.8773,345.1641,779.319,350.6021,785.25,342.7394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="512.68" y="559.1045">用户操作日志写入</text></g><!--link Advertiser to P2_AdMgmt--><g class="link" data-entity-1="Advertiser" data-entity-2="P2_AdMgmt" data-source-line="41" data-uid="lnk23" id="link_Advertiser_P2_AdMgmt"><path d="M825.59,1235.4694 C801.99,1198.7294 751.76,1129.4694 689.68,1095.6094 C590.7,1041.6294 514.06,1137.3394 439.68,1052.6094 C385.32,990.6894 456.9,379.1394 409.68,311.6094 C399.94,297.6794 384.55,288.4694 368.76,282.3894" fill="none" id="Advertiser-P2_AdMgmt" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.4473" x="453.68" y="1049.1045">广告创建请求, 素材文件, 状态变更申请</text></g><!--link P2_AdMgmt to Advertiser--><g class="link" data-entity-1="P2_AdMgmt" data-entity-2="Advertiser" data-source-line="42" data-uid="lnk24" id="link_P2_AdMgmt_Advertiser"><path d="M368.82,282.3394 C384.62,288.4194 399.99,297.6394 409.68,311.6094 C467.53,395.0094 369.88,1150.9194 439.68,1224.6094 C488.03,1275.6694 708.39,1268.0294 800.03,1262.4694" fill="none" id="P2_AdMgmt-Advertiser" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.6709" x="450.18" y="1221.1045">广告列表, 广告状态, 审核结果, 预览链接</text></g><!--link Admin to P2_AdMgmt--><g class="link" data-entity-1="Admin" data-entity-2="P2_AdMgmt" data-source-line="44" data-uid="lnk25" id="link_Admin_P2_AdMgmt"><path d="M800,995.8994 C708.82,1013.6694 490.25,1050.0294 439.68,1001.6094 C384.25,948.5394 453.75,374.4394 409.68,311.6094 C399.92,297.6894 384.52,288.4894 368.73,282.4094" fill="none" id="Admin-P2_AdMgmt" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.4473" x="447.18" y="998.1045">广告审核指令, 广告位配置, 投放参数设置</text></g><!--link P2_AdMgmt to Admin--><g class="link" data-entity-1="P2_AdMgmt" data-entity-2="Admin" data-source-line="45" data-uid="lnk26" id="link_P2_AdMgmt_Admin"><path d="M368.7,282.4294 C384.49,288.5094 399.89,297.7094 409.68,311.6094 C450.17,369.0894 391.53,892.3794 439.68,943.6094 C451.94,956.6594 700.78,976.9794 799.93,984.5994" fill="none" id="P2_AdMgmt-Admin" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.2236" x="476.68" y="940.1045">待审核广告列表, 全量广告清单</text></g><!--link P2_AdMgmt to DS_Ads--><g class="link" data-entity-1="P2_AdMgmt" data-entity-2="DS_Ads" data-source-line="47" data-uid="lnk27" id="link_P2_AdMgmt_DS_Ads"><path d="M374.8116,265.4303 C397.0016,263.6903 416.51,262.2294 439.68,260.6094 C542.19,253.4494 653.5406,246.6063 734.5906,241.7763" fill="none" id="P2_AdMgmt-DS_Ads" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="368.83,265.8994,378.1152,269.1836,373.8147,265.5085,377.4898,261.2081,368.83,265.8994" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="740.58,241.4194,731.358,237.9618,735.5889,241.7168,731.8339,245.9477,740.58,241.4194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="512.68" y="241.1045">广告活动数据读写</text></g><!--link P2_AdMgmt to DS_ConfigLog--><g class="link" data-entity-1="P2_AdMgmt" data-entity-2="DS_ConfigLog" data-source-line="48" data-uid="lnk28" id="link_P2_AdMgmt_DS_ConfigLog"><path d="M368.78,278.3994 C390.97,281.1994 416.47,284.2494 439.68,286.6094 C533.54,296.1494 634.0258,304.1139 713.5858,309.9039" fill="none" id="P2_AdMgmt-to-DS_ConfigLog" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="719.57,310.3394,710.8841,305.6967,714.5832,309.9765,710.3034,313.6756,719.57,310.3394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="512.68" y="283.1045">广告操作日志写入</text></g><!--link P2_AdMgmt to AdNetwork--><g class="link" data-entity-1="P2_AdMgmt" data-entity-2="AdNetwork" data-source-line="49" data-uid="lnk29" id="link_P2_AdMgmt_AdNetwork"><path d="M368.85,282.6094 C384.54,288.6994 399.85,297.8494 409.68,311.6094 C473.98,401.6594 364.11,727.7994 439.68,808.6094 C477.94,849.5194 635.27,827.3294 689.68,840.6094 C703.48,843.9794 706.31,846.8294 719.68,851.6094 C739.92,858.8494 756.4533,864.6574 776.2233,871.5374" fill="none" id="P2_AdMgmt-to-AdNetwork" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="781.89,873.5094,774.7047,866.7736,777.1678,871.866,772.0753,874.3291,781.89,873.5094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="473.68" y="805.1045">广告投放指令（含素材与参数）</text></g><!--link Advertiser to P3_FinanceMgmt--><g class="link" data-entity-1="Advertiser" data-entity-2="P3_FinanceMgmt" data-source-line="51" data-uid="lnk30" id="link_Advertiser_P3_FinanceMgmt"><path d="M830.66,1283.8794 C811.66,1328.4894 764.33,1422.3594 689.68,1459.6094 C639.97,1484.4194 479.58,1498.2694 439.68,1459.6094 C364.15,1386.4394 463.17,604.1494 409.68,513.6094 C400.28,497.6994 384.79,485.6094 368.79,476.6394" fill="none" id="Advertiser-P3_FinanceMgmt" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.4473" x="453.68" y="1456.1045">充值申请, 发票开具请求, 发票信息修改</text></g><!--link P3_FinanceMgmt to Advertiser--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="Advertiser" data-source-line="52" data-uid="lnk31" id="link_P3_FinanceMgmt_Advertiser"><path d="M368.73,476.6794 C384.72,485.6494 400.23,497.7394 409.68,513.6094 C453.94,587.9394 377.34,1231.6294 439.68,1291.6094 C490.26,1340.2794 708.82,1292.6494 800,1270.0494" fill="none" id="P3_FinanceMgmt-Advertiser" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229.6709" x="450.18" y="1288.1045">交易记录, 账户余额, 发票状态, 电子发票</text></g><!--link Admin to P3_FinanceMgmt--><g class="link" data-entity-1="Admin" data-entity-2="P3_FinanceMgmt" data-source-line="54" data-uid="lnk32" id="link_Admin_P3_FinanceMgmt"><path d="M829.61,1011.7994 C809.5,1054.3194 761.28,1141.2094 689.68,1175.6094 C639.6,1199.6694 479.84,1213.9994 439.68,1175.6094 C386.45,1124.7394 447.56,576.7494 409.68,513.6094 C400.23,497.8494 384.82,485.8194 368.92,476.8694" fill="none" id="Admin-P3_FinanceMgmt" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.4473" x="440.68" y="1172.1045">充值审核指令, 发票审批指令, 财务参数配置</text></g><!--link P3_FinanceMgmt to Admin--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="Admin" data-source-line="55" data-uid="lnk33" id="link_P3_FinanceMgmt_Admin"><path d="M368.88,476.8894 C384.77,485.8494 400.19,497.8694 409.68,513.6094 C444.38,571.1494 391,1071.2894 439.68,1117.6094 C479.93,1155.9094 637.61,1136.9894 689.68,1117.6094 C746.47,1096.4794 796.13,1043.2294 821.74,1011.8194" fill="none" id="P3_FinanceMgmt-Admin" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.2236" x="476.68" y="1114.1045">待处理财务任务, 财务统计报表</text></g><!--link P3_FinanceMgmt to DS_Finance--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="DS_Finance" data-source-line="57" data-uid="lnk34" id="link_P3_FinanceMgmt_DS_Finance"><path d="M309.18,424.4194 C309.18,408.5494 309.18,399.8594 309.18,383.9594" fill="none" id="P3_FinanceMgmt-DS_Finance" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="309.18,430.4194,313.18,421.4194,309.18,425.4194,305.18,421.4194,309.18,430.4194" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="309.18,377.9594,305.18,386.9594,309.18,382.9594,313.18,386.9594,309.18,377.9594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6118" x="230.68" y="409.6045">交易记录/发票数据读写</text></g><!--link P3_FinanceMgmt to DS_Users--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="DS_Users" data-source-line="58" data-uid="lnk35" id="link_P3_FinanceMgmt_DS_Users"><path d="M309.18,484.9594 C309.18,500.8594 309.18,509.5494 309.18,525.4194" fill="none" id="P3_FinanceMgmt-DS_Users" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="309.18,478.9594,305.18,487.9594,309.18,483.9594,313.18,487.9594,309.18,478.9594" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="309.18,531.4194,313.18,522.4194,309.18,526.4194,305.18,522.4194,309.18,531.4194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="258.18" y="510.6045">用户余额更新</text></g><!--link P3_FinanceMgmt to PaymentGateway--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="PaymentGateway" data-source-line="59" data-uid="lnk36" id="link_P3_FinanceMgmt_PaymentGateway"><path d="M243.5302,459.642 C195.6802,459.982 137.03,451.4494 102.68,408.6094 C89.09,391.6594 6,336.2094 184.68,129.6094 C204.53,106.6494 229.5165,93.739 255.4265,84.529" fill="none" id="P3_FinanceMgmt-PaymentGateway" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="249.53,459.5994,240.5018,455.6634,244.5301,459.6349,240.5586,463.6632,249.53,459.5994" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="261.08,82.5194,251.2601,81.7648,256.3688,84.194,253.9395,89.3027,261.08,82.5194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6118" x="68.68" y="405.1045">支付请求/结果交互</text></g><!--link P3_FinanceMgmt to DS_ConfigLog--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="DS_ConfigLog" data-source-line="60" data-uid="lnk37" id="link_P3_FinanceMgmt_DS_ConfigLog"><path d="M368.91,459.5694 C461.5,466.3094 636.39,474.3894 689.68,444.6094 C710.99,432.6994 702.49,415.9394 719.68,398.6094 C741.7,376.4094 765.6321,359.9378 789.7221,345.7278" fill="none" id="P3_FinanceMgmt-to-DS_ConfigLog" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="794.89,342.6794,785.1059,343.8067,790.5834,345.2197,789.1704,350.6972,794.89,342.6794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="512.68" y="441.1045">财务操作日志写入</text></g><!--link AdNetwork to P4_DataReport--><g class="link" data-entity-1="AdNetwork" data-entity-2="P4_DataReport" data-source-line="62" data-uid="lnk38" id="link_AdNetwork_P4_DataReport"><path d="M781.94,879.5194 C761.22,872.9794 738.46,863.8694 719.68,851.6094 C615.78,783.7694 466.07,738.8794 539.18,638.6094 C592.79,565.0794 703.03,546.0594 774.45,541.8194" fill="none" id="AdNetwork-P4_DataReport" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6118" x="498.18" y="653.1045">广告展示/点击原始数据</text></g><!--link P2_AdMgmt to P4_DataReport--><g class="link" data-entity-1="P2_AdMgmt" data-entity-2="P4_DataReport" data-source-line="63" data-uid="lnk39" id="link_P2_AdMgmt_P4_DataReport"><path d="M368.84,285.8394 C383.61,291.9094 398.44,300.2594 409.68,311.6094 C434.93,337.1294 411.47,364.4094 439.68,386.6094 C527.9,456.0294 598.43,357.2294 689.68,422.6094 C713.59,439.7394 698.79,460.8994 719.68,481.6094 C735.11,496.9194 755.24,509.0194 774.6,518.2294" fill="none" id="P2_AdMgmt-P4_DataReport" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.2236" x="483.18" y="383.1045">广告花费数据, 广告基础信息</text></g><!--link P3_FinanceMgmt to P4_DataReport--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="P4_DataReport" data-source-line="64" data-uid="lnk40" id="link_P3_FinanceMgmt_P4_DataReport"><path d="M365.31,478.6194 C387.95,487.5294 414.68,496.8594 439.68,502.6094 C555.59,529.2594 694.46,537.7194 774.49,540.3894" fill="none" id="P3_FinanceMgmt-P4_DataReport" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="525.68" y="499.1045">交易对账数据</text></g><!--link P4_DataReport to DS_Stats--><g class="link" data-entity-1="P4_DataReport" data-entity-2="DS_Stats" data-source-line="66" data-uid="lnk41" id="link_P4_DataReport_DS_Stats"><path d="M841.18,511.4194 C841.18,495.5494 841.18,486.8594 841.18,470.9594" fill="none" id="P4_DataReport-DS_Stats" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="841.18,517.4194,845.18,508.4194,841.18,512.4194,837.18,508.4194,841.18,517.4194" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="841.18,464.9594,837.18,473.9594,841.18,469.9594,845.18,473.9594,841.18,464.9594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="770.68" y="496.6045">处理后统计数据读写</text></g><!--link P4_DataReport to DS_Ads--><g class="link" data-entity-1="P4_DataReport" data-entity-2="DS_Ads" data-source-line="67" data-uid="lnk42" id="link_P4_DataReport_DS_Ads"><path d="M768.9036,521.5006 C661.5336,488.5806 474.77,415.6094 547.18,319.6094 C591.53,260.8094 668.1923,241.5861 734.5923,235.8461" fill="none" id="P4_DataReport-DS_Ads" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="774.64,523.2594,767.2079,516.7969,769.8596,521.7937,764.8628,524.4454,774.64,523.2594" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="740.57,235.3294,731.2589,232.1194,735.5886,235.76,731.9479,240.0896,740.57,235.3294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="506.18" y="334.1045">广告元数据读取关联</text></g><!--link P4_DataReport to Advertiser--><g class="link" data-entity-1="P4_DataReport" data-entity-2="Advertiser" data-source-line="68" data-uid="lnk43" id="link_P4_DataReport_Advertiser"><path d="M791.57,565.6694 C701.72,612.9894 525.04,725.3394 566.68,859.6094 C617.07,1022.1094 758.85,1177.2094 816.42,1235.4194" fill="none" id="P4_DataReport-Advertiser" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="525.68" y="856.1045">广告效果报表</text></g><!--link P4_DataReport to Admin--><g class="link" data-entity-1="P4_DataReport" data-entity-2="Admin" data-source-line="69" data-uid="lnk44" id="link_P4_DataReport_Admin"><path d="M774.52,544.9694 C697.96,552.8294 575.49,578.5094 517.68,661.6094 C431.49,785.5194 600.08,842.5394 719.68,934.6094 C743.66,953.0694 775.06,966.5494 799.94,975.2994" fill="none" id="P4_DataReport-Admin" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.2236" x="476.68" y="676.1045">系统运营报表, 广告主消费报表</text></g><!--link P4_DataReport to DS_ConfigLog--><g class="link" data-entity-1="P4_DataReport" data-entity-2="DS_ConfigLog" data-source-line="70" data-uid="lnk45" id="link_P4_DataReport_DS_ConfigLog"><path d="M774.32,524.6094 C667.17,494.3694 476.52,426.4894 553.68,342.6094 C595.39,297.2694 657.4082,289.4921 716.8082,294.1321" fill="none" id="P4_DataReport-to-DS_ConfigLog" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="722.79,294.5994,714.1288,289.9106,717.8052,294.21,713.5058,297.8863,722.79,294.5994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="512.68" y="357.1045">数据处理日志写入</text></g><!--link Admin to P5_SysConfigAudit--><g class="link" data-entity-1="Admin" data-entity-2="P5_SysConfigAudit" data-source-line="72" data-uid="lnk46" id="link_Admin_P5_SysConfigAudit"><path d="M800.13,980.0494 C773.37,972.8894 739.55,959.3994 719.68,934.6094 C676.62,880.8794 735.78,833.7694 689.68,782.6094 C611.85,696.2394 511.64,796.9294 439.68,705.6094 C373.94,622.1894 465.12,319.1994 409.68,228.6094 C400.66,213.8794 386.48,202.3894 371.61,193.6194" fill="none" id="Admin-P5_SysConfigAudit" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.2236" x="470.18" y="702.1045">系统参数配置指令, 权限管理指令</text></g><!--link P5_SysConfigAudit to Admin--><g class="link" data-entity-1="P5_SysConfigAudit" data-entity-2="Admin" data-source-line="73" data-uid="lnk47" id="link_P5_SysConfigAudit_Admin"><path d="M372.04,193.6694 C386.81,202.4194 400.84,213.8894 409.68,228.6094 C447.29,291.2694 390.58,831.4894 439.68,885.6094 C477.39,927.1894 635.71,906.1994 689.68,921.6094 C691.12,922.0194 755.87,950.4894 799.96,969.8994" fill="none" id="P5_SysConfigAudit-Admin" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.2236" x="470.18" y="882.1045">配置生效反馈, 审计日志查询结果</text></g><!--link P5_SysConfigAudit to DS_ConfigLog--><g class="link" data-entity-1="P5_SysConfigAudit" data-entity-2="DS_ConfigLog" data-source-line="75" data-uid="lnk48" id="link_P5_SysConfigAudit_DS_ConfigLog"><path d="M395.674,159.2219 C478.164,153.1919 601.25,156.6894 689.68,218.6094 C713.45,235.2594 697.75,257.5994 719.68,276.6094 C727.88,283.7194 731.9848,286.9834 741.9448,291.9234" fill="none" id="P5_SysConfigAudit-DS_ConfigLog" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="389.69,159.6594,398.9577,162.9926,394.6767,159.2948,398.3744,155.0139,389.69,159.6594" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="747.32,294.5894,741.0346,287.0069,742.8407,292.3677,737.4799,294.1738,747.32,294.5894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6118" x="498.18" y="154.1045">系统配置/审计日志读写</text></g><!--link P1_UserMgmt to P5_SysConfigAudit--><g class="link" data-entity-1="P1_UserMgmt" data-entity-2="P5_SysConfigAudit" data-source-line="76" data-uid="lnk49" id="link_P1_UserMgmt_P5_SysConfigAudit"><path d="M243.9775,638.1902 C220.5475,628.9602 200.99,617.2094 184.68,596.6094 C130.94,528.7794 50.1,283.1694 104.18,215.6094 C133.36,179.1594 178.6189,167.9852 222.5689,165.5952" fill="none" id="P1_UserMgmt-P5_SysConfigAudit" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="249.56,640.3894,242.6524,633.369,244.908,638.5568,239.7202,640.8123,249.56,640.3894" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="228.56,165.2694,219.3561,161.764,223.5674,165.5409,219.7905,169.7522,228.56,165.2694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="70.18" y="230.1045">用户权限配置交互</text></g><!--link P2_AdMgmt to P5_SysConfigAudit--><g class="link" data-entity-1="P2_AdMgmt" data-entity-2="P5_SysConfigAudit" data-source-line="77" data-uid="lnk50" id="link_P2_AdMgmt_P5_SysConfigAudit"><path d="M309.18,240.4194 C309.18,224.5494 309.18,215.8594 309.18,199.9594" fill="none" id="P2_AdMgmt-P5_SysConfigAudit" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="309.18,246.4194,313.18,237.4194,309.18,241.4194,305.18,237.4194,309.18,246.4194" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="309.18,193.9594,305.18,202.9594,309.18,198.9594,313.18,202.9594,309.18,193.9594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="245.18" y="225.6045">广告投放参数交互</text></g><!--link P3_FinanceMgmt to P5_SysConfigAudit--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="P5_SysConfigAudit" data-source-line="78" data-uid="lnk51" id="link_P3_FinanceMgmt_P5_SysConfigAudit"><path d="M243.9936,433.3051 C170.5136,406.0851 65.41,353.5594 104.18,281.6094 C129.43,234.7494 177.03,208.5186 222.92,192.1186" fill="none" id="P3_FinanceMgmt-P5_SysConfigAudit" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="249.62,435.3894,242.5699,428.5121,244.9314,433.6525,239.791,436.0139,249.62,435.3894" style="stroke:#181818;stroke-width:1;"></polygon><polygon fill="#181818" points="228.57,190.0994,218.7488,189.3615,223.8616,191.782,221.4411,196.8948,228.57,190.0994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="70.18" y="296.1045">财务规则参数交互</text></g><!--link P1_UserMgmt to GMN52--><g class="link" data-entity-1="P1_UserMgmt" data-entity-2="GMN52" data-source-line="80" data-uid="lnk54" id="link_P1_UserMgmt_GMN52"><path d="M311.56,680.9794 C320.1,827.7994 367.73,1590.5894 439.68,1662.6094 C516.86,1739.8694 648.37,1742.3694 739.54,1732.4794" fill="none" id="P1_UserMgmt-GMN52" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--link P2_AdMgmt to GMN55--><g class="link" data-entity-1="P2_AdMgmt" data-entity-2="GMN55" data-source-line="81" data-uid="lnk57" id="link_P2_AdMgmt_GMN55"><path d="M368.76,282.6694 C384.45,288.7594 399.79,297.8994 409.68,311.6094 C465.34,388.7494 376.01,667.9394 439.68,738.6094 C477.44,780.5194 634.24,772.2094 689.68,782.6094 C705.78,785.6294 722.84,788.9294 739.45,792.2094" fill="none" id="P2_AdMgmt-GMN55" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--link P3_FinanceMgmt to GMN58--><g class="link" data-entity-1="P3_FinanceMgmt" data-entity-2="GMN58" data-source-line="82" data-uid="lnk60" id="link_P3_FinanceMgmt_GMN58"><path d="M368.84,476.6194 C384.83,485.5794 400.32,497.6794 409.68,513.6094 C440.69,566.3594 397.01,1570.7494 439.68,1614.6094 C480.59,1656.6694 641.15,1652.8894 746.14,1645.3994" fill="none" id="P3_FinanceMgmt-GMN58" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--link P5_SysConfigAudit to GMN64--><g class="link" data-entity-1="P5_SysConfigAudit" data-entity-2="GMN64" data-source-line="84" data-uid="lnk66" id="link_P5_SysConfigAudit_GMN64"><path d="M371.42,193.7394 C386.29,202.4994 400.52,213.9694 409.68,228.6094 C452.83,297.6194 384.85,533.4694 439.68,593.6094 C515.69,676.9794 599.01,570.4794 689.68,637.6094 C713.32,655.1194 697.24,677.5894 719.68,696.6094 C727.55,703.2794 736.59,708.7694 746.1,713.3094" fill="none" id="P5_SysConfigAudit-GMN64" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--SRC=[TLTBJnj94BxFhsXnoGL28CabGaXeKVQIhAADeZsm4NAmmreXTWIJZQBLIXWm60S_23QOH-AOXM2nYms24DlZnu_PwPxnANyXrLqpTiyZDznJzLNLLqzk45PeqsQ6_dFE2cczrZ2q5LsxflljRyr4DzQXyPIvTagJPPOki-qpBd2XYQ_hoWr2uqrQgPD7Su68-kJX0p9oS_JMwDsReyHOJx23_ypg6RlCAsfOdGkHYU1leMU4rZjqCsbKIaPsbTOlQUQS394HUh4qUNzIcGizLuaQ9VFXsJzK4WpFXsRKS3IYS4j7sztbCgryr5jRu5dFIxrsPkJAP0g_q6pgAJ5BPUEemHsSGcjwJNjA0WlWmP-XUJMy49fNfYmFDWlMbvVXY3B5SbLTAx2354sMnFkZmDkNeOZwSq0DlGcyxVjXj3ODxS18L-dXClS6F9YPYxuEIhRnzu0Lhv0VfgVlmSa1jFXBI7qJdN_1GOrBpT2APhjkv3Vau8oz5V8gCFCYC1koa56IhiR12Mx5_ZeWsFMIEq3-KWZXRg_0czbPCyhlVEaJtu4-u-HSPf2GgP6RjmZ8iCHN14PYHgQV08yFPr-gN6OKP6JZA3CwFH6q9Mw3X7br2CJA4hUdxuSZWSXCo1Qx0s8iVyvI5RsMPibZy0GbxqnF1jJ0hw5NqNaXU9Tx9SZenbD6YulJIiciM7cxE_tuxS9FqSZpyEp4ws1OLGGBY4pF2dIfxCV2s5WGZ3mBB8J6nmcAkIgAk8IG61bNs9zyBEXPyCWZINxo4q6lD1Bc9stHvlK7ogZYg_5O3QXU2ptosCunxUpuAIAB3wApoj-yLb64VOdv43WqP555Cniqk_cjkJ4qRh-ayk9bNUbt8PUN2edSi-cyBDFL3RrJOh7g835sDThAqxKpineR97hjL6yqp2yhR7kNxL-nxND5XW142VyUCFWP06sexka6W1ZQ5lju0ByMzupYiQA8vl-HBr1Kx5EDRQpfsj6Wem_mpMkTW_Mq4piG_Y1153IiE5J6W26xMlfgnOPHMaIcpQf6LtUTPiOTUUdpjfNIMmUOIT2XSH6SWssx9K47Iv4czgdMCAjVsSKIn7VrYNt8ics8x1f-9Q_POenc2a2qaRi48QKFu6RQXhC2nc4W09pX0- -7A-P9ehlLPca7-rxV7DnRixoLmfeT92oPPxaspIm1KMQb3Mzkzp0Lj1r799UByN9tBMCrP2qE1Qf8-bPUe2jxxh0hZUz1HrRwzZmviPIyEP6T7EylWhwAY0l3XYQZsNynBNp4YM1v5xaJwvYa72eUfujDp1h4cjaqZikqkKZZN-rSunksXjwfi5nTSQ6uKwmtZbXXowoSGpyEsgtLskqUVh3Hx8GRkI_qB8jlSehzlNJb6Ns5j_Mw_OQ34AF7zFlwsiythZkXfMkGjfADOGr8iLaKDuYLTEl95V4mEkRClw- -ivcH8NjMUHMSDmQeuHM2QHh6fW4_zCPxJyoUchCMXkySiCkCvq7UflrskyZ3e1usbkfqJQFf8ZrvXy4wsyfVsKnUc5TrbBTx5SSOLfXFljn0I3QjrdbbeM75AMFnArOPjsmTBMbvwzcPyLEKkvd6b_iAcMqQlpHZEPUQ_unZ-GIan2eX7mLh0U1DrycQsMEKxOsmciQk4vmjNmXFKgsbB89r9zLkBFUzqtD0xXcxczY7vUvkrhd5F01IAAXjv8eGESsakfyJOgHpol5gA1wRrSFUTlD0ZVaiBEbq6vQnVDQTQ1A_077fYM2iEyPg4ySKzrEL1oqovDzXFzB7FZDFLcXYrw6lHA9goFh_9VhSTL7GPD5SRdrhxibdpl-BCRnmu0-pSWJt2VpnUuIb4n0PVnEd3YQBoqfNYTkOl41jK_Bg6fPNlh22YwK7Zh3mXxo2zDexc7nkMvv9RXl4jO23dIE9OGPD3SjUc9H7QjympdnHucvBxd7ZYWpFqTnrTvy3mI9dLpl2a1dRezc428Qt6I_VHDODxbSRlInv6WWvayfEPixL3jy1]--></g></svg></p><p><strong>1层DFD说明:</strong></p>
<ul>
<li><strong>主要数据处理过程</strong>:
<ul>
<li><code>1.0 用户管理</code>: 负责用户账户、认证、资料管理和审核。</li>
<li><code>2.0 广告管理</code>: 负责广告活动、广告、广告位、素材的管理和审核。</li>
<li><code>3.0 财务管理</code>: 负责充值、交易、发票管理和审批。</li>
<li><code>4.0 数据与报表</code>: 负责收集广告效果数据，生成统计报表。</li>
<li><code>5.0 系统配置与审计</code>: 负责系统参数配置、权限管理和操作审计。</li>
</ul>
</li>
<li><strong>数据存储</strong>:
<ul>
<li><code>用户数据存储 (DS_Users)</code>: 存储User, ValidationCode等。</li>
<li><code>广告数据存储 (DS_Ads)</code>: 存储Campaign, Ad, AdPlacement, AdImpression, AdClick等。</li>
<li><code>财务数据存储 (DS_Finance)</code>: 存储Transaction, Invoice, InvoiceItem, InvoiceInfo等。</li>
<li><code>统计数据存储 (DS_Stats)</code>: 存储DailyStats等汇总数据。</li>
<li><code>配置与日志数据存储 (DS_ConfigLog)</code>: 存储系统配置信息、AuditLog, Notification等。</li>
</ul>
</li>
<li><strong>主要数据流</strong>: 展示了数据在不同处理过程、外部实体和数据存储之间的流动路径。</li>
</ul>
<h2 id="5-类图-class-diagram">5. 类图 (Class Diagram) </h2>
<p>类图从面向对象的角度描述系统中的主要类及其属性、方法和关系。这些类主要源自 Django 模型。</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="CLASS" height="2090px" preserveAspectRatio="none" style="width:4087px;height:2090px;background:#FFFFFF;" version="1.1" viewBox="0 0 4087 2090" width="4087px" zoomAndPan="magnify"><title>AdWeb 平台核心类图</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="140.6973" x="1966.2251" y="24.5332">AdWeb 平台核心类图</text><!--class BaseModel--><g class="entity" data-entity="BaseModel" data-source-line="5" data-uid="ent0002" id="entity_BaseModel"><rect fill="#F1F1F1" height="100.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.5303" x="2205" y="68.1094"></rect><ellipse cx="2248.1202" cy="84.1094" fill="#CDCDCD" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M2250.3077,85.875 L2246.167,85.875 L2245.7452,86.9063 L2246.167,86.9063 Q2246.7764,86.9063 2247.042,87.1406 Q2247.3077,87.375 2247.3077,87.7656 Q2247.3077,88.1406 2247.042,88.375 Q2246.7764,88.6094 2246.167,88.6094 L2243.8702,88.6094 Q2243.2608,88.6094 2243.003,88.375 Q2242.7452,88.1406 2242.7452,87.75 Q2242.7452,87.375 2243.0186,87.1328 Q2243.292,86.8906 2243.917,86.9063 L2246.5889,80.25 L2245.4795,80.25 Q2244.8702,80.25 2244.6045,80.0156 Q2244.3389,79.7813 2244.3389,79.3906 Q2244.3389,79.0156 2244.6045,78.7813 Q2244.8702,78.5469 2245.4795,78.5469 L2249.1514,78.5469 L2252.542,86.9063 Q2253.1358,86.9063 2253.3233,87.0469 Q2253.7139,87.3125 2253.7139,87.7656 Q2253.7139,88.1406 2253.4561,88.375 Q2253.1983,88.6094 2252.5889,88.6094 L2250.292,88.6094 Q2249.6827,88.6094 2249.417,88.375 Q2249.1514,88.1406 2249.1514,87.75 Q2249.1514,87.375 2249.417,87.1406 Q2249.6827,86.9063 2250.292,86.9063 L2250.7139,86.9063 L2250.3077,85.875 Z M2249.5889,84.1719 L2248.2295,80.7969 L2246.8545,84.1719 L2249.5889,84.1719 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70.041" x="2268.3691" y="89.8379">BaseModel</text><line style="stroke:#181818;stroke-width:0.5;" x1="2206" x2="2368.5303" y1="100.1094" y2="100.1094"></line><ellipse cx="2216" cy="114.4141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134.6201" x="2225" y="118.6426">created_at: DateTime</text><ellipse cx="2216" cy="132.0234" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.5303" x="2225" y="136.252">updated_at: DateTime</text><line style="stroke:#181818;stroke-width:0.5;" x1="2206" x2="2368.5303" y1="143.3281" y2="143.3281"></line><ellipse cx="2216" cy="157.6328" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3516" x="2225" y="161.8613">id: int (PK)</text></g><!--class User--><g class="entity" data-entity="User" data-source-line="11" data-uid="ent0003" id="entity_User"><rect fill="#F1F1F1" height="360.9688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="296.04" x="1393.5" y="252.6094"></rect><ellipse cx="1522.4907" cy="268.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M1525.2563,264.4844 Q1525.4126,264.2656 1525.6001,264.1563 Q1525.7876,264.0469 1526.0063,264.0469 Q1526.3813,264.0469 1526.6157,264.3047 Q1526.8501,264.5625 1526.8501,265.1719 L1526.8501,266.625 Q1526.8501,267.2344 1526.6157,267.5 Q1526.3813,267.7656 1526.0063,267.7656 Q1525.6626,267.7656 1525.4595,267.5625 Q1525.2563,267.375 1525.147,266.8594 Q1525.1001,266.5 1524.9126,266.3125 Q1524.5845,265.9375 1523.9751,265.7188 Q1523.3657,265.5 1522.7407,265.5 Q1521.9751,265.5 1521.3423,265.8281 Q1520.7095,266.1563 1520.2173,266.9063 Q1519.7251,267.6563 1519.7251,268.6875 L1519.7251,269.7813 Q1519.7251,271.0156 1520.6157,271.8359 Q1521.5063,272.6563 1523.1001,272.6563 Q1524.0376,272.6563 1524.6938,272.4063 Q1525.0845,272.25 1525.5063,271.8125 Q1525.772,271.5469 1525.9204,271.4688 Q1526.0688,271.3906 1526.272,271.3906 Q1526.6001,271.3906 1526.8579,271.6484 Q1527.1157,271.9063 1527.1157,272.25 Q1527.1157,272.5938 1526.772,273 Q1526.272,273.5781 1525.4751,273.9063 Q1524.397,274.3594 1523.1001,274.3594 Q1521.5845,274.3594 1520.3813,273.7344 Q1519.397,273.2344 1518.7095,272.1641 Q1518.022,271.0938 1518.022,269.8125 L1518.022,268.6563 Q1518.022,267.3281 1518.6392,266.1797 Q1519.2563,265.0313 1520.3501,264.4141 Q1521.4438,263.7969 1522.6782,263.7969 Q1523.4126,263.7969 1524.061,263.9609 Q1524.7095,264.125 1525.2563,264.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5586" x="1542.9907" y="274.3379">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="1394.5" x2="1688.54" y1="284.6094" y2="284.6094"></line><ellipse cx="1404.5" cy="298.9141" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.9307" x="1413.5" y="303.1426">username: string (UK)</text><ellipse cx="1404.5" cy="316.5234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1309" x="1413.5" y="320.752">email: string (UK)</text><rect fill="none" height="6" style="stroke:#595959;stroke-width:1;" width="6" x="1401.5" y="331.1328"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.0752" x="1413.5" y="338.3613">password_hash: string</text><ellipse cx="1404.5" cy="351.7422" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3857" x="1413.5" y="355.9707">balance: Decimal</text><ellipse cx="1404.5" cy="369.3516" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.4473" x="1413.5" y="373.5801">audit_status: AuditStatusEnum</text><ellipse cx="1404.5" cy="386.9609" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.5166" x="1413.5" y="391.1895">user_type: UserTypeEnum</text><ellipse cx="1404.5" cy="404.5703" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.9443" x="1413.5" y="408.7988">phone: string</text><ellipse cx="1404.5" cy="422.1797" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.8203" x="1413.5" y="426.4082">company: string</text><ellipse cx="1404.5" cy="439.7891" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0752" x="1413.5" y="444.0176">is_active: boolean</text><ellipse cx="1404.5" cy="457.3984" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.958" x="1413.5" y="461.627">is_staff: boolean</text><ellipse cx="1404.5" cy="475.0078" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.7578" x="1413.5" y="479.2363">is_superuser: boolean</text><ellipse cx="1404.5" cy="492.6172" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.6133" x="1413.5" y="496.8457">last_login: DateTime</text><ellipse cx="1404.5" cy="531.8359" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.9648" x="1413.5" y="536.0645">set_password(raw_password)</text><ellipse cx="1404.5" cy="549.4453" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261.4678" x="1413.5" y="553.6738">check_password(raw_password): boolean</text><ellipse cx="1404.5" cy="567.0547" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270.04" x="1413.5" y="571.2832">has_perm(permission_codemane): boolean</text><ellipse cx="1404.5" cy="584.6641" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254.4404" x="1413.5" y="588.8926">get_advertiser_profile(): AdvertiserProfile</text><ellipse cx="1404.5" cy="602.2734" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.7646" x="1413.5" y="606.502">get_admin_profile(): AdminProfile</text><line style="stroke:#181818;stroke-width:1;" x1="1394.5" x2="1514.6719" y1="512.7266" y2="512.7266"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.6963" x="1514.6719" y="517.9551">Methods</text><line style="stroke:#181818;stroke-width:1;" x1="1568.3682" x2="1688.54" y1="512.7266" y2="512.7266"></line></g><!--class UserTypeEnum--><g class="entity" data-entity="UserTypeEnum" data-source-line="31" data-uid="ent0005" id="entity_UserTypeEnum"><rect fill="#F1F1F1" height="75.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.2549" x="29" y="81.1094"></rect><ellipse cx="44" cy="97.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M42.8594,97.9063 L42.8594,100.4063 L47.1875,100.4063 L47.1875,99.4844 Q47.1875,98.875 47.4297,98.6094 Q47.6719,98.3438 48.0469,98.3438 Q48.4219,98.3438 48.6563,98.6094 Q48.8906,98.875 48.8906,99.4844 L48.8906,102.1094 L40.8906,102.1094 Q40.2656,102.1094 40.0078,101.875 Q39.75,101.6406 39.75,101.25 Q39.75,100.875 40.0156,100.6406 Q40.2813,100.4063 40.8906,100.4063 L41.1563,100.4063 L41.1563,93.75 L40.8906,93.75 Q40.2656,93.75 40.0078,93.5156 Q39.75,93.2813 39.75,92.8906 Q39.75,92.5156 40.0078,92.2813 Q40.2656,92.0469 40.8906,92.0469 L48.5156,92.0469 L48.5156,94.6406 Q48.5156,95.25 48.2891,95.5078 Q48.0625,95.7656 47.6719,95.7656 Q47.2969,95.7656 47.0625,95.5078 Q46.8281,95.25 46.8281,94.6406 L46.8281,93.75 L42.8594,93.75 L42.8594,96.2031 L44.3438,96.2031 Q44.3438,95.5469 44.4688,95.3594 Q44.7344,94.9531 45.2031,94.9531 Q45.5781,94.9531 45.8125,95.2109 Q46.0469,95.4688 46.0469,96.0781 L46.0469,98.0469 Q46.0469,98.5938 45.9219,98.7813 Q45.6563,99.1719 45.2031,99.1719 Q44.7344,99.1719 44.4688,98.7656 Q44.3438,98.5781 44.3438,97.9063 L42.8594,97.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2549" x="58" y="102.8379">UserTypeEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="30" x2="157.2549" y1="113.1094" y2="113.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4619" x="35" y="131.6426">ADVERTISER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1104" x="35" y="149.252">ADMIN</text></g><!--class AuditStatusEnum--><g class="entity" data-entity="AuditStatusEnum" data-source-line="35" data-uid="ent0006" id="entity_AuditStatusEnum"><rect fill="#F1F1F1" height="92.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.1719" x="193.5" y="72.1094"></rect><ellipse cx="208.5" cy="88.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M207.3594,88.9063 L207.3594,91.4063 L211.6875,91.4063 L211.6875,90.4844 Q211.6875,89.875 211.9297,89.6094 Q212.1719,89.3438 212.5469,89.3438 Q212.9219,89.3438 213.1563,89.6094 Q213.3906,89.875 213.3906,90.4844 L213.3906,93.1094 L205.3906,93.1094 Q204.7656,93.1094 204.5078,92.875 Q204.25,92.6406 204.25,92.25 Q204.25,91.875 204.5156,91.6406 Q204.7813,91.4063 205.3906,91.4063 L205.6563,91.4063 L205.6563,84.75 L205.3906,84.75 Q204.7656,84.75 204.5078,84.5156 Q204.25,84.2813 204.25,83.8906 Q204.25,83.5156 204.5078,83.2813 Q204.7656,83.0469 205.3906,83.0469 L213.0156,83.0469 L213.0156,85.6406 Q213.0156,86.25 212.7891,86.5078 Q212.5625,86.7656 212.1719,86.7656 Q211.7969,86.7656 211.5625,86.5078 Q211.3281,86.25 211.3281,85.6406 L211.3281,84.75 L207.3594,84.75 L207.3594,87.2031 L208.8438,87.2031 Q208.8438,86.5469 208.9688,86.3594 Q209.2344,85.9531 209.7031,85.9531 Q210.0781,85.9531 210.3125,86.2109 Q210.5469,86.4688 210.5469,87.0781 L210.5469,89.0469 Q210.5469,89.5938 210.4219,89.7813 Q210.1563,90.1719 209.7031,90.1719 Q209.2344,90.1719 208.9688,89.7656 Q208.8438,89.5781 208.8438,88.9063 L207.3594,88.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1719" x="222.5" y="93.8379">AuditStatusEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="194.5" x2="332.6719" y1="104.1094" y2="104.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7861" x="199.5" y="122.6426">PENDING</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.7998" x="199.5" y="140.252">APPROVED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.8965" x="199.5" y="157.8613">REJECTED</text></g><!--class ValidationCode--><g class="entity" data-entity="ValidationCode" data-source-line="41" data-uid="ent0007" id="entity_ValidationCode"><rect fill="#F1F1F1" height="167.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="156.7441" x="817" y="744.6094"></rect><ellipse cx="845.4038" cy="760.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M848.1694,756.4844 Q848.3256,756.2656 848.5131,756.1563 Q848.7006,756.0469 848.9194,756.0469 Q849.2944,756.0469 849.5288,756.3047 Q849.7631,756.5625 849.7631,757.1719 L849.7631,758.625 Q849.7631,759.2344 849.5288,759.5 Q849.2944,759.7656 848.9194,759.7656 Q848.5756,759.7656 848.3725,759.5625 Q848.1694,759.375 848.06,758.8594 Q848.0131,758.5 847.8256,758.3125 Q847.4975,757.9375 846.8881,757.7188 Q846.2788,757.5 845.6538,757.5 Q844.8881,757.5 844.2553,757.8281 Q843.6225,758.1563 843.1303,758.9063 Q842.6381,759.6563 842.6381,760.6875 L842.6381,761.7813 Q842.6381,763.0156 843.5288,763.8359 Q844.4194,764.6563 846.0131,764.6563 Q846.9506,764.6563 847.6069,764.4063 Q847.9975,764.25 848.4194,763.8125 Q848.685,763.5469 848.8334,763.4688 Q848.9819,763.3906 849.185,763.3906 Q849.5131,763.3906 849.7709,763.6484 Q850.0288,763.9063 850.0288,764.25 Q850.0288,764.5938 849.685,765 Q849.185,765.5781 848.3881,765.9063 Q847.31,766.3594 846.0131,766.3594 Q844.4975,766.3594 843.2944,765.7344 Q842.31,765.2344 841.6225,764.1641 Q840.935,763.0938 840.935,761.8125 L840.935,760.6563 Q840.935,759.3281 841.5522,758.1797 Q842.1694,757.0313 843.2631,756.4141 Q844.3569,755.7969 845.5913,755.7969 Q846.3256,755.7969 846.9741,755.9609 Q847.6225,756.125 848.1694,756.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.958" x="862.3824" y="766.3379">ValidationCode</text><line style="stroke:#181818;stroke-width:0.5;" x1="818" x2="972.7441" y1="776.6094" y2="776.6094"></line><ellipse cx="828" cy="790.9141" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6758" x="837" y="795.1426">user: User (FK)</text><ellipse cx="828" cy="808.5234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0342" x="837" y="812.752">code: string (UK)</text><ellipse cx="828" cy="826.1328" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.0547" x="837" y="830.3613">expire_at: DateTime</text><ellipse cx="828" cy="843.7422" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.6064" x="837" y="847.9707">purpose: string</text><ellipse cx="828" cy="861.3516" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8613" x="837" y="865.5801">is_used: boolean</text><ellipse cx="828" cy="900.5703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7441" x="837" y="904.7988">is_expired(): boolean</text><line style="stroke:#181818;stroke-width:1;" x1="818" x2="868.5239" y1="881.4609" y2="881.4609"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.6963" x="868.5239" y="886.6895">Methods</text><line style="stroke:#181818;stroke-width:1;" x1="922.2202" x2="972.7441" y1="881.4609" y2="881.4609"></line></g><!--class Notification--><g class="entity" data-entity="Notification" data-source-line="51" data-uid="ent0009" id="entity_Notification"><rect fill="#F1F1F1" height="171.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216.6475" x="1009" y="742.6094"></rect><ellipse cx="1078.4463" cy="758.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M1081.2119,754.4844 Q1081.3682,754.2656 1081.5557,754.1563 Q1081.7432,754.0469 1081.9619,754.0469 Q1082.3369,754.0469 1082.5713,754.3047 Q1082.8057,754.5625 1082.8057,755.1719 L1082.8057,756.625 Q1082.8057,757.2344 1082.5713,757.5 Q1082.3369,757.7656 1081.9619,757.7656 Q1081.6182,757.7656 1081.415,757.5625 Q1081.2119,757.375 1081.1025,756.8594 Q1081.0557,756.5 1080.8682,756.3125 Q1080.54,755.9375 1079.9307,755.7188 Q1079.3213,755.5 1078.6963,755.5 Q1077.9307,755.5 1077.2979,755.8281 Q1076.665,756.1563 1076.1729,756.9063 Q1075.6807,757.6563 1075.6807,758.6875 L1075.6807,759.7813 Q1075.6807,761.0156 1076.5713,761.8359 Q1077.4619,762.6563 1079.0557,762.6563 Q1079.9932,762.6563 1080.6494,762.4063 Q1081.04,762.25 1081.4619,761.8125 Q1081.7275,761.5469 1081.876,761.4688 Q1082.0244,761.3906 1082.2275,761.3906 Q1082.5557,761.3906 1082.8135,761.6484 Q1083.0713,761.9063 1083.0713,762.25 Q1083.0713,762.5938 1082.7275,763 Q1082.2275,763.5781 1081.4307,763.9063 Q1080.3525,764.3594 1079.0557,764.3594 Q1077.54,764.3594 1076.3369,763.7344 Q1075.3525,763.2344 1074.665,762.1641 Q1073.9775,761.0938 1073.9775,759.8125 L1073.9775,758.6563 Q1073.9775,757.3281 1074.5947,756.1797 Q1075.2119,755.0313 1076.3057,754.4141 Q1077.3994,753.7969 1078.6338,753.7969 Q1079.3682,753.7969 1080.0166,753.9609 Q1080.665,754.125 1081.2119,754.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2549" x="1098.9463" y="764.3379">Notification</text><line style="stroke:#181818;stroke-width:0.5;" x1="1010" x2="1224.6475" y1="774.6094" y2="774.6094"></line><ellipse cx="1020" cy="788.9141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7998" x="1029" y="793.1426">title: string</text><ellipse cx="1020" cy="806.5234" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.9375" x="1029" y="810.752">content: string</text><ellipse cx="1020" cy="824.1328" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.6475" x="1029" y="828.3613">status: NotificationStatusEnum</text><ellipse cx="1020" cy="841.7422" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.1924" x="1029" y="845.9707">type: NotificationTypeEnum</text><ellipse cx="1020" cy="859.3516" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.165" x="1029" y="863.5801">related_url: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="1010" x2="1224.6475" y1="870.6563" y2="870.6563"></line><ellipse cx="1020" cy="884.9609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.3584" x="1029" y="889.1895">recipient: User (FK)</text><ellipse cx="1020" cy="902.5703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.2891" x="1029" y="906.7988">sender: User (FK, nullable)</text></g><!--class NotificationStatusEnum--><g class="entity" data-entity="NotificationStatusEnum" data-source-line="60" data-uid="ent0011" id="entity_NotificationStatusEnum"><rect fill="#F1F1F1" height="75.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="177.5166" x="368.5" y="81.1094"></rect><ellipse cx="383.5" cy="97.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M382.3594,97.9063 L382.3594,100.4063 L386.6875,100.4063 L386.6875,99.4844 Q386.6875,98.875 386.9297,98.6094 Q387.1719,98.3438 387.5469,98.3438 Q387.9219,98.3438 388.1563,98.6094 Q388.3906,98.875 388.3906,99.4844 L388.3906,102.1094 L380.3906,102.1094 Q379.7656,102.1094 379.5078,101.875 Q379.25,101.6406 379.25,101.25 Q379.25,100.875 379.5156,100.6406 Q379.7813,100.4063 380.3906,100.4063 L380.6563,100.4063 L380.6563,93.75 L380.3906,93.75 Q379.7656,93.75 379.5078,93.5156 Q379.25,93.2813 379.25,92.8906 Q379.25,92.5156 379.5078,92.2813 Q379.7656,92.0469 380.3906,92.0469 L388.0156,92.0469 L388.0156,94.6406 Q388.0156,95.25 387.7891,95.5078 Q387.5625,95.7656 387.1719,95.7656 Q386.7969,95.7656 386.5625,95.5078 Q386.3281,95.25 386.3281,94.6406 L386.3281,93.75 L382.3594,93.75 L382.3594,96.2031 L383.8438,96.2031 Q383.8438,95.5469 383.9688,95.3594 Q384.2344,94.9531 384.7031,94.9531 Q385.0781,94.9531 385.3125,95.2109 Q385.5469,95.4688 385.5469,96.0781 L385.5469,98.0469 Q385.5469,98.5938 385.4219,98.7813 Q385.1563,99.1719 384.7031,99.1719 Q384.2344,99.1719 383.9688,98.7656 Q383.8438,98.5781 383.8438,97.9063 L382.3594,97.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.5166" x="397.5" y="102.8379">NotificationStatusEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="369.5" x2="545.0166" y1="113.1094" y2="113.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.1172" x="374.5" y="131.6426">UNREAD</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.8965" x="374.5" y="149.252">READ</text></g><!--class NotificationTypeEnum--><g class="entity" data-entity="NotificationTypeEnum" data-source-line="64" data-uid="ent0012" id="entity_NotificationTypeEnum"><rect fill="#F1F1F1" height="145.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176.9102" x="582" y="45.6094"></rect><ellipse cx="600.5815" cy="61.6094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M599.4409,62.4063 L599.4409,64.9063 L603.769,64.9063 L603.769,63.9844 Q603.769,63.375 604.0112,63.1094 Q604.2534,62.8438 604.6284,62.8438 Q605.0034,62.8438 605.2378,63.1094 Q605.4722,63.375 605.4722,63.9844 L605.4722,66.6094 L597.4722,66.6094 Q596.8472,66.6094 596.5894,66.375 Q596.3315,66.1406 596.3315,65.75 Q596.3315,65.375 596.5972,65.1406 Q596.8628,64.9063 597.4722,64.9063 L597.7378,64.9063 L597.7378,58.25 L597.4722,58.25 Q596.8472,58.25 596.5894,58.0156 Q596.3315,57.7813 596.3315,57.3906 Q596.3315,57.0156 596.5894,56.7813 Q596.8472,56.5469 597.4722,56.5469 L605.0972,56.5469 L605.0972,59.1406 Q605.0972,59.75 604.8706,60.0078 Q604.644,60.2656 604.2534,60.2656 Q603.8784,60.2656 603.644,60.0078 Q603.4097,59.75 603.4097,59.1406 L603.4097,58.25 L599.4409,58.25 L599.4409,60.7031 L600.9253,60.7031 Q600.9253,60.0469 601.0503,59.8594 Q601.3159,59.4531 601.7847,59.4531 Q602.1597,59.4531 602.394,59.7109 Q602.6284,59.9688 602.6284,60.5781 L602.6284,62.5469 Q602.6284,63.0938 602.5034,63.2813 Q602.2378,63.6719 601.7847,63.6719 Q601.3159,63.6719 601.0503,63.2656 Q600.9253,63.0781 600.9253,62.4063 L599.4409,62.4063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.9512" x="615.3774" y="67.3379">NotificationTypeEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="583" x2="757.9102" y1="77.6094" y2="77.6094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.2617" x="588" y="96.1426">SYSTEM_GENERAL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.6826" x="588" y="113.752">USER_AUDIT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2344" x="588" y="131.3613">AD_AUDIT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.5791" x="588" y="148.9707">INVOICE_STATUS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.9102" x="588" y="166.5801">TRANSACTION_UPDATE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.5859" x="588" y="184.1895">CAMPAIGN_ALERT</text></g><!--class Campaign--><g class="entity" data-entity="Campaign" data-source-line="74" data-uid="ent0013" id="entity_Campaign"><rect fill="#F1F1F1" height="272.9219" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="241.5645" x="1730.5" y="691.6094"></rect><ellipse cx="1815.1255" cy="707.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M1817.8911,703.4844 Q1818.0474,703.2656 1818.2349,703.1563 Q1818.4224,703.0469 1818.6411,703.0469 Q1819.0161,703.0469 1819.2505,703.3047 Q1819.4849,703.5625 1819.4849,704.1719 L1819.4849,705.625 Q1819.4849,706.2344 1819.2505,706.5 Q1819.0161,706.7656 1818.6411,706.7656 Q1818.2974,706.7656 1818.0942,706.5625 Q1817.8911,706.375 1817.7817,705.8594 Q1817.7349,705.5 1817.5474,705.3125 Q1817.2192,704.9375 1816.6099,704.7188 Q1816.0005,704.5 1815.3755,704.5 Q1814.6099,704.5 1813.9771,704.8281 Q1813.3442,705.1563 1812.8521,705.9063 Q1812.3599,706.6563 1812.3599,707.6875 L1812.3599,708.7813 Q1812.3599,710.0156 1813.2505,710.8359 Q1814.1411,711.6563 1815.7349,711.6563 Q1816.6724,711.6563 1817.3286,711.4063 Q1817.7192,711.25 1818.1411,710.8125 Q1818.4067,710.5469 1818.5552,710.4688 Q1818.7036,710.3906 1818.9067,710.3906 Q1819.2349,710.3906 1819.4927,710.6484 Q1819.7505,710.9063 1819.7505,711.25 Q1819.7505,711.5938 1819.4067,712 Q1818.9067,712.5781 1818.1099,712.9063 Q1817.0317,713.3594 1815.7349,713.3594 Q1814.2192,713.3594 1813.0161,712.7344 Q1812.0317,712.2344 1811.3442,711.1641 Q1810.6567,710.0938 1810.6567,708.8125 L1810.6567,707.6563 Q1810.6567,706.3281 1811.2739,705.1797 Q1811.8911,704.0313 1812.9849,703.4141 Q1814.0786,702.7969 1815.313,702.7969 Q1816.0474,702.7969 1816.6958,702.9609 Q1817.3442,703.125 1817.8911,703.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.8135" x="1835.6255" y="713.3379">Campaign</text><line style="stroke:#181818;stroke-width:0.5;" x1="1731.5" x2="1971.0645" y1="723.6094" y2="723.6094"></line><ellipse cx="1741.5" cy="737.9141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.0342" x="1750.5" y="742.1426">name: string</text><ellipse cx="1741.5" cy="755.5234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.9102" x="1750.5" y="759.752">advertiser: User (FK)</text><ellipse cx="1741.5" cy="773.1328" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.165" x="1750.5" y="777.3613">budget: Decimal</text><ellipse cx="1741.5" cy="790.7422" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.2197" x="1750.5" y="794.9707">daily_budget: Decimal (nullable)</text><ellipse cx="1741.5" cy="808.3516" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7236" x="1750.5" y="812.5801">start_date: DateTime</text><ellipse cx="1741.5" cy="825.9609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188.3301" x="1750.5" y="830.1895">end_date: DateTime (nullable)</text><ellipse cx="1741.5" cy="843.5703" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.2061" x="1750.5" y="847.7988">status: CampaignStatusEnum</text><ellipse cx="1741.5" cy="882.7891" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="215.5645" x="1750.5" y="887.0176">calculate_spent_budget(): Decimal</text><ellipse cx="1741.5" cy="900.3984" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203.8955" x="1750.5" y="904.627">get_active_ads(): QuerySet&lt;Ad&gt;</text><ellipse cx="1741.5" cy="918.0078" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4688" x="1750.5" y="922.2363">pause()</text><ellipse cx="1741.5" cy="935.6172" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.0068" x="1750.5" y="939.8457">resume()</text><ellipse cx="1741.5" cy="953.2266" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1719" x="1750.5" y="957.4551">end_campaign()</text><line style="stroke:#181818;stroke-width:1;" x1="1731.5" x2="1824.4341" y1="863.6797" y2="863.6797"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.6963" x="1824.4341" y="868.9082">Methods</text><line style="stroke:#181818;stroke-width:1;" x1="1878.1304" x2="1971.0645" y1="863.6797" y2="863.6797"></line></g><!--class CampaignStatusEnum--><g class="entity" data-entity="CampaignStatusEnum" data-source-line="89" data-uid="ent0015" id="entity_CampaignStatusEnum"><rect fill="#F1F1F1" height="145.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172.0752" x="7.5" y="360.1094"></rect><ellipse cx="22.5" cy="376.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M21.3594,376.9063 L21.3594,379.4063 L25.6875,379.4063 L25.6875,378.4844 Q25.6875,377.875 25.9297,377.6094 Q26.1719,377.3438 26.5469,377.3438 Q26.9219,377.3438 27.1563,377.6094 Q27.3906,377.875 27.3906,378.4844 L27.3906,381.1094 L19.3906,381.1094 Q18.7656,381.1094 18.5078,380.875 Q18.25,380.6406 18.25,380.25 Q18.25,379.875 18.5156,379.6406 Q18.7813,379.4063 19.3906,379.4063 L19.6563,379.4063 L19.6563,372.75 L19.3906,372.75 Q18.7656,372.75 18.5078,372.5156 Q18.25,372.2813 18.25,371.8906 Q18.25,371.5156 18.5078,371.2813 Q18.7656,371.0469 19.3906,371.0469 L27.0156,371.0469 L27.0156,373.6406 Q27.0156,374.25 26.7891,374.5078 Q26.5625,374.7656 26.1719,374.7656 Q25.7969,374.7656 25.5625,374.5078 Q25.3281,374.25 25.3281,373.6406 L25.3281,372.75 L21.3594,372.75 L21.3594,375.2031 L22.8438,375.2031 Q22.8438,374.5469 22.9688,374.3594 Q23.2344,373.9531 23.7031,373.9531 Q24.0781,373.9531 24.3125,374.2109 Q24.5469,374.4688 24.5469,375.0781 L24.5469,377.0469 Q24.5469,377.5938 24.4219,377.7813 Q24.1563,378.1719 23.7031,378.1719 Q23.2344,378.1719 22.9688,377.7656 Q22.8438,377.5781 22.8438,376.9063 L21.3594,376.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.0752" x="36.5" y="381.8379">CampaignStatusEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="8.5" x2="178.5752" y1="392.1094" y2="392.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0479" x="13.5" y="410.6426">PENDING_APPROVAL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5654" x="13.5" y="428.252">ACTIVE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5723" x="13.5" y="445.8613">PAUSED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0068" x="13.5" y="463.4707">ENDED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5723" x="13.5" y="481.0801">DELETED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6621" x="13.5" y="498.6895">DRAFT</text></g><!--class AdPlacement--><g class="entity" data-entity="AdPlacement" data-source-line="98" data-uid="ent0016" id="entity_AdPlacement"><rect fill="#F1F1F1" height="188.875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="283.585" x="2039.5" y="338.6094"></rect><ellipse cx="2135.4082" cy="354.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M2138.1738,350.4844 Q2138.3301,350.2656 2138.5176,350.1563 Q2138.7051,350.0469 2138.9238,350.0469 Q2139.2988,350.0469 2139.5332,350.3047 Q2139.7676,350.5625 2139.7676,351.1719 L2139.7676,352.625 Q2139.7676,353.2344 2139.5332,353.5 Q2139.2988,353.7656 2138.9238,353.7656 Q2138.5801,353.7656 2138.377,353.5625 Q2138.1738,353.375 2138.0645,352.8594 Q2138.0176,352.5 2137.8301,352.3125 Q2137.502,351.9375 2136.8926,351.7188 Q2136.2832,351.5 2135.6582,351.5 Q2134.8926,351.5 2134.2598,351.8281 Q2133.627,352.1563 2133.1348,352.9063 Q2132.6426,353.6563 2132.6426,354.6875 L2132.6426,355.7813 Q2132.6426,357.0156 2133.5332,357.8359 Q2134.4238,358.6563 2136.0176,358.6563 Q2136.9551,358.6563 2137.6113,358.4063 Q2138.002,358.25 2138.4238,357.8125 Q2138.6895,357.5469 2138.8379,357.4688 Q2138.9863,357.3906 2139.1895,357.3906 Q2139.5176,357.3906 2139.7754,357.6484 Q2140.0332,357.9063 2140.0332,358.25 Q2140.0332,358.5938 2139.6895,359 Q2139.1895,359.5781 2138.3926,359.9063 Q2137.3145,360.3594 2136.0176,360.3594 Q2134.502,360.3594 2133.2988,359.7344 Q2132.3145,359.2344 2131.627,358.1641 Q2130.9395,357.0938 2130.9395,355.8125 L2130.9395,354.6563 Q2130.9395,353.3281 2131.5566,352.1797 Q2132.1738,351.0313 2133.2676,350.4141 Q2134.3613,349.7969 2135.5957,349.7969 Q2136.3301,349.7969 2136.9785,349.9609 Q2137.627,350.125 2138.1738,350.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2686" x="2155.9082" y="360.3379">AdPlacement</text><line style="stroke:#181818;stroke-width:0.5;" x1="2040.5" x2="2322.085" y1="370.6094" y2="370.6094"></line><ellipse cx="2050.5" cy="384.9141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257.585" x="2059.5" y="389.1426">placement_type: AdPlacementTypeEnum</text><ellipse cx="2050.5" cy="402.5234" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8271" x="2059.5" y="406.752">dimension: string</text><ellipse cx="2050.5" cy="420.1328" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0752" x="2059.5" y="424.3613">is_active: boolean</text><ellipse cx="2050.5" cy="437.7422" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.7168" x="2059.5" y="441.9707">description: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="2040.5" x2="2322.085" y1="449.0469" y2="449.0469"></line><ellipse cx="2050.5" cy="463.3516" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6963" x="2059.5" y="467.5801">name: string (UK)</text><ellipse cx="2050.5" cy="480.9609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208.5439" x="2059.5" y="485.1895">price_per_day: Decimal (nullable)</text><ellipse cx="2050.5" cy="498.5703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.3994" x="2059.5" y="502.7988">price_cpm: Decimal (nullable)</text><ellipse cx="2050.5" cy="516.1797" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7373" x="2059.5" y="520.4082">price_cpc: Decimal (nullable)</text></g><!--class AdPlacementTypeEnum--><g class="entity" data-entity="AdPlacementTypeEnum" data-source-line="108" data-uid="ent0018" id="entity_AdPlacementTypeEnum"><rect fill="#F1F1F1" height="145.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.9648" x="215" y="360.1094"></rect><ellipse cx="230" cy="376.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M228.8594,376.9063 L228.8594,379.4063 L233.1875,379.4063 L233.1875,378.4844 Q233.1875,377.875 233.4297,377.6094 Q233.6719,377.3438 234.0469,377.3438 Q234.4219,377.3438 234.6563,377.6094 Q234.8906,377.875 234.8906,378.4844 L234.8906,381.1094 L226.8906,381.1094 Q226.2656,381.1094 226.0078,380.875 Q225.75,380.6406 225.75,380.25 Q225.75,379.875 226.0156,379.6406 Q226.2813,379.4063 226.8906,379.4063 L227.1563,379.4063 L227.1563,372.75 L226.8906,372.75 Q226.2656,372.75 226.0078,372.5156 Q225.75,372.2813 225.75,371.8906 Q225.75,371.5156 226.0078,371.2813 Q226.2656,371.0469 226.8906,371.0469 L234.5156,371.0469 L234.5156,373.6406 Q234.5156,374.25 234.2891,374.5078 Q234.0625,374.7656 233.6719,374.7656 Q233.2969,374.7656 233.0625,374.5078 Q232.8281,374.25 232.8281,373.6406 L232.8281,372.75 L228.8594,372.75 L228.8594,375.2031 L230.3438,375.2031 Q230.3438,374.5469 230.4688,374.3594 Q230.7344,373.9531 231.2031,373.9531 Q231.5781,373.9531 231.8125,374.2109 Q232.0469,374.4688 232.0469,375.0781 L232.0469,377.0469 Q232.0469,377.5938 231.9219,377.7813 Q231.6563,378.1719 231.2031,378.1719 Q230.7344,378.1719 230.4688,377.7656 Q230.3438,377.5781 230.3438,376.9063 L228.8594,376.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.9648" x="244" y="381.8379">AdPlacementTypeEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="216" x2="396.9648" y1="392.1094" y2="392.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3447" x="221" y="410.6426">BANNER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4619" x="221" y="428.252">SIDEBAR</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0137" x="221" y="445.8613">POPUP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.6895" x="221" y="463.4707">TEXT_LINK</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.4893" x="221" y="481.0801">VIDEO_OVERLAY</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5654" x="221" y="498.6895">NATIVE</text></g><!--class Ad--><g class="entity" data-entity="Ad" data-source-line="117" data-uid="ent0019" id="entity_Ad"><rect fill="#F1F1F1" height="466.625" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="278.0957" x="1848.5" y="1042.6094"></rect><ellipse cx="1974.7358" cy="1058.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M1977.5015,1054.4844 Q1977.6577,1054.2656 1977.8452,1054.1563 Q1978.0327,1054.0469 1978.2515,1054.0469 Q1978.6265,1054.0469 1978.8608,1054.3047 Q1979.0952,1054.5625 1979.0952,1055.1719 L1979.0952,1056.625 Q1979.0952,1057.2344 1978.8608,1057.5 Q1978.6265,1057.7656 1978.2515,1057.7656 Q1977.9077,1057.7656 1977.7046,1057.5625 Q1977.5015,1057.375 1977.3921,1056.8594 Q1977.3452,1056.5 1977.1577,1056.3125 Q1976.8296,1055.9375 1976.2202,1055.7188 Q1975.6108,1055.5 1974.9858,1055.5 Q1974.2202,1055.5 1973.5874,1055.8281 Q1972.9546,1056.1563 1972.4624,1056.9063 Q1971.9702,1057.6563 1971.9702,1058.6875 L1971.9702,1059.7813 Q1971.9702,1061.0156 1972.8608,1061.8359 Q1973.7515,1062.6563 1975.3452,1062.6563 Q1976.2827,1062.6563 1976.939,1062.4063 Q1977.3296,1062.25 1977.7515,1061.8125 Q1978.0171,1061.5469 1978.1655,1061.4688 Q1978.314,1061.3906 1978.5171,1061.3906 Q1978.8452,1061.3906 1979.103,1061.6484 Q1979.3608,1061.9063 1979.3608,1062.25 Q1979.3608,1062.5938 1979.0171,1063 Q1978.5171,1063.5781 1977.7202,1063.9063 Q1976.6421,1064.3594 1975.3452,1064.3594 Q1973.8296,1064.3594 1972.6265,1063.7344 Q1971.6421,1063.2344 1970.9546,1062.1641 Q1970.2671,1061.0938 1970.2671,1059.8125 L1970.2671,1058.6563 Q1970.2671,1057.3281 1970.8843,1056.1797 Q1971.5015,1055.0313 1972.5952,1054.4141 Q1973.689,1053.7969 1974.9233,1053.7969 Q1975.6577,1053.7969 1976.3062,1053.9609 Q1976.9546,1054.125 1977.5015,1054.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="17.124" x="1995.2358" y="1064.3379">Ad</text><line style="stroke:#181818;stroke-width:0.5;" x1="1849.5" x2="2125.5957" y1="1074.6094" y2="1074.6094"></line><ellipse cx="1859.5" cy="1088.9141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.0342" x="1868.5" y="1093.1426">name: string</text><ellipse cx="1859.5" cy="1106.5234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.9102" x="1868.5" y="1110.752">advertiser: User (FK)</text><ellipse cx="1859.5" cy="1124.1328" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.3994" x="1868.5" y="1128.3613">campaign: Campaign (FK)</text><ellipse cx="1859.5" cy="1141.7422" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.7441" x="1868.5" y="1145.9707">placement: AdPlacement (FK)</text><ellipse cx="1859.5" cy="1159.3516" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162.6406" x="1868.5" y="1163.5801">budget: Decimal (nullable)</text><ellipse cx="1859.5" cy="1176.9609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.2822" x="1868.5" y="1181.1895">daily_limit: Decimal (nullable)</text><ellipse cx="1859.5" cy="1194.5703" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="210.875" x="1868.5" y="1198.7988">creative_type: CreativeTypeEnum</text><ellipse cx="1859.5" cy="1212.1797" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6543" x="1868.5" y="1216.4082">image_path: string (nullable)</text><ellipse cx="1859.5" cy="1229.7891" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.3027" x="1868.5" y="1234.0176">video_url: string (nullable)</text><ellipse cx="1859.5" cy="1247.3984" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.7646" x="1868.5" y="1251.627">text_content: string (nullable)</text><ellipse cx="1859.5" cy="1265.0078" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183.6475" x="1868.5" y="1269.2363">html_content: string (nullable)</text><ellipse cx="1859.5" cy="1282.6172" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1582" x="1868.5" y="1286.8457">target_url: string</text><ellipse cx="1859.5" cy="1300.2266" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.5166" x="1868.5" y="1304.4551">status: AdStatusEnum</text><ellipse cx="1859.5" cy="1317.8359" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7236" x="1868.5" y="1322.0645">start_date: DateTime</text><ellipse cx="1859.5" cy="1335.4453" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188.3301" x="1868.5" y="1339.6738">end_date: DateTime (nullable)</text><ellipse cx="1859.5" cy="1353.0547" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.1924" x="1868.5" y="1357.2832">audit_remark: string (nullable)</text><ellipse cx="1859.5" cy="1392.2734" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.0752" x="1868.5" y="1396.502">get_total_impressions(): int</text><ellipse cx="1859.5" cy="1409.8828" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.6064" x="1868.5" y="1414.1113">get_total_clicks(): int</text><ellipse cx="1859.5" cy="1427.4922" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3652" x="1868.5" y="1431.7207">get_ctr(): float</text><ellipse cx="1859.5" cy="1445.1016" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.8408" x="1868.5" y="1449.3301">get_total_cost(): Decimal</text><ellipse cx="1859.5" cy="1462.7109" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.1719" x="1868.5" y="1466.9395">submit_for_approval()</text><ellipse cx="1859.5" cy="1480.3203" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="252.0957" x="1868.5" y="1484.5488">approve_ad(admin: User, remark: string)</text><ellipse cx="1859.5" cy="1497.9297" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235.7373" x="1868.5" y="1502.1582">reject_ad(admin: User, remark: string)</text><line style="stroke:#181818;stroke-width:1;" x1="1849.5" x2="1960.6997" y1="1373.1641" y2="1373.1641"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.6963" x="1960.6997" y="1378.3926">Methods</text><line style="stroke:#181818;stroke-width:1;" x1="2014.396" x2="2125.5957" y1="1373.1641" y2="1373.1641"></line></g><!--class CreativeTypeEnum--><g class="entity" data-entity="CreativeTypeEnum" data-source-line="143" data-uid="ent0021" id="entity_CreativeTypeEnum"><rect fill="#F1F1F1" height="110.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151.8271" x="433.5" y="378.1094"></rect><ellipse cx="448.5" cy="394.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M447.3594,394.9063 L447.3594,397.4063 L451.6875,397.4063 L451.6875,396.4844 Q451.6875,395.875 451.9297,395.6094 Q452.1719,395.3438 452.5469,395.3438 Q452.9219,395.3438 453.1563,395.6094 Q453.3906,395.875 453.3906,396.4844 L453.3906,399.1094 L445.3906,399.1094 Q444.7656,399.1094 444.5078,398.875 Q444.25,398.6406 444.25,398.25 Q444.25,397.875 444.5156,397.6406 Q444.7813,397.4063 445.3906,397.4063 L445.6563,397.4063 L445.6563,390.75 L445.3906,390.75 Q444.7656,390.75 444.5078,390.5156 Q444.25,390.2813 444.25,389.8906 Q444.25,389.5156 444.5078,389.2813 Q444.7656,389.0469 445.3906,389.0469 L453.0156,389.0469 L453.0156,391.6406 Q453.0156,392.25 452.7891,392.5078 Q452.5625,392.7656 452.1719,392.7656 Q451.7969,392.7656 451.5625,392.5078 Q451.3281,392.25 451.3281,391.6406 L451.3281,390.75 L447.3594,390.75 L447.3594,393.2031 L448.8438,393.2031 Q448.8438,392.5469 448.9688,392.3594 Q449.2344,391.9531 449.7031,391.9531 Q450.0781,391.9531 450.3125,392.2109 Q450.5469,392.4688 450.5469,393.0781 L450.5469,395.0469 Q450.5469,395.5938 450.4219,395.7813 Q450.1563,396.1719 449.7031,396.1719 Q449.2344,396.1719 448.9688,395.7656 Q448.8438,395.5781 448.8438,394.9063 L447.3594,394.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="462.5" y="399.8379">CreativeTypeEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="434.5" x2="584.3271" y1="410.1094" y2="410.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1172" x="439.5" y="428.6426">IMAGE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.5654" x="439.5" y="446.252">VIDEO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.7793" x="439.5" y="463.8613">TEXT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.1104" x="439.5" y="481.4707">HTML</text></g><!--class AdStatusEnum--><g class="entity" data-entity="AdStatusEnum" data-source-line="149" data-uid="ent0022" id="entity_AdStatusEnum"><rect fill="#F1F1F1" height="163.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.0479" x="621" y="351.6094"></rect><ellipse cx="651.1479" cy="367.6094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M650.0073,368.4063 L650.0073,370.9063 L654.3354,370.9063 L654.3354,369.9844 Q654.3354,369.375 654.5776,369.1094 Q654.8198,368.8438 655.1948,368.8438 Q655.5698,368.8438 655.8042,369.1094 Q656.0386,369.375 656.0386,369.9844 L656.0386,372.6094 L648.0386,372.6094 Q647.4136,372.6094 647.1558,372.375 Q646.8979,372.1406 646.8979,371.75 Q646.8979,371.375 647.1636,371.1406 Q647.4292,370.9063 648.0386,370.9063 L648.3042,370.9063 L648.3042,364.25 L648.0386,364.25 Q647.4136,364.25 647.1558,364.0156 Q646.8979,363.7813 646.8979,363.3906 Q646.8979,363.0156 647.1558,362.7813 Q647.4136,362.5469 648.0386,362.5469 L655.6636,362.5469 L655.6636,365.1406 Q655.6636,365.75 655.437,366.0078 Q655.2104,366.2656 654.8198,366.2656 Q654.4448,366.2656 654.2104,366.0078 Q653.9761,365.75 653.9761,365.1406 L653.9761,364.25 L650.0073,364.25 L650.0073,366.7031 L651.4917,366.7031 Q651.4917,366.0469 651.6167,365.8594 Q651.8823,365.4531 652.3511,365.4531 Q652.7261,365.4531 652.9604,365.7109 Q653.1948,365.9688 653.1948,366.5781 L653.1948,368.5469 Q653.1948,369.0938 653.0698,369.2813 Q652.8042,369.6719 652.3511,369.6719 Q651.8823,369.6719 651.6167,369.2656 Q651.4917,369.0781 651.4917,368.4063 L650.0073,368.4063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3857" x="668.5142" y="373.3379">AdStatusEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="622" x2="779.0479" y1="383.6094" y2="383.6094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6621" x="627" y="402.1426">DRAFT</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.0479" x="627" y="419.752">PENDING_APPROVAL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.5654" x="627" y="437.3613">ACTIVE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.5723" x="627" y="454.9707">PAUSED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0068" x="627" y="472.5801">ENDED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.8965" x="627" y="490.1895">REJECTED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5723" x="627" y="507.7988">DELETED</text></g><!--class AuditLog--><g class="entity" data-entity="AuditLog" data-source-line="159" data-uid="ent0023" id="entity_AuditLog"><rect fill="#F1F1F1" height="188.875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="414.3838" x="1218.5" y="1620.6094"></rect><ellipse cx="1393.8076" cy="1636.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M1396.5732,1632.4844 Q1396.7295,1632.2656 1396.917,1632.1563 Q1397.1045,1632.0469 1397.3232,1632.0469 Q1397.6982,1632.0469 1397.9326,1632.3047 Q1398.167,1632.5625 1398.167,1633.1719 L1398.167,1634.625 Q1398.167,1635.2344 1397.9326,1635.5 Q1397.6982,1635.7656 1397.3232,1635.7656 Q1396.9795,1635.7656 1396.7764,1635.5625 Q1396.5732,1635.375 1396.4639,1634.8594 Q1396.417,1634.5 1396.2295,1634.3125 Q1395.9014,1633.9375 1395.292,1633.7188 Q1394.6826,1633.5 1394.0576,1633.5 Q1393.292,1633.5 1392.6592,1633.8281 Q1392.0264,1634.1563 1391.5342,1634.9063 Q1391.042,1635.6563 1391.042,1636.6875 L1391.042,1637.7813 Q1391.042,1639.0156 1391.9326,1639.8359 Q1392.8232,1640.6563 1394.417,1640.6563 Q1395.3545,1640.6563 1396.0107,1640.4063 Q1396.4014,1640.25 1396.8232,1639.8125 Q1397.0889,1639.5469 1397.2373,1639.4688 Q1397.3857,1639.3906 1397.5889,1639.3906 Q1397.917,1639.3906 1398.1748,1639.6484 Q1398.4326,1639.9063 1398.4326,1640.25 Q1398.4326,1640.5938 1398.0889,1641 Q1397.5889,1641.5781 1396.792,1641.9063 Q1395.7139,1642.3594 1394.417,1642.3594 Q1392.9014,1642.3594 1391.6982,1641.7344 Q1390.7139,1641.2344 1390.0264,1640.1641 Q1389.3389,1639.0938 1389.3389,1637.8125 L1389.3389,1636.6563 Q1389.3389,1635.3281 1389.9561,1634.1797 Q1390.5732,1633.0313 1391.667,1632.4141 Q1392.7607,1631.7969 1393.9951,1631.7969 Q1394.7295,1631.7969 1395.3779,1631.9609 Q1396.0264,1632.125 1396.5732,1632.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.2686" x="1414.3076" y="1642.3379">AuditLog</text><line style="stroke:#181818;stroke-width:0.5;" x1="1219.5" x2="1631.8838" y1="1652.6094" y2="1652.6094"></line><ellipse cx="1229.5" cy="1666.9141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285.0449" x="1238.5" y="1671.1426">entity_type: string  // "Ad", "User", "Campaign"</text><ellipse cx="1229.5" cy="1684.5234" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.71" x="1238.5" y="1688.752">entity_id: int</text><ellipse cx="1229.5" cy="1702.1328" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="388.3838" x="1238.5" y="1706.3613">action: string // "approve", "reject", "comment", "update_status"</text><ellipse cx="1229.5" cy="1719.7422" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.834" x="1238.5" y="1723.9707">new_status: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="1219.5" x2="1631.8838" y1="1731.0469" y2="1731.0469"></line><ellipse cx="1229.5" cy="1745.3516" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.5723" x="1238.5" y="1749.5801">admin: User (FK)</text><ellipse cx="1229.5" cy="1762.9609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.2959" x="1238.5" y="1767.1895">reason: string (nullable)</text><ellipse cx="1229.5" cy="1780.5703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.5439" x="1238.5" y="1784.7988">previous_status: string (nullable)</text><ellipse cx="1229.5" cy="1798.1797" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="339.2813" x="1238.5" y="1802.4082">details: JSONField (nullable) // Store additional context</text></g><!--class Transaction--><g class="entity" data-entity="Transaction" data-source-line="170" data-uid="ent0025" id="entity_Transaction"><rect fill="#F1F1F1" height="224.0938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="461.7705" x="2244.5" y="1603.1094"></rect><ellipse cx="2434.563" cy="1619.1094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M2437.3286,1614.9844 Q2437.4849,1614.7656 2437.6724,1614.6563 Q2437.8599,1614.5469 2438.0786,1614.5469 Q2438.4536,1614.5469 2438.688,1614.8047 Q2438.9224,1615.0625 2438.9224,1615.6719 L2438.9224,1617.125 Q2438.9224,1617.7344 2438.688,1618 Q2438.4536,1618.2656 2438.0786,1618.2656 Q2437.7349,1618.2656 2437.5317,1618.0625 Q2437.3286,1617.875 2437.2192,1617.3594 Q2437.1724,1617 2436.9849,1616.8125 Q2436.6567,1616.4375 2436.0474,1616.2188 Q2435.438,1616 2434.813,1616 Q2434.0474,1616 2433.4146,1616.3281 Q2432.7817,1616.6563 2432.2896,1617.4063 Q2431.7974,1618.1563 2431.7974,1619.1875 L2431.7974,1620.2813 Q2431.7974,1621.5156 2432.688,1622.3359 Q2433.5786,1623.1563 2435.1724,1623.1563 Q2436.1099,1623.1563 2436.7661,1622.9063 Q2437.1567,1622.75 2437.5786,1622.3125 Q2437.8442,1622.0469 2437.9927,1621.9688 Q2438.1411,1621.8906 2438.3442,1621.8906 Q2438.6724,1621.8906 2438.9302,1622.1484 Q2439.188,1622.4063 2439.188,1622.75 Q2439.188,1623.0938 2438.8442,1623.5 Q2438.3442,1624.0781 2437.5474,1624.4063 Q2436.4692,1624.8594 2435.1724,1624.8594 Q2433.6567,1624.8594 2432.4536,1624.2344 Q2431.4692,1623.7344 2430.7817,1622.6641 Q2430.0942,1621.5938 2430.0942,1620.3125 L2430.0942,1619.1563 Q2430.0942,1617.8281 2430.7114,1616.6797 Q2431.3286,1615.5313 2432.4224,1614.9141 Q2433.5161,1614.2969 2434.7505,1614.2969 Q2435.4849,1614.2969 2436.1333,1614.4609 Q2436.7817,1614.625 2437.3286,1614.9844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1445" x="2455.063" y="1624.8379">Transaction</text><line style="stroke:#181818;stroke-width:0.5;" x1="2245.5" x2="2705.2705" y1="1635.1094" y2="1635.1094"></line><ellipse cx="2255.5" cy="1649.4141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="435.7705" x="2264.5" y="1653.6426">amount: Decimal // Positive for income/recharge, negative for expense</text><ellipse cx="2255.5" cy="1667.0234" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251.3506" x="2264.5" y="1671.252">transaction_type: TransactionTypeEnum</text><ellipse cx="2255.5" cy="1684.6328" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.5371" x="2264.5" y="1688.8613">status: TransactionStatusEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="2245.5" x2="2705.2705" y1="1695.9375" y2="1695.9375"></line><ellipse cx="2255.5" cy="1710.2422" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6758" x="2264.5" y="1714.4707">user: User (FK)</text><ellipse cx="2255.5" cy="1727.8516" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="315.9502" x="2264.5" y="1732.0801">payment_method: PaymentMethodEnum (nullable)</text><ellipse cx="2255.5" cy="1745.4609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.6201" x="2264.5" y="1749.6895">ad: Ad (FK, nullable)</text><ellipse cx="2255.5" cy="1763.0703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.8613" x="2264.5" y="1767.2988">invoice: Invoice (FK, nullable)</text><ellipse cx="2255.5" cy="1780.6797" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.1924" x="2264.5" y="1784.9082">description: string (nullable)</text><ellipse cx="2255.5" cy="1798.2891" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.2061" x="2264.5" y="1802.5176">external_id: string (UK, nullable)</text><ellipse cx="2255.5" cy="1815.8984" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.9922" x="2264.5" y="1820.127">completed_at: DateTime (nullable)</text></g><!--class TransactionTypeEnum--><g class="entity" data-entity="TransactionTypeEnum" data-source-line="182" data-uid="ent0027" id="entity_TransactionTypeEnum"><rect fill="#F1F1F1" height="128.0469" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172.8408" x="7" y="764.1094"></rect><ellipse cx="22" cy="780.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M20.8594,780.9063 L20.8594,783.4063 L25.1875,783.4063 L25.1875,782.4844 Q25.1875,781.875 25.4297,781.6094 Q25.6719,781.3438 26.0469,781.3438 Q26.4219,781.3438 26.6563,781.6094 Q26.8906,781.875 26.8906,782.4844 L26.8906,785.1094 L18.8906,785.1094 Q18.2656,785.1094 18.0078,784.875 Q17.75,784.6406 17.75,784.25 Q17.75,783.875 18.0156,783.6406 Q18.2813,783.4063 18.8906,783.4063 L19.1563,783.4063 L19.1563,776.75 L18.8906,776.75 Q18.2656,776.75 18.0078,776.5156 Q17.75,776.2813 17.75,775.8906 Q17.75,775.5156 18.0078,775.2813 Q18.2656,775.0469 18.8906,775.0469 L26.5156,775.0469 L26.5156,777.6406 Q26.5156,778.25 26.2891,778.5078 Q26.0625,778.7656 25.6719,778.7656 Q25.2969,778.7656 25.0625,778.5078 Q24.8281,778.25 24.8281,777.6406 L24.8281,776.75 L20.8594,776.75 L20.8594,779.2031 L22.3438,779.2031 Q22.3438,778.5469 22.4688,778.3594 Q22.7344,777.9531 23.2031,777.9531 Q23.5781,777.9531 23.8125,778.2109 Q24.0469,778.4688 24.0469,779.0781 L24.0469,781.0469 Q24.0469,781.5938 23.9219,781.7813 Q23.6563,782.1719 23.2031,782.1719 Q22.7344,782.1719 22.4688,781.7656 Q22.3438,781.5781 22.3438,780.9063 L20.8594,780.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.8408" x="36" y="785.8379">TransactionTypeEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="178.8408" y1="796.1094" y2="796.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.3447" x="13" y="814.6426">RECHARGE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4688" x="13" y="832.252">AD_SPEND</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58.3311" x="13" y="849.8613">REFUND</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6621" x="13" y="867.4707">WITHDRAWAL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.4619" x="13" y="885.0801">SYSTEM_ADJUSTMENT</text></g><!--class PaymentMethodEnum--><g class="entity" data-entity="PaymentMethodEnum" data-source-line="189" data-uid="ent0028" id="entity_PaymentMethodEnum"><rect fill="#F1F1F1" height="128.0469" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.5166" x="215" y="764.1094"></rect><ellipse cx="230" cy="780.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M228.8594,780.9063 L228.8594,783.4063 L233.1875,783.4063 L233.1875,782.4844 Q233.1875,781.875 233.4297,781.6094 Q233.6719,781.3438 234.0469,781.3438 Q234.4219,781.3438 234.6563,781.6094 Q234.8906,781.875 234.8906,782.4844 L234.8906,785.1094 L226.8906,785.1094 Q226.2656,785.1094 226.0078,784.875 Q225.75,784.6406 225.75,784.25 Q225.75,783.875 226.0156,783.6406 Q226.2813,783.4063 226.8906,783.4063 L227.1563,783.4063 L227.1563,776.75 L226.8906,776.75 Q226.2656,776.75 226.0078,776.5156 Q225.75,776.2813 225.75,775.8906 Q225.75,775.5156 226.0078,775.2813 Q226.2656,775.0469 226.8906,775.0469 L234.5156,775.0469 L234.5156,777.6406 Q234.5156,778.25 234.2891,778.5078 Q234.0625,778.7656 233.6719,778.7656 Q233.2969,778.7656 233.0625,778.5078 Q232.8281,778.25 232.8281,777.6406 L232.8281,776.75 L228.8594,776.75 L228.8594,779.2031 L230.3438,779.2031 Q230.3438,778.5469 230.4688,778.3594 Q230.7344,777.9531 231.2031,777.9531 Q231.5781,777.9531 231.8125,778.2109 Q232.0469,778.4688 232.0469,779.0781 L232.0469,781.0469 Q232.0469,781.5938 231.9219,781.7813 Q231.6563,782.1719 231.2031,782.1719 Q230.7344,782.1719 230.4688,781.7656 Q230.3438,781.5781 230.3438,780.9063 L228.8594,780.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.5166" x="244" y="785.8379">PaymentMethodEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="216" x2="384.5166" y1="796.1094" y2="796.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3584" x="221" y="814.6426">BALANCE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0273" x="221" y="832.252">ALIPAY</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4619" x="221" y="849.8613">WECHAT_PAY</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.3584" x="221" y="867.4707">BANK_TRANSFER</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.5654" x="221" y="885.0801">CREDIT_CARD</text></g><!--class TransactionStatusEnum--><g class="entity" data-entity="TransactionStatusEnum" data-source-line="196" data-uid="ent0029" id="entity_TransactionStatusEnum"><rect fill="#F1F1F1" height="145.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.4063" x="421" y="755.1094"></rect><ellipse cx="436" cy="771.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M434.8594,771.9063 L434.8594,774.4063 L439.1875,774.4063 L439.1875,773.4844 Q439.1875,772.875 439.4297,772.6094 Q439.6719,772.3438 440.0469,772.3438 Q440.4219,772.3438 440.6563,772.6094 Q440.8906,772.875 440.8906,773.4844 L440.8906,776.1094 L432.8906,776.1094 Q432.2656,776.1094 432.0078,775.875 Q431.75,775.6406 431.75,775.25 Q431.75,774.875 432.0156,774.6406 Q432.2813,774.4063 432.8906,774.4063 L433.1563,774.4063 L433.1563,767.75 L432.8906,767.75 Q432.2656,767.75 432.0078,767.5156 Q431.75,767.2813 431.75,766.8906 Q431.75,766.5156 432.0078,766.2813 Q432.2656,766.0469 432.8906,766.0469 L440.5156,766.0469 L440.5156,768.6406 Q440.5156,769.25 440.2891,769.5078 Q440.0625,769.7656 439.6719,769.7656 Q439.2969,769.7656 439.0625,769.5078 Q438.8281,769.25 438.8281,768.6406 L438.8281,767.75 L434.8594,767.75 L434.8594,770.2031 L436.3438,770.2031 Q436.3438,769.5469 436.4688,769.3594 Q436.7344,768.9531 437.2031,768.9531 Q437.5781,768.9531 437.8125,769.2109 Q438.0469,769.4688 438.0469,770.0781 L438.0469,772.0469 Q438.0469,772.5938 437.9219,772.7813 Q437.6563,773.1719 437.2031,773.1719 Q436.7344,773.1719 436.4688,772.7656 Q436.3438,772.5781 436.3438,771.9063 L434.8594,771.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.4063" x="450" y="776.8379">TransactionStatusEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="422" x2="601.4063" y1="787.1094" y2="787.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7861" x="427" y="805.6426">PENDING</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3516" x="427" y="823.252">PROCESSING</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.124" x="427" y="840.8613">COMPLETED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.0137" x="427" y="858.4707">FAILED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0273" x="427" y="876.0801">CANCELLED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.7793" x="427" y="893.6895">REFUNDED</text></g><!--class InvoiceInfo--><g class="entity" data-entity="InvoiceInfo" data-source-line="205" data-uid="ent0030" id="entity_InvoiceInfo"><rect fill="#F1F1F1" height="188.875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="234.5166" x="3083" y="733.6094"></rect><ellipse cx="3162.1533" cy="749.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M3164.9189,745.4844 Q3165.0752,745.2656 3165.2627,745.1563 Q3165.4502,745.0469 3165.6689,745.0469 Q3166.0439,745.0469 3166.2783,745.3047 Q3166.5127,745.5625 3166.5127,746.1719 L3166.5127,747.625 Q3166.5127,748.2344 3166.2783,748.5 Q3166.0439,748.7656 3165.6689,748.7656 Q3165.3252,748.7656 3165.1221,748.5625 Q3164.9189,748.375 3164.8096,747.8594 Q3164.7627,747.5 3164.5752,747.3125 Q3164.2471,746.9375 3163.6377,746.7188 Q3163.0283,746.5 3162.4033,746.5 Q3161.6377,746.5 3161.0049,746.8281 Q3160.3721,747.1563 3159.8799,747.9063 Q3159.3877,748.6563 3159.3877,749.6875 L3159.3877,750.7813 Q3159.3877,752.0156 3160.2783,752.8359 Q3161.1689,753.6563 3162.7627,753.6563 Q3163.7002,753.6563 3164.3564,753.4063 Q3164.7471,753.25 3165.1689,752.8125 Q3165.4346,752.5469 3165.583,752.4688 Q3165.7314,752.3906 3165.9346,752.3906 Q3166.2627,752.3906 3166.5205,752.6484 Q3166.7783,752.9063 3166.7783,753.25 Q3166.7783,753.5938 3166.4346,754 Q3165.9346,754.5781 3165.1377,754.9063 Q3164.0596,755.3594 3162.7627,755.3594 Q3161.2471,755.3594 3160.0439,754.7344 Q3159.0596,754.2344 3158.3721,753.1641 Q3157.6846,752.0938 3157.6846,750.8125 L3157.6846,749.6563 Q3157.6846,748.3281 3158.3018,747.1797 Q3158.9189,746.0313 3160.0127,745.4141 Q3161.1064,744.7969 3162.3408,744.7969 Q3163.0752,744.7969 3163.7236,744.9609 Q3164.3721,745.125 3164.9189,745.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.71" x="3182.6533" y="755.3379">InvoiceInfo</text><line style="stroke:#181818;stroke-width:0.5;" x1="3084" x2="3316.5166" y1="765.6094" y2="765.6094"></line><ellipse cx="3094" cy="779.9141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.5371" x="3103" y="784.1426">is_default: boolean</text><line style="stroke:#181818;stroke-width:0.5;" x1="3084" x2="3316.5166" y1="791.2188" y2="791.2188"></line><ellipse cx="3094" cy="805.5234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6758" x="3103" y="809.752">user: User (FK)</text><ellipse cx="3094" cy="823.1328" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156.3721" x="3103" y="827.3613">title: string (UK with user)</text><ellipse cx="3094" cy="840.7422" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208.5166" x="3103" y="844.9707">tax_number: string (UK with user)</text><ellipse cx="3094" cy="858.3516" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.2959" x="3103" y="862.5801">address: string (nullable)</text><ellipse cx="3094" cy="875.9609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.9922" x="3103" y="880.1895">telephone: string (nullable)</text><ellipse cx="3094" cy="893.5703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.6543" x="3103" y="897.7988">bank_name: string (nullable)</text><ellipse cx="3094" cy="911.1797" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.668" x="3103" y="915.4082">bank_account: string (nullable)</text></g><!--class Invoice--><g class="entity" data-entity="Invoice" data-source-line="216" data-uid="ent0032" id="entity_Invoice"><rect fill="#F1F1F1" height="325.75" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="437.626" x="3019.5" y="1113.1094"></rect><ellipse cx="3211.8838" cy="1129.1094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M3214.6494,1124.9844 Q3214.8057,1124.7656 3214.9932,1124.6563 Q3215.1807,1124.5469 3215.3994,1124.5469 Q3215.7744,1124.5469 3216.0088,1124.8047 Q3216.2432,1125.0625 3216.2432,1125.6719 L3216.2432,1127.125 Q3216.2432,1127.7344 3216.0088,1128 Q3215.7744,1128.2656 3215.3994,1128.2656 Q3215.0557,1128.2656 3214.8525,1128.0625 Q3214.6494,1127.875 3214.54,1127.3594 Q3214.4932,1127 3214.3057,1126.8125 Q3213.9775,1126.4375 3213.3682,1126.2188 Q3212.7588,1126 3212.1338,1126 Q3211.3682,1126 3210.7354,1126.3281 Q3210.1025,1126.6563 3209.6104,1127.4063 Q3209.1182,1128.1563 3209.1182,1129.1875 L3209.1182,1130.2813 Q3209.1182,1131.5156 3210.0088,1132.3359 Q3210.8994,1133.1563 3212.4932,1133.1563 Q3213.4307,1133.1563 3214.0869,1132.9063 Q3214.4775,1132.75 3214.8994,1132.3125 Q3215.165,1132.0469 3215.3135,1131.9688 Q3215.4619,1131.8906 3215.665,1131.8906 Q3215.9932,1131.8906 3216.251,1132.1484 Q3216.5088,1132.4063 3216.5088,1132.75 Q3216.5088,1133.0938 3216.165,1133.5 Q3215.665,1134.0781 3214.8682,1134.4063 Q3213.79,1134.8594 3212.4932,1134.8594 Q3210.9775,1134.8594 3209.7744,1134.2344 Q3208.79,1133.7344 3208.1025,1132.6641 Q3207.415,1131.5938 3207.415,1130.3125 L3207.415,1129.1563 Q3207.415,1127.8281 3208.0322,1126.6797 Q3208.6494,1125.5313 3209.7432,1124.9141 Q3210.8369,1124.2969 3212.0713,1124.2969 Q3212.8057,1124.2969 3213.4541,1124.4609 Q3214.1025,1124.625 3214.6494,1124.9844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44.3584" x="3232.3838" y="1134.8379">Invoice</text><line style="stroke:#181818;stroke-width:0.5;" x1="3020.5" x2="3456.126" y1="1145.1094" y2="1145.1094"></line><ellipse cx="3030.5" cy="1159.4141" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.6758" x="3039.5" y="1163.6426">user: User (FK)</text><ellipse cx="3030.5" cy="1177.0234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.5303" x="3039.5" y="1181.252">invoice_info: InvoiceInfo (FK)</text><ellipse cx="3030.5" cy="1194.6328" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.5508" x="3039.5" y="1198.8613">invoice_number: string (UK, nullable)</text><ellipse cx="3030.5" cy="1212.2422" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197.6611" x="3039.5" y="1216.4707">invoice_type: InvoiceTypeEnum</text><ellipse cx="3030.5" cy="1229.8516" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.041" x="3039.5" y="1234.0801">amount: Decimal</text><ellipse cx="3030.5" cy="1247.4609" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290.0557" x="3039.5" y="1251.6895">content_description: string // e.g., "广告服务费"</text><ellipse cx="3030.5" cy="1265.0703" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.751" x="3039.5" y="1269.2988">status: InvoiceStatusEnum</text><ellipse cx="3030.5" cy="1282.6797" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="345.4814" x="3039.5" y="1286.9082">recipient_email: string (nullable) // For electronic invoice</text><ellipse cx="3030.5" cy="1300.2891" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192.9648" x="3039.5" y="1304.5176">admin_remark: string (nullable)</text><ellipse cx="3030.5" cy="1317.8984" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.2959" x="3039.5" y="1322.127">pdf_url: string (nullable)</text><ellipse cx="3030.5" cy="1335.5078" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.4404" x="3039.5" y="1339.7363">invoice_date: Date (nullable)</text><ellipse cx="3030.5" cy="1374.7266" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="329.1436" x="3039.5" y="1378.9551">add_item(transaction: Transaction, amount: Decimal)</text><ellipse cx="3030.5" cy="1392.3359" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.9648" x="3039.5" y="1396.5645">mark_as_processing(admin: User)</text><ellipse cx="3030.5" cy="1409.9453" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="411.626" x="3039.5" y="1414.1738">mark_as_completed(admin: User, invoice_num: string, date: Date)</text><ellipse cx="3030.5" cy="1427.5547" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.4199" x="3039.5" y="1431.7832">mark_as_rejected(admin: User, remark: string)</text><line style="stroke:#181818;stroke-width:1;" x1="3020.5" x2="3211.4648" y1="1355.6172" y2="1355.6172"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.6963" x="3211.4648" y="1360.8457">Methods</text><line style="stroke:#181818;stroke-width:1;" x1="3265.1611" x2="3456.126" y1="1355.6172" y2="1355.6172"></line></g><!--class InvoiceTypeEnum--><g class="entity" data-entity="InvoiceTypeEnum" data-source-line="234" data-uid="ent0034" id="entity_InvoiceTypeEnum"><rect fill="#F1F1F1" height="92.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.0547" x="637.5" y="781.6094"></rect><ellipse cx="652.5" cy="797.6094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M651.3594,798.4063 L651.3594,800.9063 L655.6875,800.9063 L655.6875,799.9844 Q655.6875,799.375 655.9297,799.1094 Q656.1719,798.8438 656.5469,798.8438 Q656.9219,798.8438 657.1563,799.1094 Q657.3906,799.375 657.3906,799.9844 L657.3906,802.6094 L649.3906,802.6094 Q648.7656,802.6094 648.5078,802.375 Q648.25,802.1406 648.25,801.75 Q648.25,801.375 648.5156,801.1406 Q648.7813,800.9063 649.3906,800.9063 L649.6563,800.9063 L649.6563,794.25 L649.3906,794.25 Q648.7656,794.25 648.5078,794.0156 Q648.25,793.7813 648.25,793.3906 Q648.25,793.0156 648.5078,792.7813 Q648.7656,792.5469 649.3906,792.5469 L657.0156,792.5469 L657.0156,795.1406 Q657.0156,795.75 656.7891,796.0078 Q656.5625,796.2656 656.1719,796.2656 Q655.7969,796.2656 655.5625,796.0078 Q655.3281,795.75 655.3281,795.1406 L655.3281,794.25 L651.3594,794.25 L651.3594,796.7031 L652.8438,796.7031 Q652.8438,796.0469 652.9688,795.8594 Q653.2344,795.4531 653.7031,795.4531 Q654.0781,795.4531 654.3125,795.7109 Q654.5469,795.9688 654.5469,796.5781 L654.5469,798.5469 Q654.5469,799.0938 654.4219,799.2813 Q654.1563,799.6719 653.7031,799.6719 Q653.2344,799.6719 652.9688,799.2656 Q652.8438,799.0781 652.8438,798.4063 L651.3594,798.4063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0547" x="666.5" y="803.3379">InvoiceTypeEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="638.5" x2="780.5547" y1="813.6094" y2="813.6094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.8965" x="643.5" y="832.1426">NORMAL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.1377" x="643.5" y="849.752">SPECIAL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2344" x="643.5" y="867.3613">ELECTRONIC</text></g><!--class InvoiceStatusEnum--><g class="entity" data-entity="InvoiceStatusEnum" data-source-line="239" data-uid="ent0035" id="entity_InvoiceStatusEnum"><rect fill="#F1F1F1" height="145.6563" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152.6201" x="17" y="1203.1094"></rect><ellipse cx="32" cy="1219.1094" fill="#ABABAB" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M30.8594,1219.9063 L30.8594,1222.4063 L35.1875,1222.4063 L35.1875,1221.4844 Q35.1875,1220.875 35.4297,1220.6094 Q35.6719,1220.3438 36.0469,1220.3438 Q36.4219,1220.3438 36.6563,1220.6094 Q36.8906,1220.875 36.8906,1221.4844 L36.8906,1224.1094 L28.8906,1224.1094 Q28.2656,1224.1094 28.0078,1223.875 Q27.75,1223.6406 27.75,1223.25 Q27.75,1222.875 28.0156,1222.6406 Q28.2813,1222.4063 28.8906,1222.4063 L29.1563,1222.4063 L29.1563,1215.75 L28.8906,1215.75 Q28.2656,1215.75 28.0078,1215.5156 Q27.75,1215.2813 27.75,1214.8906 Q27.75,1214.5156 28.0078,1214.2813 Q28.2656,1214.0469 28.8906,1214.0469 L36.5156,1214.0469 L36.5156,1216.6406 Q36.5156,1217.25 36.2891,1217.5078 Q36.0625,1217.7656 35.6719,1217.7656 Q35.2969,1217.7656 35.0625,1217.5078 Q34.8281,1217.25 34.8281,1216.6406 L34.8281,1215.75 L30.8594,1215.75 L30.8594,1218.2031 L32.3438,1218.2031 Q32.3438,1217.5469 32.4688,1217.3594 Q32.7344,1216.9531 33.2031,1216.9531 Q33.5781,1216.9531 33.8125,1217.2109 Q34.0469,1217.4688 34.0469,1218.0781 L34.0469,1220.0469 Q34.0469,1220.5938 33.9219,1220.7813 Q33.6563,1221.1719 33.2031,1221.1719 Q32.7344,1221.1719 32.4688,1220.7656 Q32.3438,1220.5781 32.3438,1219.9063 L30.8594,1219.9063 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.6201" x="46" y="1224.8379">InvoiceStatusEnum</text><line style="stroke:#181818;stroke-width:0.5;" x1="18" x2="168.6201" y1="1235.1094" y2="1235.1094"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.7861" x="23" y="1253.6426">PENDING</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.3516" x="23" y="1271.252">PROCESSING</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.124" x="23" y="1288.8613">COMPLETED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.8965" x="23" y="1306.4707">REJECTED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0273" x="23" y="1324.0801">CANCELLED</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.3379" x="23" y="1341.6895">SENT</text></g><!--class InvoiceItem--><g class="entity" data-entity="InvoiceItem" data-source-line="248" data-uid="ent0036" id="entity_InvoiceItem"><rect fill="#F1F1F1" height="118.4375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="206.5098" x="2176" y="1943.1094"></rect><ellipse cx="2239.2119" cy="1959.1094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M2241.9775,1954.9844 Q2242.1338,1954.7656 2242.3213,1954.6563 Q2242.5088,1954.5469 2242.7275,1954.5469 Q2243.1025,1954.5469 2243.3369,1954.8047 Q2243.5713,1955.0625 2243.5713,1955.6719 L2243.5713,1957.125 Q2243.5713,1957.7344 2243.3369,1958 Q2243.1025,1958.2656 2242.7275,1958.2656 Q2242.3838,1958.2656 2242.1807,1958.0625 Q2241.9775,1957.875 2241.8682,1957.3594 Q2241.8213,1957 2241.6338,1956.8125 Q2241.3057,1956.4375 2240.6963,1956.2188 Q2240.0869,1956 2239.4619,1956 Q2238.6963,1956 2238.0635,1956.3281 Q2237.4307,1956.6563 2236.9385,1957.4063 Q2236.4463,1958.1563 2236.4463,1959.1875 L2236.4463,1960.2813 Q2236.4463,1961.5156 2237.3369,1962.3359 Q2238.2275,1963.1563 2239.8213,1963.1563 Q2240.7588,1963.1563 2241.415,1962.9063 Q2241.8057,1962.75 2242.2275,1962.3125 Q2242.4932,1962.0469 2242.6416,1961.9688 Q2242.79,1961.8906 2242.9932,1961.8906 Q2243.3213,1961.8906 2243.5791,1962.1484 Q2243.8369,1962.4063 2243.8369,1962.75 Q2243.8369,1963.0938 2243.4932,1963.5 Q2242.9932,1964.0781 2242.1963,1964.4063 Q2241.1182,1964.8594 2239.8213,1964.8594 Q2238.3057,1964.8594 2237.1025,1964.2344 Q2236.1182,1963.7344 2235.4307,1962.6641 Q2234.7432,1961.5938 2234.7432,1960.3125 L2234.7432,1959.1563 Q2234.7432,1957.8281 2235.3604,1956.6797 Q2235.9775,1955.5313 2237.0713,1954.9141 Q2238.165,1954.2969 2239.3994,1954.2969 Q2240.1338,1954.2969 2240.7822,1954.4609 Q2241.4307,1954.625 2241.9775,1954.9844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5859" x="2259.7119" y="1964.8379">InvoiceItem</text><line style="stroke:#181818;stroke-width:0.5;" x1="2177" x2="2381.5098" y1="1975.1094" y2="1975.1094"></line><ellipse cx="2187" cy="1989.4141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.041" x="2196" y="1993.6426">amount: Decimal</text><line style="stroke:#181818;stroke-width:0.5;" x1="2177" x2="2381.5098" y1="2000.7188" y2="2000.7188"></line><ellipse cx="2187" cy="2015.0234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.8203" x="2196" y="2019.252">invoice: Invoice (FK)</text><ellipse cx="2187" cy="2032.6328" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.5098" x="2196" y="2036.8613">transaction: Transaction (FK)</text><ellipse cx="2187" cy="2050.2422" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.1924" x="2196" y="2054.4707">description: string (nullable)</text></g><!--class AdImpression--><g class="entity" data-entity="AdImpression" data-source-line="255" data-uid="ent0038" id="entity_AdImpression"><rect fill="#F1F1F1" height="163.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="377.6475" x="3702.5" y="1633.6094"></rect><ellipse cx="3844.2773" cy="1649.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M3847.043,1645.4844 Q3847.1992,1645.2656 3847.3867,1645.1563 Q3847.5742,1645.0469 3847.793,1645.0469 Q3848.168,1645.0469 3848.4023,1645.3047 Q3848.6367,1645.5625 3848.6367,1646.1719 L3848.6367,1647.625 Q3848.6367,1648.2344 3848.4023,1648.5 Q3848.168,1648.7656 3847.793,1648.7656 Q3847.4492,1648.7656 3847.2461,1648.5625 Q3847.043,1648.375 3846.9336,1647.8594 Q3846.8867,1647.5 3846.6992,1647.3125 Q3846.3711,1646.9375 3845.7617,1646.7188 Q3845.1523,1646.5 3844.5273,1646.5 Q3843.7617,1646.5 3843.1289,1646.8281 Q3842.4961,1647.1563 3842.0039,1647.9063 Q3841.5117,1648.6563 3841.5117,1649.6875 L3841.5117,1650.7813 Q3841.5117,1652.0156 3842.4023,1652.8359 Q3843.293,1653.6563 3844.8867,1653.6563 Q3845.8242,1653.6563 3846.4805,1653.4063 Q3846.8711,1653.25 3847.293,1652.8125 Q3847.5586,1652.5469 3847.707,1652.4688 Q3847.8555,1652.3906 3848.0586,1652.3906 Q3848.3867,1652.3906 3848.6445,1652.6484 Q3848.9023,1652.9063 3848.9023,1653.25 Q3848.9023,1653.5938 3848.5586,1654 Q3848.0586,1654.5781 3847.2617,1654.9063 Q3846.1836,1655.3594 3844.8867,1655.3594 Q3843.3711,1655.3594 3842.168,1654.7344 Q3841.1836,1654.2344 3840.4961,1653.1641 Q3839.8086,1652.0938 3839.8086,1650.8125 L3839.8086,1649.6563 Q3839.8086,1648.3281 3840.4258,1647.1797 Q3841.043,1646.0313 3842.1367,1645.4141 Q3843.2305,1644.7969 3844.4648,1644.7969 Q3845.1992,1644.7969 3845.8477,1644.9609 Q3846.4961,1645.125 3847.043,1645.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5928" x="3864.7773" y="1655.3379">AdImpression</text><line style="stroke:#181818;stroke-width:0.5;" x1="3703.5" x2="4079.1475" y1="1665.6094" y2="1665.6094"></line><ellipse cx="3713.5" cy="1679.9141" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5791" x="3722.5" y="1684.1426">ad: Ad (FK)</text><ellipse cx="3713.5" cy="1697.5234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.1445" x="3722.5" y="1701.752">timestamp: DateTime(6)</text><ellipse cx="3713.5" cy="1715.1328" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.9785" x="3722.5" y="1719.3613">ip_address: string (nullable)</text><ellipse cx="3713.5" cy="1732.7422" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.5439" x="3722.5" y="1736.9707">user_agent: string (nullable)</text><ellipse cx="3713.5" cy="1750.3516" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="351.6475" x="3722.5" y="1754.5801">cost: Decimal (nullable) // Cost for this impression (CPM)</text><ellipse cx="3713.5" cy="1767.9609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.2061" x="3722.5" y="1772.1895">device_type: string (nullable)</text><ellipse cx="3713.5" cy="1785.5703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.8887" x="3722.5" y="1789.7988">geo_location: string (nullable)</text></g><!--class AdClick--><g class="entity" data-entity="AdClick" data-source-line="265" data-uid="ent0040" id="entity_AdClick"><rect fill="#F1F1F1" height="163.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="349.6816" x="3457.5" y="1920.6094"></rect><ellipse cx="3604.3633" cy="1936.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M3607.1289,1932.4844 Q3607.2852,1932.2656 3607.4727,1932.1563 Q3607.6602,1932.0469 3607.8789,1932.0469 Q3608.2539,1932.0469 3608.4883,1932.3047 Q3608.7227,1932.5625 3608.7227,1933.1719 L3608.7227,1934.625 Q3608.7227,1935.2344 3608.4883,1935.5 Q3608.2539,1935.7656 3607.8789,1935.7656 Q3607.5352,1935.7656 3607.332,1935.5625 Q3607.1289,1935.375 3607.0195,1934.8594 Q3606.9727,1934.5 3606.7852,1934.3125 Q3606.457,1933.9375 3605.8477,1933.7188 Q3605.2383,1933.5 3604.6133,1933.5 Q3603.8477,1933.5 3603.2148,1933.8281 Q3602.582,1934.1563 3602.0898,1934.9063 Q3601.5977,1935.6563 3601.5977,1936.6875 L3601.5977,1937.7813 Q3601.5977,1939.0156 3602.4883,1939.8359 Q3603.3789,1940.6563 3604.9727,1940.6563 Q3605.9102,1940.6563 3606.5664,1940.4063 Q3606.957,1940.25 3607.3789,1939.8125 Q3607.6445,1939.5469 3607.793,1939.4688 Q3607.9414,1939.3906 3608.1445,1939.3906 Q3608.4727,1939.3906 3608.7305,1939.6484 Q3608.9883,1939.9063 3608.9883,1940.25 Q3608.9883,1940.5938 3608.6445,1941 Q3608.1445,1941.5781 3607.3477,1941.9063 Q3606.2695,1942.3594 3604.9727,1942.3594 Q3603.457,1942.3594 3602.2539,1941.7344 Q3601.2695,1941.2344 3600.582,1940.1641 Q3599.8945,1939.0938 3599.8945,1937.8125 L3599.8945,1936.6563 Q3599.8945,1935.3281 3600.5117,1934.1797 Q3601.1289,1933.0313 3602.2227,1932.4141 Q3603.3164,1931.7969 3604.5508,1931.7969 Q3605.2852,1931.7969 3605.9336,1931.9609 Q3606.582,1932.125 3607.1289,1932.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.4551" x="3624.8633" y="1942.3379">AdClick</text><line style="stroke:#181818;stroke-width:0.5;" x1="3458.5" x2="3806.1816" y1="1952.6094" y2="1952.6094"></line><ellipse cx="3468.5" cy="1966.9141" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5791" x="3477.5" y="1971.1426">ad: Ad (FK)</text><ellipse cx="3468.5" cy="1984.5234" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="323.6816" x="3477.5" y="1988.752">impression: AdImpression (FK, nullable, UK with ad)</text><ellipse cx="3468.5" cy="2002.1328" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.1445" x="3477.5" y="2006.3613">timestamp: DateTime(6)</text><ellipse cx="3468.5" cy="2019.7422" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171.9785" x="3477.5" y="2023.9707">ip_address: string (nullable)</text><ellipse cx="3468.5" cy="2037.3516" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.5439" x="3477.5" y="2041.5801">user_agent: string (nullable)</text><ellipse cx="3468.5" cy="2054.9609" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309.627" x="3477.5" y="2059.1895">cost: Decimal (nullable) // Cost for this click (CPC)</text><ellipse cx="3468.5" cy="2072.5703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.0684" x="3477.5" y="2076.7988">referer_url: string (nullable)</text></g><!--class DailyStats--><g class="entity" data-entity="DailyStats" data-source-line="275" data-uid="ent0042" id="entity_DailyStats"><rect fill="#F1F1F1" height="255.3125" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="450.1152" x="2741.5" y="1587.6094"></rect><ellipse cx="2930.7974" cy="1603.6094" fill="#C2C2C2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"></ellipse><path d="M2933.563,1599.4844 Q2933.7192,1599.2656 2933.9067,1599.1563 Q2934.0942,1599.0469 2934.313,1599.0469 Q2934.688,1599.0469 2934.9224,1599.3047 Q2935.1567,1599.5625 2935.1567,1600.1719 L2935.1567,1601.625 Q2935.1567,1602.2344 2934.9224,1602.5 Q2934.688,1602.7656 2934.313,1602.7656 Q2933.9692,1602.7656 2933.7661,1602.5625 Q2933.563,1602.375 2933.4536,1601.8594 Q2933.4067,1601.5 2933.2192,1601.3125 Q2932.8911,1600.9375 2932.2817,1600.7188 Q2931.6724,1600.5 2931.0474,1600.5 Q2930.2817,1600.5 2929.6489,1600.8281 Q2929.0161,1601.1563 2928.5239,1601.9063 Q2928.0317,1602.6563 2928.0317,1603.6875 L2928.0317,1604.7813 Q2928.0317,1606.0156 2928.9224,1606.8359 Q2929.813,1607.6563 2931.4067,1607.6563 Q2932.3442,1607.6563 2933.0005,1607.4063 Q2933.3911,1607.25 2933.813,1606.8125 Q2934.0786,1606.5469 2934.2271,1606.4688 Q2934.3755,1606.3906 2934.5786,1606.3906 Q2934.9067,1606.3906 2935.1646,1606.6484 Q2935.4224,1606.9063 2935.4224,1607.25 Q2935.4224,1607.5938 2935.0786,1608 Q2934.5786,1608.5781 2933.7817,1608.9063 Q2932.7036,1609.3594 2931.4067,1609.3594 Q2929.8911,1609.3594 2928.688,1608.7344 Q2927.7036,1608.2344 2927.0161,1607.1641 Q2926.3286,1606.0938 2926.3286,1604.8125 L2926.3286,1603.6563 Q2926.3286,1602.3281 2926.9458,1601.1797 Q2927.563,1600.0313 2928.6567,1599.4141 Q2929.7505,1598.7969 2930.9849,1598.7969 Q2931.7192,1598.7969 2932.3677,1598.9609 Q2933.0161,1599.125 2933.563,1599.4844 Z " fill="#000000"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="2951.2974" y="1609.3379">DailyStats</text><line style="stroke:#181818;stroke-width:0.5;" x1="2742.5" x2="3190.6152" y1="1619.6094" y2="1619.6094"></line><ellipse cx="2752.5" cy="1633.9141" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5996" x="2761.5" y="1638.1426">date: Date</text><ellipse cx="2752.5" cy="1651.5234" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="368.1289" x="2761.5" y="1655.752">stat_level: string // "ad", "campaign", "advertiser", "platform"</text><ellipse cx="2752.5" cy="1669.1328" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="424.1152" x="2761.5" y="1673.3613">entity_id: int (FK to Ad/Campaign/User based on stat_level, nullable)</text><ellipse cx="2752.5" cy="1686.7422" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.2549" x="2761.5" y="1690.9707">impressions: int</text><ellipse cx="2752.5" cy="1704.3516" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.7861" x="2761.5" y="1708.5801">clicks: int</text><ellipse cx="2752.5" cy="1721.9609" fill="none" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0205" x="2761.5" y="1726.1895">cost: Decimal</text><ellipse cx="2752.5" cy="1739.5703" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.0479" x="2761.5" y="1743.7988">ctr: float (calculated)</text><ellipse cx="2752.5" cy="1757.1797" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156.3857" x="2761.5" y="1761.4082">cpc: Decimal (calculated)</text><ellipse cx="2752.5" cy="1774.7891" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.0479" x="2761.5" y="1779.0176">cpm: Decimal (calculated)</text><ellipse cx="2752.5" cy="1814.0078" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.7158" x="2761.5" y="1818.2363">aggregate_for_ad(ad: Ad, date: Date)</text><ellipse cx="2752.5" cy="1831.6172" fill="#A6A6A6" rx="3" ry="3" style="stroke:#545454;stroke-width:1;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="369.667" x="2761.5" y="1835.8457">aggregate_for_campaign(campaign: Campaign, date: Date)</text><line style="stroke:#181818;stroke-width:1;" x1="2742.5" x2="2920.2578" y1="1794.8984" y2="1794.8984"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.5996" x="2920.2578" y="1800.127">Static Methods</text><line style="stroke:#181818;stroke-width:1;" x1="3012.8574" x2="3190.6152" y1="1794.8984" y2="1794.8984"></line></g><!--reverse link BaseModel to User--><g class="link" data-entity-1="BaseModel" data-entity-2="User" data-source-line="12" data-uid="lnk4" id="link_BaseModel_User"><path d="M2187.0309,128.054 C2045.6409,141.504 1783.22,172.8894 1699.5,221.6094 C1684.51,230.3294 1670.23,240.8494 1656.82,252.4694" fill="none" id="BaseModel-backto-User" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.95,126.3494,2186.4627,122.0809,2187.5991,134.027,2204.95,126.3494" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to User--><g class="link" data-entity-1="BaseModel" data-entity-2="User" data-source-line="323" data-uid="lnk69" id="link_BaseModel_User"><path codeline="323" d="M2187.0963,130.4731 C2053.1063,145.1031 1814.03,175.3294 1734.5,221.6094 C1718.69,230.8094 1703.67,242.0094 1689.51,254.3894" fill="none" id="BaseModel-backto-User-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.99,128.5194,2186.4451,124.5086,2187.7476,136.4377,2204.99,128.5194" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to ValidationCode--><g class="link" data-entity-1="BaseModel" data-entity-2="ValidationCode" data-source-line="42" data-uid="lnk8" id="link_BaseModel_ValidationCode"><path d="M2186.65,118.9081 C1950.9,118.3681 1301.89,127.6894 1132.5,252.6094 C971.01,371.6994 910.44,616.3894 895.46,744.5994" fill="none" id="BaseModel-backto-ValidationCode" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.65,118.9494,2186.6638,112.9082,2186.6363,124.9081,2204.65,118.9494" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to ValidationCode--><g class="link" data-entity-1="BaseModel" data-entity-2="ValidationCode" data-source-line="324" data-uid="lnk70" id="link_BaseModel_ValidationCode"><path codeline="324" d="M2186.66,118.9263 C1956.21,118.8863 1333.09,130.4894 1167.5,252.6094 C1006.01,371.6994 945.44,616.3894 917.47,744.5994" fill="none" id="BaseModel-backto-ValidationCode-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.66,118.9294,2186.661,112.9263,2186.659,124.9263,2204.66,118.9294" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Notification--><g class="link" data-entity-1="BaseModel" data-entity-2="Notification" data-source-line="52" data-uid="lnk10" id="link_BaseModel_Notification"><path d="M2186.7622,122.6426 C1984.9622,130.0826 1493.53,157.7594 1358.5,252.6094 C1194.44,367.8494 1133.03,612.7694 1117.65,742.4594" fill="none" id="BaseModel-backto-Notification" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.75,121.9794,2186.5412,116.6466,2186.9833,128.6385,2204.75,121.9794" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Notification--><g class="link" data-entity-1="BaseModel" data-entity-2="Notification" data-source-line="325" data-uid="lnk71" id="link_BaseModel_Notification"><path codeline="325" d="M2187.0066,123.442 C1991.2566,131.852 1524.68,160.4594 1393.5,252.6094 C1229.44,367.8494 1168.03,612.7694 1139.78,742.4594" fill="none" id="BaseModel-backto-Notification-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.99,122.6694,2186.749,117.4475,2187.2641,129.4365,2204.99,122.6694" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Campaign--><g class="link" data-entity-1="BaseModel" data-entity-2="Campaign" data-source-line="75" data-uid="lnk14" id="link_BaseModel_Campaign"><path d="M2187.4898,142.2728 C2123.4598,161.0828 2055.19,191.6894 2004.5,252.6094 C1883.49,398.0394 1941.08,480.4594 1886.5,661.6094 C1883.59,671.2694 1880.55,681.2394 1877.5,691.2594" fill="none" id="BaseModel-backto-Campaign" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.76,137.1994,2185.7986,136.5161,2189.1809,148.0296,2204.76,137.1994" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Campaign--><g class="link" data-entity-1="BaseModel" data-entity-2="Campaign" data-source-line="326" data-uid="lnk72" id="link_BaseModel_Campaign"><path codeline="326" d="M2187.9318,153.3015 C2133.7818,173.7615 2082.51,200.9194 2039.5,252.6094 C1918.49,398.0394 1976.08,480.4594 1921.5,661.6094 C1918.59,671.2694 1915.55,681.2394 1912.42,691.2594" fill="none" id="BaseModel-backto-Campaign-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.77,146.9394,2185.8111,147.6888,2190.0526,158.9142,2204.77,146.9394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to AdPlacement--><g class="link" data-entity-1="BaseModel" data-entity-2="AdPlacement" data-source-line="99" data-uid="lnk17" id="link_BaseModel_AdPlacement"><path d="M2254.2502,185.7792 C2235.6202,231.1292 2218.56,282.7994 2201.48,338.4394" fill="none" id="BaseModel-backto-AdPlacement" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2261.09,169.1294,2248.7002,183.4993,2259.8001,188.0591,2261.09,169.1294" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to AdPlacement--><g class="link" data-entity-1="BaseModel" data-entity-2="AdPlacement" data-source-line="327" data-uid="lnk73" id="link_BaseModel_AdPlacement"><path codeline="327" d="M2276.297,186.5362 C2264.357,231.8862 2246.53,282.7994 2225.76,338.4394" fill="none" id="BaseModel-backto-AdPlacement-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2280.88,169.1294,2270.4948,185.0085,2282.0993,188.0638,2280.88,169.1294" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Ad--><g class="link" data-entity-1="BaseModel" data-entity-2="Ad" data-source-line="118" data-uid="lnk20" id="link_BaseModel_Ad"><path d="M2186.7833,126.3748 C2095.9733,136.1448 1971.2,163.6794 1891.5,252.6094 C1766.94,391.5794 1924.41,525.7194 1796.5,661.6094 C1764.4,695.7094 1729.49,659.3994 1695.5,691.6094 C1643.62,740.7794 1599.68,924.1694 1587.5,994.6094 C1564.77,1126.0694 1723.92,1203.4394 1848.33,1242.5494" fill="none" id="BaseModel-backto-Ad" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.68,124.4494,2186.1415,120.4093,2187.4251,132.3404,2204.68,124.4494" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Ad--><g class="link" data-entity-1="BaseModel" data-entity-2="Ad" data-source-line="328" data-uid="lnk74" id="link_BaseModel_Ad"><path codeline="328" d="M2186.9649,130.5075 C2104.5649,143.0475 1998.64,172.1194 1926.5,252.6094 C1801.94,391.5794 1959.41,525.7194 1831.5,661.6094 C1799.4,695.7094 1764.49,659.3994 1730.5,691.6094 C1678.62,740.7794 1634.68,924.1694 1622.5,994.6094 C1601.44,1116.4294 1736.55,1191.7894 1848.43,1233.3194" fill="none" id="BaseModel-backto-Ad-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.76,127.7994,2186.0622,124.5758,2187.8676,136.4392,2204.76,127.7994" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to AuditLog--><g class="link" data-entity-1="BaseModel" data-entity-2="AuditLog" data-source-line="160" data-uid="lnk24" id="link_BaseModel_AuditLog"><path d="M2186.7933,122.4945 C2083.7633,128.7745 1927.58,153.1794 1824.5,252.6094 C1701.21,371.5294 1785.71,471.8794 1689.5,613.6094 C1671.65,639.8994 1665.28,648.1194 1636.5,661.6094 C1550.33,701.9894 1493.71,626.2994 1424.5,691.6094 C1167.69,933.9194 1300.23,1416.8294 1380.14,1620.2894" fill="none" id="BaseModel-backto-AuditLog" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.76,121.3994,2186.4283,116.5056,2187.1584,128.4834,2204.76,121.3994" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to AuditLog--><g class="link" data-entity-1="BaseModel" data-entity-2="AuditLog" data-source-line="329" data-uid="lnk75" id="link_BaseModel_AuditLog"><path codeline="329" d="M2186.6487,124.991 C2091.2687,133.941 1954.3,161.1794 1859.5,252.6094 C1736.21,371.5294 1820.71,471.8794 1724.5,613.6094 C1706.65,639.8994 1700.28,648.1194 1671.5,661.6094 C1585.33,701.9894 1528.71,626.2994 1459.5,691.6094 C1202.69,933.9194 1335.23,1416.8294 1398.73,1620.2894" fill="none" id="BaseModel-backto-AuditLog-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2204.57,123.3094,2186.0882,119.0173,2187.2093,130.9648,2204.57,123.3094" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Transaction--><g class="link" data-entity-1="BaseModel" data-entity-2="Transaction" data-source-line="171" data-uid="lnk26" id="link_BaseModel_Transaction"><path d="M2384.8127,178.3422 C2404.2527,192.8022 2408.09,199.9794 2419.5,221.6094 C2510.71,394.5894 2426.16,466.1694 2419.5,661.6094 C2406.66,1038.4594 2335.71,1136.9994 2393.5,1509.6094 C2398.3,1540.5294 2406.94,1573.1794 2417,1603.0894" fill="none" id="BaseModel-backto-Transaction" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.37,167.5994,2381.2317,183.1565,2388.3936,173.528,2370.37,167.5994" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Transaction--><g class="link" data-entity-1="BaseModel" data-entity-2="Transaction" data-source-line="330" data-uid="lnk76" id="link_BaseModel_Transaction"><path codeline="330" d="M2386.3294,155.3393 C2419.1794,171.9693 2436.95,188.3294 2454.5,221.6094 C2545.71,394.5894 2461.16,466.1694 2454.5,661.6094 C2441.66,1038.4594 2370.71,1136.9994 2428.5,1509.6094 C2433.3,1540.5294 2441.94,1573.1794 2450.76,1603.0894" fill="none" id="BaseModel-backto-Transaction-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.27,147.2094,2383.6194,160.6924,2389.0394,149.9862,2370.27,147.2094" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to InvoiceInfo--><g class="link" data-entity-1="BaseModel" data-entity-2="InvoiceInfo" data-source-line="206" data-uid="lnk31" id="link_BaseModel_InvoiceInfo"><path d="M2387.9996,128.7291 C2521.6796,141.4091 2759.21,169.3594 2833.5,221.6094 C3012.89,347.7794 3113.37,597.3394 3162.97,733.3594" fill="none" id="BaseModel-backto-InvoiceInfo" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.08,127.0294,2387.433,134.7023,2388.5661,122.7559,2370.08,127.0294" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to InvoiceInfo--><g class="link" data-entity-1="BaseModel" data-entity-2="InvoiceInfo" data-source-line="331" data-uid="lnk77" id="link_BaseModel_InvoiceInfo"><path codeline="331" d="M2388.0908,126.6279 C2529.3008,138.1079 2790.3,166.6094 2868.5,221.6094 C3047.89,347.7794 3148.37,597.3394 3185.67,733.3594" fill="none" id="BaseModel-backto-InvoiceInfo-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.15,125.1694,2387.6046,132.6082,2388.577,120.6476,2370.15,125.1694" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Invoice--><g class="link" data-entity-1="BaseModel" data-entity-2="Invoice" data-source-line="217" data-uid="lnk33" id="link_BaseModel_Invoice"><path d="M2387.4046,146.3034 C2436.9146,161.6334 2480.98,181.5294 2524.5,221.6094 C2796.16,471.7794 2677.08,667.5594 2896.5,964.6094 C2900.04,969.3994 2974.01,1040.1394 3052.33,1112.8894" fill="none" id="BaseModel-backto-Invoice" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.21,140.9794,2385.6299,152.035,2389.1793,140.5719,2370.21,140.9794" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to Invoice--><g class="link" data-entity-1="BaseModel" data-entity-2="Invoice" data-source-line="332" data-uid="lnk78" id="link_BaseModel_Invoice"><path codeline="332" d="M2387.606,136.9931 C2446.926,150.8831 2507.24,173.4894 2559.5,221.6094 C2831.16,471.7794 2712.08,667.5594 2931.5,964.6094 C2935.04,969.3994 3009.01,1040.1394 3083.54,1112.8894" fill="none" id="BaseModel-backto-Invoice-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.08,132.8894,2386.238,142.8351,2388.9739,131.1512,2370.08,132.8894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to InvoiceItem--><g class="link" data-entity-1="BaseModel" data-entity-2="InvoiceItem" data-source-line="249" data-uid="lnk37" id="link_BaseModel_InvoiceItem"><path d="M2303.5885,186.2199 C2312.8885,210.6299 2318.02,224.0494 2323.5,252.6094 C2353.74,410.1794 2328.51,453.2394 2323.5,613.6094 C2316.94,823.6894 2377.38,1380.3094 2264.5,1557.6094 C2249.55,1581.0994 2223.71,1563.6694 2209.5,1587.6094 C2143,1699.6294 2196.22,1858.5494 2239.59,1943.0394" fill="none" id="BaseModel-backto-InvoiceItem" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2297.18,169.3994,2297.9816,188.3561,2309.1953,184.0838,2297.18,169.3994" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to InvoiceItem--><g class="link" data-entity-1="BaseModel" data-entity-2="InvoiceItem" data-source-line="333" data-uid="lnk79" id="link_BaseModel_InvoiceItem"><path codeline="333" d="M2337.1169,185.3835 C2349.7569,209.7935 2353.02,224.0494 2358.5,252.6094 C2388.74,410.1794 2363.51,453.2394 2358.5,613.6094 C2351.94,823.6894 2412.38,1380.3094 2299.5,1557.6094 C2284.55,1581.0994 2258.71,1563.6694 2244.5,1587.6094 C2178,1699.6294 2231.22,1858.5494 2262.42,1943.0394" fill="none" id="BaseModel-backto-InvoiceItem-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2328.84,169.3994,2331.7889,188.1425,2342.445,182.6245,2328.84,169.3994" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to AdImpression--><g class="link" data-entity-1="BaseModel" data-entity-2="AdImpression" data-source-line="256" data-uid="lnk39" id="link_BaseModel_AdImpression"><path d="M2388.0257,123.5157 C2623.2857,132.8857 3265.97,162.7194 3343.5,221.6094 C3810.81,576.5694 3868.01,1376.6794 3883.95,1633.2794" fill="none" id="BaseModel-backto-AdImpression" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.04,122.7994,2387.787,129.511,2388.2645,117.5205,2370.04,122.7994" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to AdImpression--><g class="link" data-entity-1="BaseModel" data-entity-2="AdImpression" data-source-line="334" data-uid="lnk80" id="link_BaseModel_AdImpression"><path codeline="334" d="M2388.3285,122.864 C2629.4485,131.504 3299.29,161.4394 3378.5,221.6094 C3845.81,576.5694 3903.01,1376.6794 3898.68,1633.2794" fill="none" id="BaseModel-backto-AdImpression-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.34,122.2194,2388.1136,128.8601,2388.5433,116.8678,2370.34,122.2194" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to AdClick--><g class="link" data-entity-1="BaseModel" data-entity-2="AdClick" data-source-line="266" data-uid="lnk41" id="link_BaseModel_AdClick"><path d="M2388.0078,127.6846 C2559.1978,141.9546 2926.89,179.0394 3035.5,252.6094 C3611.1,642.4994 3627.38,1630.9394 3629.59,1920.3394" fill="none" id="BaseModel-backto-AdClick" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.07,126.1894,2387.5094,133.6639,2388.5062,121.7054,2370.07,126.1894" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to AdClick--><g class="link" data-entity-1="BaseModel" data-entity-2="AdClick" data-source-line="335" data-uid="lnk81" id="link_BaseModel_AdClick"><path codeline="335" d="M2387.9723,126.0291 C2565.6123,138.9891 2957.91,176.3494 3070.5,252.6094 C3646.1,642.4994 3662.38,1630.9394 3643.16,1920.3394" fill="none" id="BaseModel-backto-AdClick-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.02,124.7194,2387.5357,132.0132,2388.4089,120.045,2370.02,124.7194" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to DailyStats--><g class="link" data-entity-1="BaseModel" data-entity-2="DailyStats" data-source-line="276" data-uid="lnk43" id="link_BaseModel_DailyStats"><path d="M2388.4237,122.1273 C2640.2937,128.8173 3364.87,153.2294 3448.5,221.6094 C3524.01,283.3394 3510.5,334.5794 3510.5,432.1094 C3510.5,432.1094 3510.5,432.1094 3510.5,1004.6094 C3510.5,1230.2394 3603.86,1337.0394 3458.5,1509.6094 C3426.68,1547.3794 3399.01,1526.1194 3351.5,1539.6094 C3277.35,1560.6594 3256.1,1558.4794 3184.92,1587.4394" fill="none" id="BaseModel-backto-DailyStats" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.43,121.6494,2388.2643,128.1252,2388.583,116.1294,2370.43,121.6494" style="stroke:#181818;stroke-width:1;"></polygon></g><!--reverse link BaseModel to DailyStats--><g class="link" data-entity-1="BaseModel" data-entity-2="DailyStats" data-source-line="336" data-uid="lnk82" id="link_BaseModel_DailyStats"><path codeline="336" d="M2388.125,121.6952 C2645.045,127.7752 3398.18,151.8494 3483.5,221.6094 C3559.01,283.3394 3545.5,334.5794 3545.5,432.1094 C3545.5,432.1094 3545.5,432.1094 3545.5,1004.6094 C3545.5,1230.2394 3638.86,1337.0394 3493.5,1509.6094 C3461.68,1547.3794 3434.01,1526.1194 3386.5,1539.6094 C3312.21,1560.6994 3291.02,1558.4694 3219.5,1587.6094 C3210.27,1591.3694 3200.94,1595.3894 3191.57,1599.5994" fill="none" id="BaseModel-backto-DailyStats-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="none" points="2370.13,121.2694,2387.983,127.6935,2388.2669,115.6969,2370.13,121.2694" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link User to ValidationCode--><g class="link" data-entity-1="User" data-entity-2="ValidationCode" data-source-line="290" data-uid="lnk44" id="link_User_ValidationCode"><path codeline="290" d="M1393.46,479.8194 C1275.52,521.4794 1110.93,591.7994 991.5,691.6094 C973.69,706.4894 957.59,725.4094 943.88,744.3594" fill="none" id="User-ValidationCode" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="1045.1907,655.3208,1054.4768,653.2667,1051.4959,648.2008,1045.1907,655.3208" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30.3481" x="1058.5" y="658.1045">owns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1378.1778" y="479.4419">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="928.377" y="733.6868">0..*</text></g><!--link User to Notification--><g class="link" data-entity-1="User" data-entity-2="Notification" data-source-line="291" data-uid="lnk45" id="link_User_Notification"><path codeline="291" d="M1393.48,556.2194 C1360.7,584.3494 1326.5,614.5494 1295.5,643.6094 C1262.15,674.8694 1226.82,710.6794 1196.5,742.3194" fill="none" id="User-Notification" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="1296.8655,656.2189,1305.4587,652.1435,1301.4221,647.8709,1296.8655,656.2189" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.4072" x="1309.5" y="658.1045">receives</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1378.1989" y="560.02">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="1183.5098" y="731.7581">0..*</text></g><!--link User to Campaign--><g class="link" data-entity-1="User" data-entity-2="Campaign" data-source-line="292" data-uid="lnk46" id="link_User_Campaign"><path codeline="292" d="M1508.75,613.6094 C1511.91,630.6694 1517.82,647.0194 1527.5,661.6094 C1546.43,690.1594 1567.59,676.8394 1598.5,691.6094 C1642.11,712.4494 1688.99,736.9494 1730.41,759.3394" fill="none" id="User-Campaign" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="1536.6779,655.5319,1530.7345,648.1072,1527.5055,653.0187,1536.6779,655.5319" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.3208" x="1541.5" y="658.1045">advertiser creates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1500.2247" y="635.0649">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="1703.0745" y="751.9302">0..*</text></g><!--link User to Ad--><g class="link" data-entity-1="User" data-entity-2="Ad" data-source-line="293" data-uid="lnk47" id="link_User_Ad"><path codeline="293" d="M1475.65,613.6194 C1441.6,741.0894 1424.88,907.5894 1521.5,1012.6094 C1611.56,1110.4994 1746.74,1181.0294 1848.35,1224.1694" fill="none" id="User-Ad" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="1491.1051,832.5529,1488.9009,823.3013,1483.8839,826.3638,1491.1051,832.5529" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.3208" x="1497.5" y="833.6045">advertiser creates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1465.7283" y="635.0753">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="1820.7682" y="1218.2202">0..*</text></g><!--link User to AuditLog--><g class="link" data-entity-1="User" data-entity-2="AuditLog" data-source-line="294" data-uid="lnk48" id="link_User_AuditLog"><path codeline="294" d="M1464.06,613.8494 C1455.23,639.5794 1447.32,666.0094 1441.5,691.6094 C1356.1,1067.2294 1380.07,1173.3094 1406.5,1557.6094 C1407.9,1577.9494 1410.09,1599.7094 1412.5,1620.3294" fill="none" id="User-AuditLog" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="1394.2442,1008.7786,1397.642,999.8957,1391.7719,999.595,1394.2442,1008.7786" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3081" x="1403.5" y="1009.1045">admin performs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1453.6494" y="635.315">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="1391.7122" y="1609.6532">0..*</text></g><!--link AuditLog to User--><g class="link" data-entity-1="AuditLog" data-entity-2="User" data-source-line="307" data-uid="lnk59" id="link_AuditLog_User"><path codeline="307" d="M1420.06,1620.5694 C1416.6,1462.0394 1435.77,1143.3694 1629.5,994.6094 C1716.03,928.1694 2044.75,1044.0694 2119.5,964.6094 C2202.63,876.2294 2202.23,780.3694 2119.5,691.6094 C2054.79,622.1894 1775.57,709.2594 1693.5,661.6094 C1672.14,649.2094 1653.18,632.4594 1636.54,613.6394" fill="none" id="AuditLog-User" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="1633.4491,1008.6735,1638.2235,1000.4482,1632.477,999.2127,1633.4491,1008.6735" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8862" x="1643.5" y="1009.1045">performed_by (admin)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1412.3415" y="1609.9123">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1633.4059" y="635.0962">1</text></g><!--link AuditLog to User--><g class="link" data-entity-1="AuditLog" data-entity-2="User" data-source-line="310" data-uid="lnk61" id="link_AuditLog_User"><path codeline="310" d="M1449.96,1620.5994 C1459.68,1593.0694 1472.66,1563.8594 1489.5,1539.6094 C1501.18,1522.7794 1511.58,1525.5094 1524.5,1509.6094 C1689.19,1306.9094 1588.27,1136.5594 1807.5,994.6094 C1876.74,949.7694 2121.58,1025.2494 2177.5,964.6094 C2259.76,875.4094 2245.31,792.2194 2177.5,691.6094 C2162.99,670.0794 1873.16,558.4094 1689.82,489.3794" fill="none" id="AuditLog-User-1" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297.2417" x="1808.5" y="1009.1045">audits_user (FK: entity_id where entity_type='User')</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1444.6894" y="1609.6251">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="1697.5284" y="489.2218">0..1</text></g><!--link User to Transaction--><g class="link" data-entity-1="User" data-entity-2="Transaction" data-source-line="295" data-uid="lnk49" id="link_User_Transaction"><path codeline="295" d="M1689.51,500.6894 C1782.88,539.8494 1907.05,586.7994 2021.5,613.6094 C2148.52,643.3694 2190.43,600.3394 2313.5,643.6094 C2584.59,738.9294 2678.35,769.1294 2856.5,994.6094 C2966.07,1133.2894 3034.98,1045.4794 2873.5,1509.6094 C2864.56,1535.3094 2858.22,1542.6394 2835.5,1557.6094 C2792.83,1585.7294 2772.2,1569.2694 2724.5,1587.6094 C2712.17,1592.3494 2699.64,1597.5194 2687.1,1602.9594" fill="none" id="User-Transaction" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="2878.8551,1007.4923,2874.9647,998.8139,2870.6066,1002.7581,2878.8551,1007.4923" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44.0781" x="2884.5" y="1009.1045">initiates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1697.3271" y="501.2665">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="2681.7035" y="1592.3906">0..*</text></g><!--link User to InvoiceInfo--><g class="link" data-entity-1="User" data-entity-2="InvoiceInfo" data-source-line="296" data-uid="lnk50" id="link_User_InvoiceInfo"><path codeline="296" d="M1689.75,503.5594 C1782.82,543.5894 1906.59,590.4594 2021.5,613.6094 C2247.39,659.1194 2849.09,589.1694 3055.5,691.6094 C3077.1,702.3294 3097.73,717.3194 3116.31,733.4394" fill="none" id="User-InvoiceInfo" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="2957.4363,653.5806,2948.974,649.2401,2948.0389,655.0431,2957.4363,653.5806" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30.3481" x="2961.5" y="658.1045">owns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1697.5795" y="521.1094">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="3089.8838" y="722.772">1..*</text></g><!--link User to Invoice--><g class="link" data-entity-1="User" data-entity-2="Invoice" data-source-line="297" data-uid="lnk51" id="link_User_Invoice"><path codeline="297" d="M1689.62,501.4394 C1782.91,540.8194 1906.95,587.7294 2021.5,613.6094 C2119.41,635.7294 2843.84,628.0194 2921.5,691.6094 C3019.33,771.7094 2944.41,851.7994 3001.5,964.6094 C3027.45,1015.8894 3062.2,1067.2494 3097.07,1113.0094" fill="none" id="User-Invoice" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="3011.0858,830.2778,3003.9613,823.9776,3001.6188,829.3685,3011.0858,830.2778" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.8608" x="3015.5" y="833.6045">requests</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1697.4677" y="520.7932">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="3070.7808" y="1102.2314">0..*</text></g><!--link Campaign to Ad--><g class="link" data-entity-1="Campaign" data-entity-2="Ad" data-source-line="299" data-uid="lnk52" id="link_Campaign_Ad"><path codeline="299" d="M1972.86,948.0894 C1981.56,954.1194 1990.47,959.6994 1999.5,964.6094 C2045.9,989.8494 2082.21,952.8094 2114.5,994.6094 C2137.95,1024.9594 2138.28,1060.3294 2126.6,1095.5294" fill="none" id="Campaign-Ad" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="2132.1087,1007.246,2127.6147,998.8642,2123.5463,1003.1064,2132.1087,1007.246" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.4199" x="2137.5" y="1009.1045">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1980.0977" y="952.0708">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="2134.738" y="1082.7314">1..*</text></g><!--link AdPlacement to Ad--><g class="link" data-entity-1="AdPlacement" data-entity-2="Ad" data-source-line="300" data-uid="lnk53" id="link_AdPlacement_Ad"><path codeline="300" d="M2203.12,527.6194 C2225.83,644.6294 2251.08,849.4794 2194.5,1012.6094 C2179.57,1055.6494 2154.33,1096.9794 2126.51,1133.5994" fill="none" id="AdPlacement-Ad" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="2233.8729,833.2457,2237.9231,824.6406,2232.0916,823.9034,2233.8729,833.2457" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.0718" x="2243.5" y="833.6045">hosts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="2197.532" y="548.9812">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="2134.643" y="1122.8833">0..*</text></g><!--link Ad to AuditLog--><g class="link" data-entity-1="Ad" data-entity-2="AuditLog" data-source-line="301" data-uid="lnk54" id="link_Ad_AuditLog"><path codeline="301" d="M1850.13,1509.8194 C1834.98,1527.1494 1818.74,1543.3894 1801.5,1557.6094 C1752.41,1598.1094 1691.37,1629.4694 1632.84,1653.1194" fill="none" id="Ad-AuditLog" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="1824.674,1546.0324,1815.5051,1548.5587,1818.7411,1553.4656,1824.674,1546.0324" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.228" x="1829.5" y="1554.1045">is_audited_by</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1838.9499" y="1530.501">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="1640.635" y="1648.1078">0..*</text></g><!--link AuditLog to Ad--><g class="link" data-entity-1="AuditLog" data-entity-2="Ad" data-source-line="309" data-uid="lnk60" id="link_AuditLog_Ad"><path codeline="309" d="M1455.04,1620.4794 C1469.2,1590.0794 1489.39,1559.1694 1517.5,1539.6094 C1601.76,1480.9794 1654.02,1554.1494 1746.5,1509.6094 C1783.03,1492.0094 1817.55,1466.7494 1848.44,1439.2894" fill="none" id="AuditLog-Ad" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.8662" x="1518.5" y="1554.1045">audits_ad (FK: entity_id where entity_type='Ad')</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1457.6667" y="1609.8152">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="1818.8106" y="1445.7768">0..1</text></g><!--link Ad to Transaction--><g class="link" data-entity-1="Ad" data-entity-2="Transaction" data-source-line="302" data-uid="lnk55" id="link_Ad_Transaction"><path codeline="302" d="M1987.15,1509.8594 C1993.54,1527.0194 2002.14,1543.2194 2013.5,1557.6094 C2021.74,1568.0494 2133.15,1605.9294 2244.48,1641.7994" fill="none" id="Ad-Transaction" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="2014.0507,1546.5039,2020.7586,1553.2459,2023.4404,1548.0155,2014.0507,1546.5039" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.7407" x="2027.5" y="1554.1045">relates_to_spend</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="1965.8366" y="1530.5422">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="2216.8496" y="1636.377">0..*</text></g><!--link Ad to AdImpression--><g class="link" data-entity-1="Ad" data-entity-2="AdImpression" data-source-line="303" data-uid="lnk56" id="link_Ad_AdImpression"><path codeline="303" d="M2126.83,1368.9194 C2211.78,1419.8994 2324.63,1479.0394 2433.5,1509.6094 C2529.35,1536.5294 2781.17,1532.8194 2880.5,1539.6094 C3187.19,1560.5694 3270.66,1519.7994 3570.5,1587.6094 C3618.7,1598.5094 3669.17,1615.5194 3715.44,1633.5794" fill="none" id="Ad-AdImpression" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="3408.432,1549.6068,3399.9929,1545.2214,3399.0269,1551.0194,3408.432,1549.6068" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.8208" x="3412.5" y="1554.1045">generates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="2134.6447" y="1387.9474">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="3679.3736" y="1622.8249">0..*</text></g><!--link Ad to AdClick--><g class="link" data-entity-1="Ad" data-entity-2="AdClick" data-source-line="304" data-uid="lnk57" id="link_Ad_AdClick"><path codeline="304" d="M1987.35,1509.9194 C1989.92,1526.1894 1993.25,1542.2294 1997.5,1557.6094 C2036.01,1696.9994 2039.6,1754.7994 2154.5,1842.6094 C2256.22,1920.3494 3088.3,1972.8094 3457.35,1992.4594" fill="none" id="Ad-AdClick" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="2164.2506,1716.8446,2156.5733,1711.2312,2154.7401,1716.8159,2164.2506,1716.8446" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.8208" x="2168.5" y="1720.6045">generates</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="1987.4514" y="1530.604">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="3430.0019" y="1989.1567">0..*</text></g><!--link Ad to DailyStats--><g class="link" data-entity-1="Ad" data-entity-2="DailyStats" data-source-line="305" data-uid="lnk58" id="link_Ad_DailyStats"><path codeline="305" d="M2126.75,1417.4294 C2188.51,1470.8494 2265.32,1526.3394 2345.5,1557.6094 C2502.93,1618.9994 2562.12,1540.8594 2724.5,1587.6094 C2730.08,1589.2194 2735.68,1590.9594 2741.29,1592.8194" fill="none" id="Ad-DailyStats" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="2345.692,1547.4129,2353.5832,1552.7214,2355.1963,1547.0692,2345.692,1547.4129" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.3799" x="2359.5" y="1554.1045">accumulates_for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="2134.4866" y="1421.8175">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="2713.8623" y="1585.6329">0..*</text></g><!--link DailyStats to Ad--><g class="link" data-entity-1="DailyStats" data-entity-2="Ad" data-source-line="319" data-uid="lnk66" id="link_DailyStats_Ad"><path codeline="319" d="M2741.28,1594.0194 C2735.66,1591.7894 2730.06,1589.6494 2724.5,1587.6094 C2667.19,1566.6294 2649.5,1573.2094 2590.5,1557.6094 C2519.96,1538.9594 2501.03,1537.2594 2433.5,1509.6094 C2327.64,1466.2694 2213.33,1406.3994 2126.95,1358.2694" fill="none" id="DailyStats-Ad" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.6362" x="2591.5" y="1554.1045">stats_for_ad (FK: entity_id where stat_level='ad')</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="2711.819" y="1603.451">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="2134.697" y="1359.6071">0..1</text></g><!--link AdImpression to AdClick--><g class="link" data-entity-1="AdImpression" data-entity-2="AdClick" data-source-line="313" data-uid="lnk62" id="link_AdImpression_AdClick"><path codeline="313" d="M3818.32,1796.6394 C3783.17,1835.3194 3741.14,1881.5694 3705.95,1920.2894" fill="none" id="AdImpression-AdClick" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="3747.1373,1885.4854,3755.3955,1880.7681,3751.0455,1876.815,3747.1373,1885.4854" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.1499" x="3759.5" y="1887.1045">leads_to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="3789.6535" y="1818.392">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="3705.2043" y="1909.7887">1</text></g><!--link InvoiceInfo to Invoice--><g class="link" data-entity-1="InvoiceInfo" data-entity-2="Invoice" data-source-line="315" data-uid="lnk63" id="link_InvoiceInfo_Invoice"><path codeline="315" d="M3208.49,922.8794 C3213.18,977.9394 3219.24,1049.0494 3224.68,1112.9394" fill="none" id="InvoiceInfo-Invoice" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="3220.9244,1008.7671,3223.085,999.5052,3217.2283,1000.0041,3220.9244,1008.7671" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.3462" x="3229.5" y="1009.1045">provides_details_for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="3201.8459" y="943.9392">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="3204.5719" y="1102.158">0..*</text></g><!--link Invoice to InvoiceItem--><g class="link" data-entity-1="Invoice" data-entity-2="InvoiceItem" data-source-line="316" data-uid="lnk64" id="link_Invoice_InvoiceItem"><path codeline="316" d="M3418.18,1439.1094 C3442.41,1469.9294 3463.65,1503.8294 3477.5,1539.6094 C3542.39,1707.2694 3367.92,1757.6094 3209.5,1842.6094 C3067.52,1918.7894 2594.45,1971.4994 2383.08,1991.8094" fill="none" id="Invoice-InvoiceItem" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="3491.0894,1717.6402,3500.4526,1715.9723,3497.684,1710.7874,3491.0894,1717.6402" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.4199" x="3504.5" y="1720.6045">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="3419.1768" y="1460.3666">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="2390.3563" y="1988.1294">1..*</text></g><!--link Transaction to InvoiceItem--><g class="link" data-entity-1="Transaction" data-entity-2="InvoiceItem" data-source-line="317" data-uid="lnk65" id="link_Transaction_InvoiceItem"><path codeline="317" d="M2399.16,1827.1094 C2371.97,1866.6594 2342.43,1909.6094 2319.51,1942.9394" fill="none" id="Transaction-InvoiceItem" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#000000" points="2374.3331,1877.6652,2366.7864,1883.453,2371.6296,1886.7835,2374.3331,1877.6652" style="stroke:#000000;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.3735" x="2380.5" y="1887.1045">is_itemized_in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7.23" x="2386.8112" y="1848.6757">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19.5127" x="2304.2895" y="1932.2429">0..*</text></g><!--link DailyStats to Campaign--><g class="link" data-entity-1="DailyStats" data-entity-2="Campaign" data-source-line="320" data-uid="lnk67" id="link_DailyStats_Campaign"><path codeline="320" d="M2921.01,1587.5694 C2909.19,1568.9094 2894.54,1551.8694 2876.5,1539.6094 C2764.93,1463.7994 2691.75,1576.2894 2574.5,1509.6094 C2327.23,1368.9994 2413.46,1176.1894 2194.5,994.6094 C2128.85,940.1694 2042.26,898.5694 1972.52,870.6894" fill="none" id="DailyStats-Campaign" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="364.4507" x="2575.5" y="1281.6045">stats_for_campaign (FK: entity_id where stat_level='campaign')</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="2896.6154" y="1576.8062">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="1980.1559" y="870.1961">0..1</text></g><!--link DailyStats to User--><g class="link" data-entity-1="DailyStats" data-entity-2="User" data-source-line="321" data-uid="lnk68" id="link_DailyStats_User"><path codeline="321" d="M2981.59,1587.3094 C2999.05,1414.3594 3016.93,1117.3894 2944.5,1042.6094 C2908.63,1005.5794 2527.04,1036.7794 2481.5,1012.6094 C2322.01,927.9694 2373.83,803.9794 2232.5,691.6094 C2192.65,659.9294 2176.27,661.1994 2128.5,643.6094 C2082.15,626.5394 2068.45,628.9394 2021.5,613.6094 C1909.01,576.8794 1783.85,529.8694 1689.54,493.1694" fill="none" id="DailyStats-User" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365.8726" x="2482.5" y="1009.1045">stats_for_advertiser (FK: entity_id where stat_level='advertiser')</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="2960.8718" y="1576.9547">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21.6836" x="1697.7313" y="510.1837">0..1</text></g><!--SRC=[pLdDajku4RxhAL2wMCwExVYIWyhhAfhYsB8bZLRIZBCd5aHY9CJy2mdEU3RPqzwsAfNAEJaaRv1KSeWhLTcdcKqU8zq0Vm2Gd1adbrn68D1eDBhx-z3022uYHfpmFTkJsqz_lVtjdt_yuzzlV_ZkNt_vn-tl_pagFl0aepcDIPmcQN3CqvWHaPTiTEGX8opEn0s9MRndUJ4QqNqXSXe84aIqACWhMh1b6hA8_6f4o1Syd1AU239PltkCtq7Eg62XJyMKpA2rup73_Z8Bk_tVZaPAwNd1Si8-2fQ4dHLA64jepAO4xE39WKpErL8ifZooUvzaeEywpKF_I8jZFOhYUnhH900rCnRmc4ROHykG2xyGL9J5b3ZujPKVNbB6zUA-kCbW6jguWrOzb1tJXEaB16cSqUH6x-A53vxZLo2tJzE8qQJgXIKlBpkTPSPoND4O00S9FqeFF34y-kG9MJ9nJC5XJvwWNC64Nsz-ajFhvaF5vSY23mFZndBWDX_CY2VuXnS5JnC_W6Z4D66cv04MfE4LomL7BsLvUiaZDW4Xf-bTgyvMFEQ9AGaTjT2t8mQ-DHmjKy2PNNYRtNphRUJ7ShwgHQs8IUcrjvhDLwzHTBtUd5ruCsXklBUUkuDcat8NDEAGah0zDyMa7qu-5NeoEQqo74QxkVWnupdhP7rMvbbQC2ibG6ceUx8JIf1H2iE9vlB6z5Kg-2KFfF53XkUGv1bdYR2iBq1Otz89ISeeelk8oM61p64cTIAabhQhXejkXeaQ1HXzN0TEpY991MNUeBUEPxzAtD7vQkCv44dvjqVQI9ZjrzkTj_HVUojluooWunnontVEP_ETpA2cELzTdCrTpz_kdDtv5Zfs6sUrTTpT_6pbdwzdpiw3JjTPhftvwvNlB20FCGvL85mAYEU7mI3ej2Nffi655PLz6G8y36eAWTnkV6k0J8neGIHouIEncca7jbYztOaoXFK6ZF1rqZ6WKL1YpFmYWroeZCBKrEoLy9PS1oWlSF2hakKtMoPUEE5B2GOAYJzvh5AWAEEgZSO6bHtGKyMsQvaERbz1MyOMetM1OLex46O4EyZ8tvcty7QgjN5ETos0d70TqO35i9c7XAv1ULRFgeu4JO-Uu24uF47Yr6EVvJnWoAmGcPkXW2gX88ll4mY61FfFd90LGSupeTjKKsXt3z83hvpLIXBkTZxpNZdOMf-jpzS84k_dEtynNxs3zWMCdld0ifk5ypLyhnmP3StL_pCuwkHeqxKPQW9Yn688LfQh5C8Y7lD14LdDO4ghUBlLfnvic7M0k59nRDF5q745DLMgavqrBi0_laMpbiXHnD4z8i04Y42TKpMSEw59qFyrSQY2AOTg8F_GRqc7FT0iaGeQ-JpE0FW83CaFK3QQuq74Wm_sK21oxBcCKcgBfuLDGaMvXsZwbsdkqmpAZ2iQAP9HNqXD4rc3g1Gx8UPEAcxw1Gl4lP8rJraf8NDxldHUUpKuAi30pvlTSj72pc8sHL6VoN1DMTEINOiy3DKYFGpX3tA9Yvigiwj8acVFoDW9noTaZBl6tnfpOsrELVGhr3O-Qc271DGIZTHP-HyLAlzY2mfcX2isrVMWgiJ7AWoqq9JODCYkU5eMJUdUAvMmQqj0SQ40u4FNs-tPwfIpADIceR5RaUQCq13S1zi0Jf38-oXQr-vocXHgbvzHED8uBHEDQc2fTLfmp1u26GiU1OUmPr2v7H7CK9cn0sr6eI24GqMYLBJBL-7J33AkAFH6dbQn1EIKhDMtmgVClFwoG5DdyWODaKjwwaQUNAKSBrTprUWHwJc3hENHbN3LYsH-jKUlfGUlMH6pxvAwgWfYFKwHiTbuxXjd8m4AfU0M0ITxJyzbu_ryzmR0-5v2hweadTdRy-rkwQrsjVAkAzMXkN1MhjIycA_bWVWULzlvwWCErNU-h35FvTdgRZmeH7tNsSnwh1wys00pkDvsgpxSi-MwhdDEdVb2DbmqOx7msftfr505QPvSff-HlyRT00D3hhau4fIiZg2FFjYwnuc3GW0hF0C6pyA86VTgQtnFam- -MPfrnsaGAA3rYa215B9BMaQYvsPLP-_3dL8bli_1brF3iRP4rpNz6AeWNQdIuMmHY7Ozy_l01Vp2dXwU0hlUVlhXzdVV__Y7tzn-_wT__-tJMCTwjOw9y-Rsw5kFB0PHdY8jHK3cUPhmW5JsDwV2dMN25rbuUKTHLFkYBKRkgJ8WhtmkM3pHoD4WiXDYkK-kWmRw-EAHfm6M9ib1F_KDaOPtpBf02s-zbnFIccseK4SVUrXbOIM0pC3LsMQfU6djkNFPWcFVtMtELdFNclZvxA5L4pf_R1NjMTm1lXw2ITzXyDWwk8pO31sH3pWsj8l6l2alXmnhZw-Aq686C8YpzXYP_4obN-RVJLJoNH0A_q6QmUAqxrQ1k75XJ9xfuiWBqbR5PEAkbzLPUTKoGQ_-0zmfebIzVTpZ5nVBwWUwf3LcQdhKECzFICthDFm_ygIyFw0JtQgGlsGvA1zWcSP3Cxm78bgA8IUrSAwPqu_O5OlC4bUMpVLb5TljZHQ_uAugmDIufv16xnAHWiUVrUNsCtdAxC6Ea83xspNjGwEzKpKrkRf7jP-w0sM7oAiB5PaqRplLCx7nij0PZ0S7WP3HXN0CMBnyEEHOnZ9rAKFgmypgKAGfrxm7TU_-vam8edJK-FaOJHZ_zEdJdupjjzqfIQ-JWhpi4pNUKgV0nG63Ydj0k7b_c98sjaJzosDW2c3hCuJhAnjEWHE2P2p7b1aGrnaKemrNYJxTpwMmNfhSvP2Qiz4Nlom1rIWtQdPkAfMxmng4SgbFVuJfySCnLUhWOt3Z-825Nr3Vxs_82oaBGdTiNBqd5xv8vVjaM4sobjUuR4g0RbXU-Qf7LZ5cLyosGsCEY5WGb76fJ45AUZ4QDTjgl3PMrUEqZgpQfQe77iEKHyH9Mcz81YkG6Q0aHXUURMGBTNILA-jKmk4OE58I-vGqR4EkZq29HBlwV_d82Hyz7b9M6LkfAwl2znw5E0bKmlPrfslEUwxx60hm46E7MQRdw51MuZi2XwB0h-xnqjSlwwa3IO_5Yf6eUWRrhbHDWMp4gf9_0u42F49CjPYR-L3x7gcwgDYktrijcN_vYABtxzAfSKwhET0UGk_MNqlUiqeLQDtsXh8Ui8TQ5iFUdfqlVWqBo5or-an-jaTrIhR7Qc_O_HhnT8SwFLMos_rQKjX3McOE30tDWEpfMjJYeZicWM5tjx7x3m00]--></g></svg></p><h2 id="6-状态图-state-diagram">6. 状态图 (State Diagram) </h2>
<p>状态图描述了对象在其生命周期内的各种状态以及状态之间的转换。</p>
<h3 id="61-用户审核状态-user-audit_status">6.1 用户审核状态 (User <code>audit_status</code>) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="STATE" height="485px" preserveAspectRatio="none" style="width:919px;height:485px;background:#FFFFFF;" version="1.1" viewBox="0 0 919 485" width="919px" zoomAndPan="magnify"><title>User Audit Status (User.audit_status)</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="248.1582" x="328.6059" y="24.5332">User Audit Status (User.audit_status)</text><g id="Pending"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="125.041" x="273.87" y="173.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="273.87" x2="398.911" y1="201.2188" y2="201.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.041" x="283.87" y="193.1426">待审核 (pending)</text></g><g id="Approved"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="133.5928" x="101.37" y="301.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="101.37" x2="234.9628" y1="329.2188" y2="329.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.5928" x="111.37" y="321.1426">已批准 (approved)</text></g><g id="Rejected"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="125.0205" x="429.87" y="429.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="429.87" x2="554.8905" y1="457.2188" y2="457.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0205" x="439.87" y="449.1426">已拒绝 (rejected)</text></g><g id="MoreInfo"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="224.6201" x="38.87" y="45.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="38.87" x2="263.4901" y1="73.2188" y2="73.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.6201" x="48.87" y="65.1426">需补充资料 (more_info_required)</text></g><ellipse cx="903.37" cy="70.6094" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><g class="entity" data-entity="GMN2" data-source-line="19" data-uid="ent0003" id="entity_GMN2"><path d="M299.37,49.1094 L299.37,91.8125 L565.599,91.8125 L565.599,59.1094 L555.599,49.1094 L299.37,49.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M555.599,49.1094 L555.599,59.1094 L565.599,59.1094 L555.599,49.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245.229" x="305.37" y="67.6045">触发: Admin sets audit_status = 'approved'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2236" x="305.37" y="83.9561">动作: 发送批准通知给用户</text></g><g class="entity" data-entity="GMN5" data-source-line="22" data-uid="ent0006" id="entity_GMN5"><path d="M600.37,49.1094 L600.37,91.8125 L858.639,91.8125 L858.639,59.1094 L848.639,49.1094 L600.37,49.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M848.639,49.1094 L848.639,59.1094 L858.639,59.1094 L848.639,49.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.269" x="606.37" y="67.6045">触发: Admin sets audit_status = 'rejected'</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.4937" x="606.37" y="83.9561">动作: 发送拒绝通知给用户 (附原因)</text></g><!--link *start* to Pending--><g class="link" data-entity-1="*start*" data-entity-2="Pending" data-source-line="8" data-uid="lnk3" id="link_*start*_Pending"><path d="M897.05,79.0794 C892.01,84.5294 884.48,91.6294 876.37,95.6094 C716.89,173.9694 509.6352,192.0598 405.2652,196.2298" fill="none" id="*start*-to-Pending" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="399.27,196.4694,408.4225,200.1069,404.266,196.2698,408.1031,192.1133,399.27,196.4694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="794.37" y="140.1045">用户注册提交</text></g><!--link Pending to Approved--><g class="link" data-entity-1="Pending" data-entity-2="Approved" data-source-line="9" data-uid="lnk4" id="link_Pending_Approved"><path d="M273.86,201.5394 C193.78,205.4894 61.69,217.4494 31.37,253.6094 C6,283.8794 49.1001,301.7424 95.3701,312.6524" fill="none" id="Pending-to-Approved" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="101.21,314.0294,93.3682,308.0707,96.3435,312.8819,91.5322,315.8571,101.21,314.0294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="32.37" y="268.1045">管理员批准</text></g><!--link Approved to Pending--><g class="link" data-entity-1="Approved" data-entity-2="Pending" data-source-line="15" data-uid="lnk10" id="link_Approved_Pending"><path d="M191.47,301.4994 C206.18,286.7994 226.05,268.1094 245.37,253.6094 C259.63,242.9194 270.9511,235.5819 285.9711,226.8619" fill="none" id="Approved-to-Pending" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="291.16,223.8494,281.3683,224.9088,286.8359,226.3598,285.3849,231.8274,291.16,223.8494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.6582" x="246.37" y="268.1045">(罕见)因违规等被冻结重审</text></g><!--link Pending to Approved--><g class="link" data-entity-1="Pending" data-entity-2="Approved" data-source-line="18" data-uid="lnk11" id="link_Pending_Approved"><path d="M273.46,209.6194 C225.55,218.6694 165.37,233.6494 150.37,253.6094 C140.01,267.4194 142.7381,281.1321 150.2581,296.1821" fill="none" id="Pending-to-Approved-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="152.94,301.5494,152.4954,291.7106,150.7051,297.0766,145.339,295.2864,152.94,301.5494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="151.37" y="268.1045">管理员批准</text></g><!--link Pending to Rejected--><g class="link" data-entity-1="Pending" data-entity-2="Rejected" data-source-line="10" data-uid="lnk5" id="link_Pending_Rejected"><path d="M372.04,223.8494 C382.76,232.3494 393.91,242.5594 402.37,253.6094 C413.81,268.5294 458.8397,373.9404 479.8797,423.8604" fill="none" id="Pending-to-Rejected" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="482.21,429.3894,482.4005,419.5424,480.2681,424.7819,475.0285,422.6495,482.21,429.3894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="450.37" y="332.1045">管理员拒绝</text></g><!--link Rejected to Pending--><g class="link" data-entity-1="Rejected" data-entity-2="Pending" data-source-line="13" data-uid="lnk8" id="link_Rejected_Pending"><path d="M553.36,429.5294 C585.46,413.0594 621.24,387.6194 636.37,351.6094 C644.98,331.1194 644.98,322.0994 636.37,301.6094 C624.56,273.5094 614.22,268.0494 587.37,253.6094 C528.29,221.8294 457.8992,209.3563 404.9892,203.9763" fill="none" id="Rejected-to-Pending" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="399.02,203.3694,407.5692,208.2593,403.9944,203.8752,408.3785,200.3003,399.02,203.3694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.6582" x="643.37" y="332.1045">(允许)用户修改信息后重新申请</text></g><!--link Pending to Rejected--><g class="link" data-entity-1="Pending" data-entity-2="Rejected" data-source-line="21" data-uid="lnk12" id="link_Pending_Rejected"><path d="M399.24,215.8194 C442.18,230.5194 495.92,256.9294 522.37,301.6094 C546.29,341.9994 526.4854,392.6562 509.6554,424.1862" fill="none" id="Pending-to-Rejected-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="506.83,429.4794,514.5968,423.4232,509.1845,425.0684,507.5393,419.6561,506.83,429.4794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="534.37" y="332.1045">管理员拒绝</text></g><!--link Pending to MoreInfo--><g class="link" data-entity-1="Pending" data-entity-2="MoreInfo" data-source-line="11" data-uid="lnk6" id="link_Pending_MoreInfo"><path d="M328.33,173.3294 C322.08,157.7994 311.98,138.2794 297.37,125.6094 C282.88,113.0394 270.7247,105.606 252.7347,98.076" fill="none" id="Pending-to-MoreInfo" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="247.2,95.7594,253.9577,102.9242,251.8123,97.6899,257.0465,95.5445,247.2,95.7594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="313.37" y="140.1045">管理员要求补充资料</text></g><!--link MoreInfo to Pending--><g class="link" data-entity-1="MoreInfo" data-entity-2="Pending" data-source-line="12" data-uid="lnk7" id="link_MoreInfo_Pending"><path d="M141.2,95.9394 C136.61,111.0994 134.21,130.1994 144.37,143.6094 C160.11,164.3794 217.7928,178.3383 267.5328,187.1883" fill="none" id="MoreInfo-to-Pending" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="273.44,188.2394,265.2799,182.7247,268.5173,187.3635,263.8785,190.601,273.44,188.2394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="145.37" y="140.1045">用户补充资料后重新提交</text></g><!--link Approved to Rejected--><g class="link" data-entity-1="Approved" data-entity-2="Rejected" data-source-line="14" data-uid="lnk9" id="link_Approved_Rejected"><path d="M188.12,351.9194 C202.38,367.8594 223.01,387.8694 245.37,399.6094 C303.47,430.1194 371.9869,442.7454 423.8969,448.5254" fill="none" id="Approved-to-Rejected" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="429.86,449.1894,421.3579,444.218,424.8907,448.6361,420.4726,452.1688,429.86,449.1894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.6582" x="246.37" y="396.1045">(罕见)因违规等被撤销批准</text></g><!--link MoreInfo to GMN2--><g class="link" data-entity-1="MoreInfo" data-entity-2="GMN2" data-source-line="19" data-uid="lnk4" id="link_MoreInfo_GMN2"><path d="M263.88,70.6094 C275.62,70.6094 287.36,70.6094 299.1,70.6094" fill="none" id="MoreInfo-GMN2" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--link GMN2 to GMN5--><g class="link" data-entity-1="GMN2" data-entity-2="GMN5" data-source-line="22" data-uid="lnk7" id="link_GMN2_GMN5"><path d="M565.5,70.6094 C577.02,70.6094 588.55,70.6094 600.07,70.6094" fill="none" id="GMN2-GMN5" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--SRC=[bPFBRjDG48RtVefHDx6HoWD40YbB5aXL4Ij0KKHCCQ9Ei1tMCOfpAJHDIrf8aofDrTIHQ1qWe5oSu9VnkNZLLy2EOyikNPITPyutS_v_pbWHbBSyF9Lv2LA5hA304oMZ56HWlTJzZ9TAoyiKnp3U1mzhw8-6Z1u-dG2RvyMi86vnQv2HOSCFGcpy4zUcg586DfFFIxdtVDRdKgie2duy8EO9i1B_Xd-f1E3cAWf0frEalJxIDFgxX8zQm6xd93ujYAzoQOb_Ln2aeF2nct_afXdcsRqNiBx-CD06II3D0QwEyMY0of_mNiEUdJF1eGS6uZpIw9566Ur_zMt4i41Q35kQY661a2X6BrJyuqFK21DYjqcDagXHTogx-EZxIdae8rx88asbneJp6zYMWPjJs-fXTHWs8CqH7OwPqEuDKonP759TvL3xb5edL2-Hgnez-uOFpfrcSJMFM6tayjjBKTaavcVtSdTt62O1k6tXtJDxCiDVT5AhuiubqkR8c9BZaliuJcM73g_mwF1wNXLpxkEJzYzSxzDn5tK6T759T9FCBDVDzRnsr_TRzf64hTTA4gX-WVRsav3ARWiYoBmYGtJPuG4aWgLDF1VHpi1UT9BWbZX5rM_d58z9jq_CbZzavgxhyPygWZ_YNnNBTZTK0EkqIgZUTMVF_GK0]--></g></svg></p><h3 id="62-发票申请状态-invoice-status">6.2 发票申请状态 (Invoice <code>status</code>) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="STATE" height="582px" preserveAspectRatio="none" style="width:1103px;height:582px;background:#FFFFFF;" version="1.1" viewBox="0 0 1103 582" width="1103px" zoomAndPan="magnify"><title>Invoice Application Status (Invoice.status)</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="281.6064" x="403.7527" y="24.5332">Invoice Application Status (Invoice.status)</text><g id="Pending"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:0.5;" width="125.041" x="278" y="142.6094"></rect><line style="stroke:#FFFFFF;stroke-width:0.5;" x1="278" x2="403.041" y1="170.2188" y2="170.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.041" x="288" y="162.1426">待处理 (pending)</text></g><g id="Processing"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:0.5;" width="142.917" x="269" y="270.6094"></rect><line style="stroke:#FFFFFF;stroke-width:0.5;" x1="269" x2="411.917" y1="298.2188" y2="298.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.917" x="279" y="290.1426">处理中 (processing)</text></g><g id="Completed"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:0.5;" width="171.6963" x="181.5" y="398.6094"></rect><line style="stroke:#FFFFFF;stroke-width:0.5;" x1="181.5" x2="353.1963" y1="426.2188" y2="426.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6963" x="191.5" y="418.1426">已开具/完成 (completed)</text></g><g id="Rejected"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:0.5;" width="125.0205" x="19" y="398.6094"></rect><line style="stroke:#FFFFFF;stroke-width:0.5;" x1="19" x2="144.0205" y1="426.2188" y2="426.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0205" x="29" y="418.1426">已拒绝 (rejected)</text></g><g id="Cancelled"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:0.5;" width="134.3652" x="945.5" y="398.6094"></rect><line style="stroke:#FFFFFF;stroke-width:0.5;" x1="945.5" x2="1079.8652" y1="426.2188" y2="426.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3652" x="955.5" y="418.1426">已取消 (cancelled)</text></g><g id="Sent"><rect fill="#ADD8E6" height="50" rx="12.5" ry="12.5" style="stroke:#FFFFFF;stroke-width:0.5;" width="101.6758" x="372.5" y="526.6094"></rect><line style="stroke:#FFFFFF;stroke-width:0.5;" x1="372.5" x2="474.1758" y1="554.2188" y2="554.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.6758" x="382.5" y="546.1426">已发送 (sent)</text></g><ellipse cx="340.5" cy="54.6094" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><g class="entity" data-entity="GMN2" data-source-line="30" data-uid="ent0003" id="entity_GMN2"><path d="M130.5,146.1094 L130.5,188.8125 A0,0 0 0 0 130.5,188.8125 L242.5,188.8125 A0,0 0 0 0 242.5,188.8125 L242.5,171.6094 L277.88,167.6094 L242.5,163.6094 L242.5,156.1094 L232.5,146.1094 L130.5,146.1094 A0,0 0 0 0 130.5,146.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M232.5,146.1094 L232.5,156.1094 L242.5,156.1094 L232.5,146.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="136.5" y="164.6045">初始状态</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="136.5" y="180.9561">所有申请的起点</text></g><g class="entity" data-entity="GMN5" data-source-line="31" data-uid="ent0006" id="entity_GMN5"><path d="M659.5,274.1094 L659.5,316.8125 L797.5,316.8125 L797.5,284.1094 L787.5,274.1094 L659.5,274.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M787.5,274.1094 L787.5,284.1094 L797.5,284.1094 L787.5,274.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="665.5" y="292.6045">中间处理状态</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="665.5" y="308.9561">包含审核和开票操作</text></g><g class="entity" data-entity="GMN8" data-source-line="32" data-uid="ent0009" id="entity_GMN8"><path d="M388.5,402.1094 L388.5,419.6094 L353.58,423.6094 L388.5,427.6094 L388.5,444.8125 A0,0 0 0 0 388.5,444.8125 L500.5,444.8125 A0,0 0 0 0 500.5,444.8125 L500.5,412.1094 L490.5,402.1094 L388.5,402.1094 A0,0 0 0 0 388.5,402.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M490.5,402.1094 L490.5,412.1094 L500.5,412.1094 L490.5,402.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="394.5" y="420.6045">完成状态</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="394.5" y="436.9561">后续可发送发票</text></g><g class="entity" data-entity="GMN11" data-source-line="34" data-uid="ent0012" id="entity_GMN11"><path d="M6,530.1094 L6,572.8125 A0,0 0 0 0 6,572.8125 L157,572.8125 A0,0 0 0 0 157,572.8125 L157,540.1094 L147,530.1094 L85.5,530.1094 L81.5,448.8994 L77.5,530.1094 L6,530.1094 A0,0 0 0 0 6,530.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M147,530.1094 L147,540.1094 L157,540.1094 L147,530.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="12" y="548.6045">终止状态</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="12" y="564.9561">申请被拒绝（附原因）</text></g><g class="entity" data-entity="GMN14" data-source-line="35" data-uid="ent0015" id="entity_GMN14"><path d="M928.5,530.1094 L928.5,572.8125 A0,0 0 0 0 928.5,572.8125 L1096.1118,572.8125 A0,0 0 0 0 1096.1118,572.8125 L1096.1118,540.1094 L1086.1118,530.1094 L1016.5,530.1094 L1012.5,448.8994 L1008.5,530.1094 L928.5,530.1094 A0,0 0 0 0 928.5,530.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M1086.1118,530.1094 L1086.1118,540.1094 L1096.1118,540.1094 L1086.1118,530.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="934.5" y="548.6045">终止状态</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.6118" x="934.5" y="564.9561">申请被取消（主动/被动）</text></g><g class="entity" data-entity="GMN17" data-source-line="36" data-uid="ent0018" id="entity_GMN17"><path d="M742.5,402.1094 L742.5,444.8125 A0,0 0 0 0 742.5,444.8125 L756.85,444.8125 L474.72,534.5894 L764.85,444.8125 L910.1118,444.8125 A0,0 0 0 0 910.1118,444.8125 L910.1118,412.1094 L900.1118,402.1094 L742.5,402.1094 A0,0 0 0 0 742.5,402.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M900.1118,402.1094 L900.1118,412.1094 L910.1118,412.1094 L900.1118,402.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="748.5" y="420.6045">最终状态</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.6118" x="748.5" y="436.9561">发票已投递（电子/纸质）</text></g><g class="entity" data-entity="GMN20" data-source-line="40" data-uid="ent0021" id="entity_GMN20"><path d="M447,274.1094 L447,291.6094 L412.1,295.6094 L447,299.6094 L447,316.8125 A0,0 0 0 0 447,316.8125 L624.0508,316.8125 A0,0 0 0 0 624.0508,316.8125 L624.0508,284.1094 L614.0508,274.1094 L447,274.1094 A0,0 0 0 0 447,274.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M614.0508,274.1094 L614.0508,284.1094 L624.0508,284.1094 L614.0508,274.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.0508" x="453" y="292.6045">触发: Admin设置completed</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.2236" x="453" y="308.9561">动作: 通知用户</text></g><g class="entity" data-entity="GMN23" data-source-line="43" data-uid="ent0024" id="entity_GMN23"><path d="M536,402.1094 L536,444.8125 L707.2236,444.8125 L707.2236,412.1094 L697.2236,402.1094 L536,402.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M697.2236,402.1094 L697.2236,412.1094 L707.2236,412.1094 L697.2236,402.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.2236" x="542" y="420.6045">触发: 系统发送或标记邮寄</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.2236" x="542" y="436.9561">动作: 更新投递信息</text></g><!--link *start* to Pending--><g class="link" data-entity-1="*start*" data-entity-2="Pending" data-source-line="16" data-uid="lnk3" id="link_*start*_Pending"><path d="M340.5,64.6894 C340.5,81.4694 340.5,111.8294 340.5,136.2594" fill="none" id="*start*-to-Pending" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="340.5,142.2594,344.5,133.2594,340.5,137.2594,336.5,133.2594,340.5,142.2594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="341.5" y="109.1045">用户提交发票申请</text></g><!--link Pending to Processing--><g class="link" data-entity-1="Pending" data-entity-2="Processing" data-source-line="18" data-uid="lnk4" id="link_Pending_Processing"><path d="M340.5,192.8994 C340.5,215.2194 340.5,242.0994 340.5,264.3894" fill="none" id="Pending-to-Processing" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="340.5,270.3894,344.5,261.3894,340.5,265.3894,336.5,261.3894,340.5,270.3894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="341.5" y="237.1045">管理员审核通过</text></g><!--link Pending to Rejected--><g class="link" data-entity-1="Pending" data-entity-2="Rejected" data-source-line="19" data-uid="lnk5" id="link_Pending_Rejected"><path d="M277.92,192.5394 C239.66,209.6694 191.84,235.8394 158.5,270.6094 C122.47,308.1894 101.4726,360.2457 90.6926,392.6757" fill="none" id="Pending-to-Rejected" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="88.8,398.3694,95.4347,391.0906,90.3772,393.6246,87.8432,388.5671,88.8,398.3694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="159.5" y="301.1045">管理员审核拒绝</text></g><!--link Pending to Cancelled--><g class="link" data-entity-1="Pending" data-entity-2="Cancelled" data-source-line="20" data-uid="lnk6" id="link_Pending_Cancelled"><path d="M403.26,173.1994 C496.9,181.9794 677.01,206.3694 815.5,270.6094 C885.65,303.1494 949.7171,360.3076 984.4971,394.2676" fill="none" id="Pending-to-Cancelled" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="988.79,398.4594,985.1451,389.3098,985.2125,394.9663,979.5561,395.0337,988.79,398.4594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="896.5" y="301.1045">用户处理前取消</text></g><!--link Processing to Completed--><g class="link" data-entity-1="Processing" data-entity-2="Completed" data-source-line="22" data-uid="lnk7" id="link_Processing_Completed"><path d="M293.37,320.8494 C282.6,328.7894 272.55,338.6994 266.5,350.6094 C259.08,365.2094 258.63,377.7858 260.82,392.3858" fill="none" id="Processing-to-Completed" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="261.71,398.3194,264.3307,388.8256,260.9683,393.3747,256.4192,390.0123,261.71,398.3194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="267.5" y="365.1045">管理员完成开票</text></g><!--link Processing to Completed--><g class="link" data-entity-1="Processing" data-entity-2="Completed" data-source-line="39" data-uid="lnk12" id="link_Processing_Completed"><path d="M357.8,320.7294 C365.95,335.2694 372.18,353.7694 363.5,368.6094 C356.26,380.9894 350.1189,387.587 337.8489,395.197" fill="none" id="Processing-to-Completed-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="332.75,398.3594,342.5067,397.015,336.9991,395.724,338.2901,390.2165,332.75,398.3594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="369.5" y="365.1045">管理员完成开票操作</text></g><!--link Processing to Rejected--><g class="link" data-entity-1="Processing" data-entity-2="Rejected" data-source-line="23" data-uid="lnk8" id="link_Processing_Rejected"><path d="M268.74,310.3394 C234.51,318.7894 193.86,331.7194 160.5,350.6094 C138.38,363.1394 121.4355,378.5227 106.6255,394.1627" fill="none" id="Processing-to-Rejected" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="102.5,398.5194,111.5926,394.7347,105.9379,394.8888,105.7837,389.2341,102.5,398.5194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="161.5" y="365.1045">处理中发现问题</text></g><!--link Processing to Cancelled--><g class="link" data-entity-1="Processing" data-entity-2="Cancelled" data-source-line="24" data-uid="lnk9" id="link_Processing_Cancelled"><path d="M412.23,316.6694 C418.05,318.0794 423.86,319.4094 429.5,320.6094 C649.08,367.2294 709.28,350.3494 928.5,398.6094 C933.98,399.8194 933.8152,399.7 939.4752,401.14" fill="none" id="Processing-to-Cancelled" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="945.29,402.6194,937.5541,396.5238,940.4444,401.3866,935.5816,404.2768,945.29,402.6194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="756.5" y="365.1045">特殊情况取消</text></g><!--link Completed to Sent--><g class="link" data-entity-1="Completed" data-entity-2="Sent" data-source-line="26" data-uid="lnk10" id="link_Completed_Sent"><path d="M353.74,446.6594 C402.34,459.4994 454.04,474.0394 457.5,478.6094 C468.5,493.1694 462.8541,507.163 451.1741,521.853" fill="none" id="Completed-to-Sent" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="447.44,526.5494,456.1721,521.9942,450.5518,522.6357,449.9102,517.0153,447.44,526.5494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="463.5" y="493.1045">系统发送发票</text></g><!--link Sent to Completed--><g class="link" data-entity-1="Sent" data-entity-2="Completed" data-source-line="27" data-uid="lnk11" id="link_Sent_Completed"><path d="M385.15,526.5694 C371.64,517.6294 356.57,507.0994 343.5,496.6094 C324.93,481.7094 309.7114,467.4433 295.1314,452.9233" fill="none" id="Sent-to-Completed" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="290.88,448.6894,294.4345,457.8745,294.4228,452.2176,300.0797,452.2059,290.88,448.6894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="344.5" y="493.1045">视为同一状态阶段</text></g><!--link Completed to Sent--><g class="link" data-entity-1="Completed" data-entity-2="Sent" data-source-line="42" data-uid="lnk13" id="link_Completed_Sent"><path d="M229.19,448.8594 C212,462.7894 198.07,480.6294 210.5,496.6094 C230.18,521.8994 309.8131,536.4527 366.3231,544.0227" fill="none" id="Completed-to-Sent-1" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="372.27,544.8194,363.8808,539.6598,367.3143,544.1555,362.8186,547.589,372.27,544.8194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="211.5" y="493.1045">系统发送电子发票</text></g><!--link Processing to GMN5--><g class="link" data-entity-1="Processing" data-entity-2="GMN5" data-source-line="31" data-uid="lnk7" id="link_Processing_GMN5"><path d="M371.94,270.4694 C392.1,255.9994 419.56,239.2194 447,231.6094 C522.8,210.5894 548.28,210.2694 624,231.6094 C653.28,239.8594 682.46,258.8694 702.51,274.0294" fill="none" id="Processing-GMN5" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--link Completed to GMN23--><g class="link" data-entity-1="Completed" data-entity-2="GMN23" data-source-line="43" data-uid="lnk25" id="link_Completed_GMN23"><path d="M303.31,398.5894 C326.33,384.0694 357.54,367.1994 388,359.6094 C436.73,347.4694 452.27,347.4694 501,359.6094 C533.87,367.7994 567.62,386.8094 591,401.9894" fill="none" id="Completed-GMN23" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--SRC=[bLJFRzD86BtdhnZ1WO1WUqEG0n9mGjh3YXvX3oQP5Y-f7Jakg-MKb2IrqxHDGxSf9LMRg6ooQkjqwOyaJTByBoj_C_Qf_m8pdjfnoY8jziLZl_U-xtjlnhgi9p5wfhnLvJX6ZrEff1oNT5bLqBGkwVDf5BtwzbFQMz-EfD_8IahIf3d4t-1f_GyceAdpIW8dD1pN9MMMlK2t4DGAJhD2T_w6OOCMpqWcI-g54FsL57ypwn6VgabLGpTd7l8RUTSjvBmlaOzjn_nolU8JLKjWxOfptxjyZYZZNFHO9RTHcoHBcgR-_XfB2PIMts7quEu35BeOsJg4lHFOQyBHQYJYYu6rPVVCou41HW7-MI0h5J2gbuCjCBQXkIGm_nOgi9UZvOBTFMJFf9QXVKDykXoO4QzhT0CkyWA5eYci96HbzlOD9ANHBs8Hm7mb1jFKE4wdnyXW7O0xNs2GWNnd2gmICSee6bVdKaciuuIWFFMN8GPPgj3-Defg-3UMbuzyVhKAIwzka3E3QKfA72UJWQQ_d82kkPaiYgQneWlKD7j2Dt-MPr_hJvBpUEoeCpoWpJvpr1viGcd3wRJX8kTcHv1Vji_tODNadhsuyokwT- -HRmwA8RhU8aQ7h9Ozq1hztABhnqwx4udu60yVMCGfLfrP2MkRODN9RjVDR3cZnGcuF_ItO67I13YOE-X6P0Ncid2AjJ8kxp5yzoVrUL8iDZR2TKAeds0Vy65NZjogvJOsloaGRidi4Qj8tkUXSEhtCsw0exr86F2uJ_ix8Z7XPCJxShrZfydAdqEvP7Sp8ZftyunOfpnASjno5uj1YFPmcGwjoq797ewODNJfWEulmNPLnEfcBLAgyrWLbUsN99xHaJhZPyj63PsbbmenCwHcYd3fLiuvxT25dc1gV3TvrC26668MkTKJOPUl0QKybFT5ab0f2RF9XsLxMBkc50pCsl222IJAAxJFp6zF62NOhrHTL-SutG-CkTeto673PulsdSQ-s4VCAFTZ3bPsuDDkuCDO9OZnkp8YKEvtjm_5rXH_LMm5KhgQuZeynXWA_t_O75xZ_DWN_tGp5IP1rq_Xi3n5pxlEYIV1yeJy0AmUgJQfQP3Q0VVTEwRqV2IY_k6j_PzkXtDpcd-ntcBeSM9ELXphWcsWuEV5sYws63s6sA6bEv_5SViV-rdCTXNMTvFsIuUPnDWWkukETUGkMD3EZJiWdqx8nf5mpnxLIRRz5G00]--></g></svg></p><h3 id="63-广告活动状态-campaign-status">6.3 广告活动状态 (Campaign <code>status</code>) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="STATE" height="638px" preserveAspectRatio="none" style="width:1237px;height:638px;background:#FFFFFF;" version="1.1" viewBox="0 0 1237 638" width="1237px" zoomAndPan="magnify"><title>Campaign Status (Campaign.status)</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="240.3652" x="491.5674" y="24.5332">Campaign Status (Campaign.status)</text><g id="Draft"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="89.2275" x="920" y="173.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="920" x2="1009.2275" y1="201.2188" y2="201.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2275" x="930" y="193.1426">草稿 (draft)</text></g><g id="PendingApproval"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="186.5303" x="644" y="45.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="644" x2="830.5303" y1="73.2188" y2="73.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.5303" x="654" y="65.1426">待审核 (pending_approval)</text></g><g id="Active"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="111.7861" x="201.5" y="173.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="201.5" x2="313.2861" y1="201.2188" y2="201.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.7861" x="211.5" y="193.1426">进行中 (active)</text></g><g id="Paused"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="121.1445" x="7" y="301.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="128.1445" y1="329.2188" y2="329.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1445" x="17" y="321.1426">已暂停 (paused)</text></g><g id="Ended"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="114.1445" x="180.5" y="442.1094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="180.5" x2="294.6445" y1="469.7188" y2="469.7188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.1445" x="190.5" y="461.6426">已结束 (ended)</text></g><g id="Deleted"><rect fill="#F08080" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="121.1445" x="500" y="582.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="500" x2="621.1445" y1="610.2188" y2="610.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1445" x="510" y="602.1426">已删除 (deleted)</text></g><g id="Rejected"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="125.0205" x="733" y="173.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="733" x2="858.0205" y1="201.2188" y2="201.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0205" x="743" y="193.1426">已拒绝 (rejected)</text></g><ellipse cx="1123.5" cy="70.6094" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><g class="entity" data-entity="GMN2" data-source-line="32" data-uid="ent0003" id="entity_GMN2"><path d="M329.5,429.6094 L329.5,463.1094 L294.77,467.1094 L329.5,471.1094 L329.5,505.0156 A0,0 0 0 0 329.5,505.0156 L507.2617,505.0156 A0,0 0 0 0 507.2617,505.0156 L507.2617,439.6094 L497.2617,429.6094 L329.5,429.6094 A0,0 0 0 0 329.5,429.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M497.2617,429.6094 L497.2617,439.6094 L507.2617,439.6094 L497.2617,429.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="335.5" y="448.1045">系统也可能根据</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8335" x="335.5" y="464.4561">end_date 自动更新</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.7617" x="335.5" y="480.8076">状态为 ended。</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7617" x="335.5" y="497.1592">预算耗尽也会导致 ended。</text></g><g class="entity" data-entity="GMN5" data-source-line="39" data-uid="ent0006" id="entity_GMN5"><path d="M349,177.1094 L349,194.6094 L313.65,198.6094 L349,202.6094 L349,219.8125 A0,0 0 0 0 349,219.8125 L626.4072,219.8125 A0,0 0 0 0 626.4072,219.8125 L626.4072,187.1094 L616.4072,177.1094 L349,177.1094 A0,0 0 0 0 349,177.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M616.4072,177.1094 L616.4072,187.1094 L626.4072,187.1094 L616.4072,177.1094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.9653" x="355" y="195.6045">Active --&gt; Paused</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256.4072" x="355" y="211.9561">影响: 该活动下所有 active 的广告将暂停投放</text></g><!--link *start* to Draft--><g class="link" data-entity-1="*start*" data-entity-2="Draft" data-source-line="13" data-uid="lnk3" id="link_*start*_Draft"><path d="M1120.85,80.2994 C1115.94,95.1194 1104.08,125.4194 1084.5,143.6094 C1063.24,163.3594 1039.2064,174.8266 1014.6764,183.3666" fill="none" id="*start*-to-Draft" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1009.01,185.3394,1018.8248,186.1579,1013.732,183.6954,1016.1945,178.6027,1009.01,185.3394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1099.5" y="140.1045">用户创建活动但未提交</text></g><!--link Draft to PendingApproval--><g class="link" data-entity-1="Draft" data-entity-2="PendingApproval" data-source-line="14" data-uid="lnk4" id="link_Draft_PendingApproval"><path d="M921.15,173.5494 C880.9,151.2094 826.5357,121.0319 786.2457,98.6619" fill="none" id="Draft-to-PendingApproval" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="781,95.7494,786.9268,103.6153,785.3714,98.1765,790.8102,96.6211,781,95.7494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="865.5" y="140.1045">用户提交审核</text></g><!--link PendingApproval to Draft--><g class="link" data-entity-1="PendingApproval" data-entity-2="Draft" data-source-line="16" data-uid="lnk6" id="link_PendingApproval_Draft"><path d="M831.08,85.0094 C880.64,94.0294 934.67,107.5794 951.5,125.6094 C963.29,138.2394 966.1582,151.7697 966.3182,167.2997" fill="none" id="PendingApproval-to-Draft" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="966.38,173.2994,970.2871,164.2586,966.3285,168.2996,962.2875,164.3411,966.38,173.2994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="961.5" y="140.1045">管理员打回修改</text></g><!--link PendingApproval to Active--><g class="link" data-entity-1="PendingApproval" data-entity-2="Active" data-source-line="15" data-uid="lnk5" id="link_PendingApproval_Active"><path d="M643.9,93.2294 C561.3,112.7594 437.84,143.0394 331.5,173.6094 C325.66,175.2894 325.3089,175.3362 319.2689,177.2162" fill="none" id="PendingApproval-to-Active" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="313.54,178.9994,323.3221,180.1439,318.3141,177.5134,320.9446,172.5054,313.54,178.9994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="510.5" y="140.1045">管理员审核通过</text></g><!--link PendingApproval to Rejected--><g class="link" data-entity-1="PendingApproval" data-entity-2="Rejected" data-source-line="17" data-uid="lnk7" id="link_PendingApproval_Rejected"><path d="M731.24,95.6594 C728.71,110.1594 727.77,128.6694 734.5,143.6094 C739.73,155.2194 744.2692,161.4292 753.8592,169.6692" fill="none" id="PendingApproval-to-Rejected" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="758.41,173.5794,754.1905,164.6802,754.6176,170.3209,748.9769,170.7479,758.41,173.5794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="735.5" y="140.1045">管理员审核拒绝</text></g><!--link Active to Paused--><g class="link" data-entity-1="Active" data-entity-2="Paused" data-source-line="19" data-uid="lnk8" id="link_Active_Paused"><path d="M201.42,205.8394 C144.17,213.4894 61.01,228.6294 41.5,253.6094 C30.62,267.5394 34.7998,281.3924 44.4698,296.3324" fill="none" id="Active-to-Paused" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="47.73,301.3694,46.1977,291.6405,45.0132,297.1719,39.4817,295.9874,47.73,301.3694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="42.5" y="268.1045">用户/管理员暂停</text></g><!--link Paused to Active--><g class="link" data-entity-1="Paused" data-entity-2="Active" data-source-line="20" data-uid="lnk9" id="link_Paused_Active"><path d="M103.7,301.5994 C137.31,279.3094 182.1097,249.6056 215.8697,227.2156" fill="none" id="Paused-to-Active" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="220.87,223.8994,211.1588,225.5402,216.7031,226.6629,215.5804,232.2072,220.87,223.8994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="175.5" y="268.1045">用户/管理员恢复</text></g><!--link Active to Ended--><g class="link" data-entity-1="Active" data-entity-2="Ended" data-source-line="21" data-uid="lnk10" id="link_Active_Ended"><path d="M268.55,223.8294 C272.16,232.9594 275.7,243.5694 277.5,253.6094 C288.95,317.4794 294.86,337.0894 277.5,399.6094 C273.28,414.7994 267.9578,425.0373 259.7278,437.0673" fill="none" id="Active-to-Ended" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="256.34,442.0194,264.7231,436.8498,259.1632,437.8927,258.1203,432.3328,256.34,442.0194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.2236" x="289.5" y="332.1045">到达结束日期/预算耗尽/手动结束</text></g><!--link Paused to Ended--><g class="link" data-entity-1="Paused" data-entity-2="Ended" data-source-line="22" data-uid="lnk11" id="link_Paused_Ended"><path d="M89.09,351.8494 C102.61,366.4294 120.79,384.9394 138.5,399.6094 C156.99,414.9294 173.9996,426.78 192.5996,438.71" fill="none" id="Paused-to-Ended" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="197.65,441.9494,192.2339,433.7234,193.4413,439.2499,187.9148,440.4573,197.65,441.9494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6118" x="139.5" y="396.1045">到达结束日期/手动结束</text></g><!--link Active to Deleted--><g class="link" data-entity-1="Active" data-entity-2="Deleted" data-source-line="24" data-uid="lnk12" id="link_Active_Deleted"><path d="M313.68,218.3394 C373.76,239.4094 463.63,274.2494 487.5,301.6094 C559.63,384.2794 563.6151,519.7719 561.9651,576.2719" fill="none" id="Active-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="561.79,582.2694,566.051,573.39,561.936,577.2715,558.0544,573.1564,561.79,582.2694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="540.5" y="396.1045">用户/管理员删除</text></g><!--link Paused to Deleted--><g class="link" data-entity-1="Paused" data-entity-2="Deleted" data-source-line="25" data-uid="lnk13" id="link_Paused_Deleted"><path d="M58.74,351.6394 C46.84,388.9094 30.89,460.8894 66.5,504.6094 C120.56,570.9794 374.1629,595.0762 493.8429,602.9362" fill="none" id="Paused-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="499.83,603.3294,491.1115,598.7482,494.8407,603.0017,490.5872,606.731,499.83,603.3294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="67.5" y="472.6045">用户/管理员删除</text></g><!--link Ended to Deleted--><g class="link" data-entity-1="Ended" data-entity-2="Deleted" data-source-line="26" data-uid="lnk14" id="link_Ended_Deleted"><path d="M285.04,492.1594 C293.79,496.4194 302.88,500.7194 311.5,504.6094 C375.06,533.2594 443.5666,560.9826 494.2966,580.9426" fill="none" id="Ended-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="499.88,583.1394,492.9695,576.1219,495.2272,581.3087,490.0404,583.5664,499.88,583.1394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="421.5" y="549.1045">用户/管理员删除</text></g><!--link PendingApproval to Deleted--><g class="link" data-entity-1="PendingApproval" data-entity-2="Deleted" data-source-line="27" data-uid="lnk15" id="link_PendingApproval_Deleted"><path d="M718.83,95.6794 C701.87,119.9894 679.5,159.3194 679.5,197.6094 C679.5,197.6094 679.5,197.6094 679.5,468.1094 C679.5,517.7194 639.9487,555.0033 605.3787,579.1533" fill="none" id="PendingApproval-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="600.46,582.5894,610.1287,580.7143,604.5589,579.726,605.5473,574.1561,600.46,582.5894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="680.5" y="332.1045">用户/管理员删除</text></g><!--link Draft to Deleted--><g class="link" data-entity-1="Draft" data-entity-2="Deleted" data-source-line="28" data-uid="lnk16" id="link_Draft_Deleted"><path d="M953.02,223.9394 C922.01,287.1594 830.42,458.1994 705.5,552.6094 C680.75,571.3194 654.5481,582.3861 626.9581,590.8161" fill="none" id="Draft-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="621.22,592.5694,630.996,593.7649,626.0018,591.1083,628.6583,586.1141,621.22,592.5694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="859.5" y="396.1045">用户/管理员删除</text></g><!--SRC=[ZLJFJnfH4BxlNp6nXs8Jwzr34wEzzT2qnwOn6rajZGK2gsUqAYoK8XN50XOmMeYr2wr6MPSVVqptpLjE_WjzksztMT7KtkRD-xwPUT_CF3aahqWm9tw8Yg7bCBoMHNar3W7NyJHkEoO5uJ7Gz2KcrebQCZJbffl2OitGTQEtX-VDOJ9jNbM7fTnDLn4iYWGJPbQXpG44WZ5nIPwS034EyvRftfF-5b7hMEj082g5Ww7mye8OZSOYQ-8AHx_atbd7wSKTbCtw9wFp4mBYeXnQapXwrhQzu5U_iRH1rYiikBWQbu9EIDlsWQY-YuTL2B1KBkQvPVeW95KRVZrcxv1M9Da5pVC3F7eHMdudpqLYe_gir9alL3-4G4nwBorwd5VEQQIbsJkZ3PrfQJQ-armU3-k6Vea7dsbTjOHyy-GjJ4qzuxB13D124rDN95Kc-ZLUw2JTD7hRM3d5t8vnVInmc4KOKywZSY1NNHW7MKGkeeLNwtHdc-GFE7YOA9c3vBqKhpYNWSekANyp1YeMj7iPhWvtqt3T1C4fmtwAtJ7l1TEZD7Px1UV-Tl7ZqFKZSfprHxLxp90arJRxVJu4M3p1IdLwUBH9rQAPA99sRngL35EPt_jJ_OD_Y-BFwOxCtVhuXFdZFuZb1VnVsFkQzX1fD4iFGgrfpfpH7nd-3zW_GuCgAQoSaKBBw2J8LfUe6kvhf6l_3-48MvEOjJSGMNBM3O2UwrIl6bgLv5hcnnxMDCogpC-gNmXQYsKcJvcmMBx0_RQ5jpV8w5o3lRj_4XlCwMyU2sLqIwJLDPCN8mmpm2f062l3-Ju0ximUyv7UBxARdG6pTUBiNIU3IW8h2l0l26XfasW3aa-JzZQVJ4plOQ7lvViB]--></g></svg></p><h3 id="64-广告状态-ad-status">6.4 广告状态 (Ad <code>status</code>) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="STATE" height="921px" preserveAspectRatio="none" style="width:1002px;height:921px;background:#FFFFFF;" version="1.1" viewBox="0 0 1002 921" width="1002px" zoomAndPan="magnify"><title>Ad Status (Ad.status)</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="142.3379" x="423.062" y="24.5332">Ad Status (Ad.status)</text><g id="Draft"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="89.2275" x="557.35" y="142.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="557.35" x2="646.5775" y1="170.2188" y2="170.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2275" x="567.35" y="162.1426">草稿 (draft)</text></g><g id="PendingApproval"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="186.5303" x="51.35" y="283.1094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="51.35" x2="237.8803" y1="310.7188" y2="310.7188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.5303" x="61.35" y="302.6426">待审核 (pending_approval)</text></g><g id="Active"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="111.7861" x="88.85" y="452.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="88.85" x2="200.6361" y1="480.2188" y2="480.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.7861" x="98.85" y="472.1426">投放中 (active)</text></g><g id="Paused"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="121.1445" x="324.35" y="609.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="324.35" x2="445.4945" y1="637.2188" y2="637.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1445" x="334.35" y="629.1426">已暂停 (paused)</text></g><g id="Ended"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="114.1445" x="287.85" y="737.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="287.85" x2="401.9945" y1="765.2188" y2="765.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.1445" x="297.85" y="757.1426">已结束 (ended)</text></g><g id="Rejected"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="125.0205" x="690.35" y="452.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="690.35" x2="815.3705" y1="480.2188" y2="480.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0205" x="700.35" y="472.1426">已拒绝 (rejected)</text></g><g id="Deleted"><rect fill="#F08080" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="121.1445" x="591.35" y="865.6094"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="591.35" x2="712.4945" y1="893.2188" y2="893.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1445" x="601.35" y="885.1426">已删除 (deleted)</text></g><ellipse cx="601.85" cy="54.6094" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><g class="entity" data-entity="GMN2" data-source-line="36" data-uid="ent0003" id="entity_GMN2"><path d="M236.35,423.6094 L236.35,473.6094 L201.01,477.6094 L236.35,481.6094 L236.35,531.7188 A0,0 0 0 0 236.35,531.7188 L479.0736,531.7188 A0,0 0 0 0 479.0736,531.7188 L479.0736,433.6094 L469.0736,423.6094 L236.35,423.6094 A0,0 0 0 0 236.35,423.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M469.0736,423.6094 L469.0736,433.6094 L479.0736,433.6094 L469.0736,423.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.9653" x="242.35" y="442.1045">Active --&gt; Paused</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.6118" x="242.35" y="458.4561">原因:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.4536" x="242.35" y="474.8076">1. 用户操作暂停此广告</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.1943" x="242.35" y="491.1592">2. 所属 Campaign 状态变为 paused</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7236" x="242.35" y="507.5107">3. 广告日预算耗尽 (次日可能自动恢复)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.7236" x="242.35" y="523.8623">4. 广告总预算耗尽 (需充值或调整预算)</text></g><g class="entity" data-entity="GMN5" data-source-line="45" data-uid="ent0006" id="entity_GMN5"><path d="M503.35,270.6094 L503.35,346.0156 L682.2416,346.0156 L682.2416,280.6094 L672.2416,270.6094 L503.35,270.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M672.2416,270.6094 L672.2416,280.6094 L682.2416,280.6094 L672.2416,270.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.8916" x="509.35" y="289.1045">PendingApproval --&gt; Active</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.6118" x="509.35" y="305.4561">动作:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.8735" x="509.35" y="321.8076">- 创建 AuditLog</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.9409" x="509.35" y="338.1592">- 通知广告主</text></g><g class="entity" data-entity="GMN8" data-source-line="52" data-uid="ent0009" id="entity_GMN8"><path d="M273.35,270.6094 L273.35,304.1094 L238.43,308.1094 L273.35,312.1094 L273.35,346.0156 A0,0 0 0 0 273.35,346.0156 L468.1488,346.0156 A0,0 0 0 0 468.1488,346.0156 L468.1488,280.6094 L458.1488,270.6094 L273.35,270.6094 A0,0 0 0 0 273.35,270.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M458.1488,270.6094 L458.1488,280.6094 L468.1488,280.6094 L458.1488,270.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.7988" x="279.35" y="289.1045">PendingApproval --&gt; Rejected</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29.6118" x="279.35" y="305.4561">动作:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.1436" x="279.35" y="321.8076">- 创建 AuditLog (含原因)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.9409" x="279.35" y="338.1592">- 通知广告主</text></g><!--link *start* to Draft--><g class="link" data-entity-1="*start*" data-entity-2="Draft" data-source-line="13" data-uid="lnk3" id="link_*start*_Draft"><path d="M601.85,64.6894 C601.85,81.4694 601.85,111.8294 601.85,136.2594" fill="none" id="*start*-to-Draft" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="601.85,142.2594,605.85,133.2594,601.85,137.2594,597.85,133.2594,601.85,142.2594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="602.85" y="109.1045">用户创建广告但未提交</text></g><!--link Draft to PendingApproval--><g class="link" data-entity-1="Draft" data-entity-2="PendingApproval" data-source-line="14" data-uid="lnk4" id="link_Draft_PendingApproval"><path d="M557.2,181.2894 C491.16,200.1594 363.62,237.0194 255.85,270.6094 C243.26,274.5294 235.6148,276.9605 222.6948,281.1705" fill="none" id="Draft-to-PendingApproval" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="216.99,283.0294,226.7864,284.0442,221.744,281.4803,224.3079,276.4378,216.99,283.0294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="407.85" y="237.1045">用户提交审核</text></g><!--link PendingApproval to Draft--><g class="link" data-entity-1="PendingApproval" data-entity-2="Draft" data-source-line="18" data-uid="lnk7" id="link_PendingApproval_Draft"><path d="M210.89,283.0894 C225.54,278.3994 241.11,273.9294 255.85,270.6094 C360.3,247.1094 394.6,278.1794 494.85,240.6094 C524.2,229.6094 548.7576,212.8486 569.2376,196.5286" fill="none" id="PendingApproval-to-Draft" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="573.93,192.7894,564.3986,195.27,570.0197,195.9054,569.3843,201.5264,573.93,192.7894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="529.85" y="237.1045">管理员打回修改</text></g><!--link PendingApproval to Active--><g class="link" data-entity-1="PendingApproval" data-entity-2="Active" data-source-line="16" data-uid="lnk5" id="link_PendingApproval_Active"><path d="M144.85,333.4694 C144.85,365.3094 144.85,414.7694 144.85,446.4994" fill="none" id="PendingApproval-to-Active" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="144.85,452.4994,148.85,443.4994,144.85,447.4994,140.85,443.4994,144.85,452.4994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="145.85" y="390.1045">管理员审核通过</text></g><!--link PendingApproval to Rejected--><g class="link" data-entity-1="PendingApproval" data-entity-2="Rejected" data-source-line="17" data-uid="lnk6" id="link_PendingApproval_Rejected"><path d="M215.71,333.1094 C229,337.4194 242.82,341.7494 255.85,345.6094 C410.94,391.4994 589.7239,436.6455 684.3139,459.9255" fill="none" id="PendingApproval-to-Rejected" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="690.14,461.3594,682.3567,455.3244,685.2849,460.1645,680.4449,463.0926,690.14,461.3594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="419.85" y="390.1045">管理员审核拒绝</text></g><!--link Active to Paused--><g class="link" data-entity-1="Active" data-entity-2="Paused" data-source-line="20" data-uid="lnk8" id="link_Active_Paused"><path d="M173.15,502.7394 C186.32,512.9294 202.64,524.1294 218.85,531.6094 C269.16,554.8194 295,529.0694 339.85,561.6094 C356.32,573.5594 365.5854,588.0963 372.9554,603.9863" fill="none" id="Active-to-Paused" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="375.48,609.4294,375.3219,599.5818,373.3762,604.8935,368.0645,602.9479,375.48,609.4294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.479" x="357.85" y="576.1045">用户手动暂停/所属Campaign暂停/预算耗尽</text></g><!--link Paused to Active--><g class="link" data-entity-1="Paused" data-entity-2="Active" data-source-line="21" data-uid="lnk9" id="link_Paused_Active"><path d="M324.03,615.9394 C314.96,613.6194 305.69,611.4194 296.85,609.6094 C249.6,599.9094 113.52,615.9994 81.85,579.6094 C61.1,555.7594 83.1147,528.2676 107.8447,506.8476" fill="none" id="Paused-to-Active" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="112.38,502.9194,102.9582,505.7882,108.6006,506.1929,108.1959,511.8353,112.38,502.9194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.479" x="82.85" y="576.1045">用户手动恢复/所属Campaign恢复/预算补充</text></g><!--link Active to Ended--><g class="link" data-entity-1="Active" data-entity-2="Ended" data-source-line="23" data-uid="lnk10" id="link_Active_Ended"><path d="M113.8,502.7794 C71.74,538.4894 6,606.8194 43.85,659.6094 C99.39,737.0694 211.0516,756.0664 281.6916,760.4664" fill="none" id="Active-to-Ended" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="287.68,760.8394,278.9461,756.2876,282.6897,760.5285,278.4487,764.2721,287.68,760.8394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.479" x="44.85" y="640.1045">到达结束日期/总预算耗尽/所属Campaign结束</text></g><!--link Paused to Ended--><g class="link" data-entity-1="Paused" data-entity-2="Ended" data-source-line="24" data-uid="lnk11" id="link_Paused_Ended"><path d="M359.9,659.7994 C352.64,668.4394 345.65,678.7494 341.85,689.6094 C336.53,704.8494 336.4524,717.0739 338.5624,731.3439" fill="none" id="Paused-to-Ended" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="339.44,737.2794,342.0805,727.7911,338.7086,732.3332,334.1666,728.9613,339.44,737.2794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6118" x="342.85" y="704.1045">到达结束日期/手动结束</text></g><!--link Rejected to Draft--><g class="link" data-entity-1="Rejected" data-entity-2="Draft" data-source-line="26" data-uid="lnk12" id="link_Rejected_Draft"><path d="M750.67,452.6094 C746.19,412.5994 733.39,330.7594 699.85,270.6094 C682.75,239.9394 658.7172,215.6354 636.8172,196.6854" fill="none" id="Rejected-to-Draft" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="632.28,192.7594,636.4685,201.6732,636.061,196.0311,641.7032,195.6236,632.28,192.7594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="730.85" y="313.6045">修改后重新提交</text></g><!--link Rejected to Deleted--><g class="link" data-entity-1="Rejected" data-entity-2="Deleted" data-source-line="27" data-uid="lnk13" id="link_Rejected_Deleted"><path d="M756.09,502.8394 C760.94,545.1894 767.65,635.0494 748.85,707.6094 C733,768.7794 696.3387,827.2025 672.9587,860.6325" fill="none" id="Rejected-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="669.52,865.5494,677.9559,860.4666,672.3856,861.452,671.4002,855.8816,669.52,865.5494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="752.85" y="704.1045">用户删除</text></g><!--link Active to Deleted--><g class="link" data-entity-1="Active" data-entity-2="Deleted" data-source-line="29" data-uid="lnk14" id="link_Active_Deleted"><path d="M170.9,502.6594 C184.23,513.4794 201.33,525.2394 218.85,531.6094 C301.8,561.7494 551.31,500.3594 614.85,561.6094 C636.69,582.6594 647.4584,787.3051 650.6084,859.4951" fill="none" id="Active-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="650.87,865.4894,654.4739,856.3236,650.652,860.4941,646.4815,856.6723,650.87,865.4894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="641.85" y="704.1045">用户/管理员删除</text></g><!--link Paused to Deleted--><g class="link" data-entity-1="Paused" data-entity-2="Deleted" data-source-line="30" data-uid="lnk15" id="link_Paused_Deleted"><path d="M440.62,659.6694 C454.95,667.6994 469.51,677.6994 480.85,689.6094 C514.44,724.8694 499.65,749.4094 529.85,787.6094 C554.25,818.4694 584.416,843.0802 610.686,861.9402" fill="none" id="Paused-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="615.56,865.4394,610.5818,856.9413,611.4983,862.5234,605.9162,863.4399,615.56,865.4394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="530.85" y="768.1045">用户/管理员删除</text></g><!--link Ended to Deleted--><g class="link" data-entity-1="Ended" data-entity-2="Deleted" data-source-line="31" data-uid="lnk16" id="link_Ended_Deleted"><path d="M350.97,787.9394 C356.26,803.8994 365.52,823.9094 380.85,835.6094 C413.22,860.3094 515.8571,875.3336 585.3571,883.0936" fill="none" id="Ended-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="591.32,883.7594,582.8194,878.7854,586.3509,883.2045,581.9317,886.736,591.32,883.7594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="381.85" y="832.1045">用户/管理员删除</text></g><!--link Draft to Deleted--><g class="link" data-entity-1="Draft" data-entity-2="Deleted" data-source-line="32" data-uid="lnk17" id="link_Draft_Deleted"><path d="M646.64,169.6794 C729.61,174.2894 898.85,197.1594 898.85,307.1094 C898.85,307.1094 898.85,307.1094 898.85,763.6094 C898.85,847.0094 791.6697,874.464 718.5397,883.994" fill="none" id="Draft-to-Deleted" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="712.59,884.7694,722.0314,887.5728,717.5481,884.1233,720.9976,879.6399,712.59,884.7694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6118" x="899.85" y="576.1045">用户/管理员删除</text></g><!--link PendingApproval to GMN5--><g class="link" data-entity-1="PendingApproval" data-entity-2="GMN5" data-source-line="45" data-uid="lnk7" id="link_PendingApproval_GMN5"><path d="M175.9,283.0694 C200.65,264.8094 237.05,241.5994 273.35,231.6094 C356.91,208.6194 384.95,208.0294 468.35,231.6094 C495.94,239.4094 523.43,255.2294 545.53,270.4694" fill="none" id="PendingApproval-GMN5" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path></g><!--SRC=[fLHDKzfG5DtdLzonYuREYDEFbOlECDgTYqwxx7Gw6OcKZWK6eckiHH8O12kAHHHmi3AAI3z6mV3nP_9UafL_eIzvIGYfrSvqzt9ppdtlddlk5SB2CW-18BmME64b0MmWw4-OHn_3F0GrSucJQwXTLdhIJL_4fPeYoyfW1_ziwkcCTbNLo_cRliGO51wcj9oaDaV01kFSak2R0Yu1yyRH_e-6ATIkureNs1WV2OOZeNTSB1QFhdBB5FsIHWDMqERXp0uk3fNkER3SeX1UvIawO9wTv5S_SFaJMgkGvDnAWWzQASsp2wJAs_YW2YovoiQyC8xkFDalgdm0R9p_m2yADkgLzUK28h6cVssGWlbbti7Dqmzui10ElHVced5IYAEbDcYf9pBHKZlvXl9R-A2ko9TuRrEjjmqXtpnw2zFJpwbiC0jgiOd5AoJk8_aQzKPeAwCCDd3b5ESBodM3eJ23u57EeL8WLPrXl2Y3ILKq2EswMjX0MtiKhIVBsYXzAyLMuayILUvMabEIpS3IDje_L4PjNEmnZFKCinQpPUCIf2pAD6blPx2KHDyFvxYFCIuSYbX1_UYpsYvfoHBg31YBFLcQEz7Q4Mhal8beq4fKFqQfrCIJJ8UGH4ZiQCCXjH0k7UDATGOdPVVzdiGKwdxKNQdC1reKnb7PhHwL2nKszNGExtOi7qn2BV-DtMEOTA8SBsHct4OAThttNYmjw9-WOx_U2pKc9jjIpx9qrvZRvqILH5nfeUA5qasYL1-rUtYtX_hc3ef4oL36ZP63w9Az6m3-y1M9eSqgsg_DajDZl-sDxPmog50_uVC6dJK2UE87sb2mEselnVoUqhs6c9tpgHyeYVJIxGTWSQjEOYX_eQqFjFIfOq4VOJrpM9Ck0bQla0fJADd7ugxMMSSxl-X_7qDc2unY6K_9tkK9yFTnDqJ8D4d5XWZJG1SC15Q2OM4X6Z9ZPFxLwh6rTBhoVrxhBCyxBmOM5SveTtntFk8t]--></g></svg></p><h2 id="7-活动图-activity-diagram---带泳道">7. 活动图 (Activity Diagram) - 带泳道 </h2>
<p>活动图描述了业务流程中的活动序列和控制流程，使用泳道区分不同参与者的活动。</p>
<h3 id="71-用户注册与审核流程-带泳道">7.1 用户注册与审核流程 (带泳道) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="ACTIVITY" height="2160px" preserveAspectRatio="none" style="width:2955px;height:2160px;background:#FFFFFF;" version="1.1" viewBox="0 0 2955 2160" width="2955px" zoomAndPan="magnify"><title>User Registration and Audit Process (Swimlanes)</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="329.082" x="1311.7885" y="34.5332">User Registration and Audit Process (Swimlanes)</text><rect fill="none" height="22.6406" style="stroke:none;stroke-width:1;" width="2922.659" x="15" y="51.0645"></rect><ellipse cx="264.6476" cy="88.7051" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="218.6476" y="118.7051"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="228.6476" y="141.1621">访问注册页面</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="212.6621" x="158.3166" y="173.7988"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192.6621" x="168.3166" y="196.2559">填写注册信息 (邮箱, 用户名, 密码等)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="218.6476" y="228.8926"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="228.6476" y="251.3496">同意服务条款</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="218.6476" y="283.9863"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="228.6476" y="306.4434">提交注册表单</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136.5195" x="21" y="438.1738"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116.5195" x="31" y="460.6309">接收"邮箱已存在"提示</text><ellipse cx="89.2598" cy="519.2676" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="89.2598" cy="519.2676" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><polygon fill="#F1F1F1" points="392.9767,438.1738,487.0944,438.1738,499.0944,450.1738,487.0944,462.1738,392.9767,462.1738,380.9767,450.1738,392.9767,438.1738" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94.1177" x="392.9767" y="454.6748">用户名是否已存在?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="369.9767" y="447.7568">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="499.0944" y="447.7568">否</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="148.5195" x="187.5195" y="482.1738"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="128.5195" x="197.5195" y="504.6309">接收"用户名已存在"提示</text><ellipse cx="261.7793" cy="563.2676" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="261.7793" cy="563.2676" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><polygon fill="#F1F1F1" points="560.2329,482.1738,676.3506,482.1738,688.3506,494.1738,676.3506,506.1738,560.2329,506.1738,548.2329,494.1738,560.2329,482.1738" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116.1177" x="560.2329" y="498.6748">密码强度是否符合要求?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="33" x="515.2329" y="491.7568">不符合</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="688.3506" y="491.7568">符合</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="124.5195" x="366.0391" y="526.1738"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104.5195" x="376.0391" y="548.6309">接收"密码太弱"提示</text><ellipse cx="428.2988" cy="605.2676" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="428.2988" cy="605.2676" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="244.5195" x="686.0249" y="759.5488"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="224.5195" x="696.0249" y="782.0059">接收"注册成功，请查收邮件完成验证"提示</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="222.002" x="697.2837" y="814.6426"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202.002" x="707.2837" y="837.0996">查收邮件并点击验证链接 / 输入验证码</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="244.5195" x="562.6963" y="1023.9238"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="224.5195" x="572.6963" y="1046.3809">接收"邮箱验证成功，等待管理员审核"提示</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="124.5195" x="869.3535" y="913.7363"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104.5195" x="879.3535" y="936.1934">接收"验证失败"提示</text><ellipse cx="931.6133" cy="979.8301" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="931.6133" cy="979.8301" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><line style="stroke:#000000;stroke-width:1.5;" x1="15" x2="15" y1="51.0645" y2="2148.8457"></line><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="1003.873" y="339.0801"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="1013.873" y="361.5371">验证表单数据格式与完整性</text><polygon fill="#F1F1F1" points="1044.3142,394.1738,1127.4319,394.1738,1139.4319,406.1738,1127.4319,418.1738,1044.3142,418.1738,1032.3142,406.1738,1044.3142,394.1738" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83.1177" x="1044.3142" y="410.6748">邮箱是否已注册?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1021.3142" y="403.7568">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1139.4319" y="403.7568">否</text><line style="stroke:#000000;stroke-width:1.5;" x1="997.873" x2="997.873" y1="51.0645" y2="2148.8457"></line><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="184.7188" x="1898.6746" y="526.1738"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164.7188" x="1908.6746" y="548.6309">创建用户账户 (status: pending)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="196.7188" x="1892.6746" y="594.2676"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="176.7188" x="1902.6746" y="616.7246">生成邮箱验证码 (ValidationCode)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="202.6602" x="1889.7039" y="649.3613"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182.6602" x="1899.7039" y="671.8184">发送验证邮件 (含验证链接/验证码)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="1921.034" y="704.4551"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="1931.034" y="726.9121">记录用户注册尝试日志</text><polygon fill="#F1F1F1" points="1954.9752,869.7363,2027.0928,869.7363,2039.0928,881.7363,2027.0928,893.7363,1954.9752,893.7363,1942.9752,881.7363,1954.9752,869.7363" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72.1177" x="1954.9752" y="886.2373">邮箱验证成功?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1931.9752" y="879.3193">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100.8315" x="2039.0928" y="879.3193">否 - 验证码错误/过期</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="328.7949" x="1703.3079" y="913.7363"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="308.7949" x="1713.3079" y="936.1934">更新用户状态 (status: pending_approval / is_verified: true)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="1791.7054" y="968.8301"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="1801.7054" y="991.2871">通知管理员新用户待审核</text><rect fill="none" height="634.3594" style="stroke:#000000;stroke-width:1.5;" width="514.5918" x="1246.2302" y="1069.0176"></rect><path d="M1312.2302,1069.0176 L1312.2302,1079.627 L1302.2302,1089.627 L1246.2302,1089.627" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1249.2302" y="1084.5508">用户审核</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="246.0723" x="1372.7498" y="1525.1895"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="226.0723" x="1382.7498" y="1547.6465">更新用户状态 (status: more_info_required)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="187.3262" x="1402.1228" y="1580.2832"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167.3262" x="1412.1228" y="1602.7402">发送通知给用户 (要求补充资料)</text><ellipse cx="1495.7859" cy="1646.377" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="1495.7859" cy="1646.377" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76.5195" x="1646.5623" y="1415.002"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56.5195" x="1656.5623" y="1437.459">选择"拒绝"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="1638.822" y="1470.0957"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="1648.822" y="1492.5527">填写拒绝原因</text><polygon fill="#F1F1F1" points="1396.4333,1723.377,1498.3606,1723.377,1510.3606,1735.377,1498.3606,1747.377,1396.4333,1747.377,1384.4333,1735.377,1396.4333,1723.377" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101.9272" x="1396.4333" y="1739.8779">管理员操作是"批准"?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1373.4333" y="1732.96">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51.8096" x="1510.3606" y="1732.96">若是"拒绝"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="272.75" x="1177.873" y="1757.377"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="252.75" x="1187.873" y="1779.834">更新用户状态 (status: approved, is_active: true)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="172.5195" x="1227.9883" y="1812.4707"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="152.5195" x="1237.9883" y="1834.9277">发送"账户已批准"通知给用户</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="150.6992" x="1238.8984" y="1867.5645"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130.6992" x="1248.8984" y="1890.0215">记录审核日志 (AuditLog)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="184.7012" x="1488.1953" y="1757.377"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164.7012" x="1498.1953" y="1779.834">更新用户状态 (status: rejected)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="219.8457" x="1470.623" y="1812.4707"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199.8457" x="1480.623" y="1834.9277">发送"账户被拒绝"通知给用户 (附原因)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="150.6992" x="1505.1963" y="1867.5645"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130.6992" x="1515.1963" y="1890.0215">记录审核日志 (AuditLog)</text><polygon fill="#F1F1F1" points="1447.397,1908.6582,1459.397,1920.6582,1447.397,1932.6582,1435.397,1920.6582,1447.397,1908.6582" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="1171.873" x2="1171.873" y1="51.0645" y2="2148.8457"></line><rect fill="none" height="634.3594" style="stroke:#000000;stroke-width:1.5;" width="471.908" x="2150.9244" y="1069.0176"></rect><path d="M2216.9244,1069.0176 L2216.9244,1079.627 L2206.9244,1089.627 L2150.9244,1089.627" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="2153.9244" y="1084.5508">用户审核</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="2310.0911" y="1106.627"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="2320.0911" y="1129.084">登录系统</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="124.5195" x="2281.8314" y="1161.7207"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104.5195" x="2291.8314" y="1184.1777">访问"用户审核"模块</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="199.3262" x="2244.428" y="1216.8145"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179.3262" x="2254.428" y="1239.2715">查看待审核用户列表 (含注册信息)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="2286.0911" y="1271.9082"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="2296.0911" y="1294.3652">选择用户进行审核</text><polygon fill="#F1F1F1" points="2291.5323,1327.002,2396.65,1327.002,2408.65,1339.002,2396.65,1351.002,2291.5323,1351.002,2279.5323,1339.002,2291.5323,1327.002" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105.1177" x="2291.5323" y="1343.5029">信息是否完整且合规?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="2268.5323" y="1336.585">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97.7754" x="2408.65" y="1336.585">否 - 如公司信息可疑</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76.5195" x="2162.9244" y="1371.002"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56.5195" x="2172.9244" y="1393.459">选择"批准"</text><polygon fill="#F1F1F1" points="2439.9393,1371.002,2534.0569,1371.002,2546.0569,1383.002,2534.0569,1395.002,2439.9393,1395.002,2427.9393,1383.002,2439.9393,1371.002" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94.1177" x="2439.9393" y="1387.5029">是否需要补充资料?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="2416.9393" y="1380.585">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64.7754" x="2546.0569" y="1380.585">否 - 直接拒绝</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="124.5195" x="2330.2203" y="1415.002"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104.5195" x="2340.2203" y="1437.459">选择"要求补充资料"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="2340.48" y="1470.0957"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="2350.48" y="1492.5527">填写需补充内容</text><polygon fill="#F1F1F1" points="2344.0911,1667.377,2356.0911,1679.377,2344.0911,1691.377,2332.0911,1679.377,2344.0911,1667.377" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="2144.9244" x2="2144.9244" y1="51.0645" y2="2148.8457"></line><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="2718.6639" y="1952.6582"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="2728.6639" y="1975.1152">收到审核结果通知</text><polygon fill="#F1F1F1" points="2757.105,2007.752,2796.2227,2007.752,2808.2227,2019.752,2796.2227,2031.752,2757.105,2031.752,2745.105,2019.752,2757.105,2007.752" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39.1177" x="2757.105" y="2024.2529">已批准?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="2734.105" y="2017.335">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="2808.2227" y="2017.335">否</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="2632.8323" y="2041.752"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="2642.8323" y="2064.209">登录并使用系统功能</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="151.3262" x="2780.8323" y="2041.752"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127.9922" x="2794.1663" y="2064.209">(根据通知进行相应操作)</text><polygon fill="#F1F1F1" points="2776.6639,2082.8457,2788.6639,2094.8457,2776.6639,2106.8457,2764.6639,2094.8457,2776.6639,2082.8457" style="stroke:#181818;stroke-width:0.5;"></polygon><ellipse cx="2776.6639" cy="2137.8457" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="2776.6639" cy="2137.8457" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><line style="stroke:#000000;stroke-width:1.5;" x1="2626.8323" x2="2626.8323" y1="51.0645" y2="2148.8457"></line><line style="stroke:#000000;stroke-width:1.5;" x1="2936.1585" x2="2936.1585" y1="51.0645" y2="2148.8457"></line><line style="stroke:#181818;stroke-width:1;" x1="264.6476" x2="264.6476" y1="98.7051" y2="118.7051"></line><polygon fill="#181818" points="260.6476,108.7051,264.6476,118.7051,268.6476,108.7051,264.6476,112.7051" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="264.6476" x2="264.6476" y1="153.7988" y2="173.7988"></line><polygon fill="#181818" points="260.6476,163.7988,264.6476,173.7988,268.6476,163.7988,264.6476,167.7988" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="264.6476" x2="264.6476" y1="208.8926" y2="228.8926"></line><polygon fill="#181818" points="260.6476,218.8926,264.6476,228.8926,268.6476,218.8926,264.6476,222.8926" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="264.6476" x2="264.6476" y1="263.9863" y2="283.9863"></line><polygon fill="#181818" points="260.6476,273.9863,264.6476,283.9863,268.6476,273.9863,264.6476,277.9863" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="89.2598" x2="89.2598" y1="473.2676" y2="508.2676"></line><polygon fill="#181818" points="85.2598,498.2676,89.2598,508.2676,93.2598,498.2676,89.2598,502.2676" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="261.7793" x2="261.7793" y1="517.2676" y2="552.2676"></line><polygon fill="#181818" points="257.7793,542.2676,261.7793,552.2676,265.7793,542.2676,261.7793,546.2676" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="428.2988" x2="428.2988" y1="561.2676" y2="594.2676"></line><polygon fill="#181818" points="424.2988,584.2676,428.2988,594.2676,432.2988,584.2676,428.2988,588.2676" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="808.2847" x2="808.2847" y1="794.6426" y2="814.6426"></line><polygon fill="#181818" points="804.2847,804.6426,808.2847,814.6426,812.2847,804.6426,808.2847,808.6426" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="931.6133" x2="931.6133" y1="948.8301" y2="968.8301"></line><polygon fill="#181818" points="927.6133,958.8301,931.6133,968.8301,935.6133,958.8301,931.6133,962.8301" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="548.2329" x2="428.2988" y1="494.1738" y2="494.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="428.2988" x2="428.2988" y1="494.1738" y2="526.1738"></line><polygon fill="#181818" points="424.2988,516.1738,428.2988,526.1738,432.2988,516.1738,428.2988,520.1738" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="380.9767" x2="261.7793" y1="450.1738" y2="450.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="261.7793" x2="261.7793" y1="450.1738" y2="482.1738"></line><polygon fill="#181818" points="257.7793,472.1738,261.7793,482.1738,265.7793,472.1738,261.7793,476.1738" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="499.0944" x2="618.2917" y1="450.1738" y2="450.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="618.2917" x2="618.2917" y1="450.1738" y2="482.1738"></line><polygon fill="#181818" points="614.2917,472.1738,618.2917,482.1738,622.2917,472.1738,618.2917,476.1738" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="1991.034" y1="1064.0176" y2="1070.3223"></line><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="2344.0911" y1="1070.3223" y2="1070.3223"></line><line style="stroke:#181818;stroke-width:1;" x1="2344.0911" x2="2344.0911" y1="1070.3223" y2="1106.627"></line><polygon fill="#181818" points="2340.0911,1096.627,2344.0911,1106.627,2348.0911,1096.627,2344.0911,1100.627" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1085.873" x2="1085.873" y1="374.1738" y2="394.1738"></line><polygon fill="#181818" points="1081.873,384.1738,1085.873,394.1738,1089.873,384.1738,1085.873,388.1738" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="1991.034" y1="561.2676" y2="594.2676"></line><polygon fill="#181818" points="1987.034,584.2676,1991.034,594.2676,1995.034,584.2676,1991.034,588.2676" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="1991.034" y1="629.3613" y2="649.3613"></line><polygon fill="#181818" points="1987.034,639.3613,1991.034,649.3613,1995.034,639.3613,1991.034,643.3613" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="1991.034" y1="684.4551" y2="704.4551"></line><polygon fill="#181818" points="1987.034,694.4551,1991.034,704.4551,1995.034,694.4551,1991.034,698.4551" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1867.7054" x2="1867.7054" y1="948.8301" y2="968.8301"></line><polygon fill="#181818" points="1863.7054,958.8301,1867.7054,968.8301,1871.7054,958.8301,1867.7054,962.8301" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1942.9752" x2="1867.7054" y1="881.7363" y2="881.7363"></line><line style="stroke:#181818;stroke-width:1;" x1="1867.7054" x2="1867.7054" y1="881.7363" y2="913.7363"></line><polygon fill="#181818" points="1863.7054,903.7363,1867.7054,913.7363,1871.7054,903.7363,1867.7054,907.7363" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1495.7859" x2="1495.7859" y1="1560.2832" y2="1580.2832"></line><polygon fill="#181818" points="1491.7859,1570.2832,1495.7859,1580.2832,1499.7859,1570.2832,1495.7859,1574.2832" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1495.7859" x2="1495.7859" y1="1615.377" y2="1635.377"></line><polygon fill="#181818" points="1491.7859,1625.377,1495.7859,1635.377,1499.7859,1625.377,1495.7859,1629.377" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1684.822" x2="1684.822" y1="1450.0957" y2="1470.0957"></line><polygon fill="#181818" points="1680.822,1460.0957,1684.822,1470.0957,1688.822,1460.0957,1684.822,1464.0957" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1314.248" x2="1314.248" y1="1792.4707" y2="1812.4707"></line><polygon fill="#181818" points="1310.248,1802.4707,1314.248,1812.4707,1318.248,1802.4707,1314.248,1806.4707" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1314.248" x2="1314.248" y1="1847.5645" y2="1867.5645"></line><polygon fill="#181818" points="1310.248,1857.5645,1314.248,1867.5645,1318.248,1857.5645,1314.248,1861.5645" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1580.5459" x2="1580.5459" y1="1792.4707" y2="1812.4707"></line><polygon fill="#181818" points="1576.5459,1802.4707,1580.5459,1812.4707,1584.5459,1802.4707,1580.5459,1806.4707" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1580.5459" x2="1580.5459" y1="1847.5645" y2="1867.5645"></line><polygon fill="#181818" points="1576.5459,1857.5645,1580.5459,1867.5645,1584.5459,1857.5645,1580.5459,1861.5645" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1384.4333" x2="1314.248" y1="1735.377" y2="1735.377"></line><line style="stroke:#181818;stroke-width:1;" x1="1314.248" x2="1314.248" y1="1735.377" y2="1757.377"></line><polygon fill="#181818" points="1310.248,1747.377,1314.248,1757.377,1318.248,1747.377,1314.248,1751.377" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1510.3606" x2="1580.5459" y1="1735.377" y2="1735.377"></line><line style="stroke:#181818;stroke-width:1;" x1="1580.5459" x2="1580.5459" y1="1735.377" y2="1757.377"></line><polygon fill="#181818" points="1576.5459,1747.377,1580.5459,1757.377,1584.5459,1747.377,1580.5459,1751.377" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1314.248" x2="1314.248" y1="1902.6582" y2="1920.6582"></line><line style="stroke:#181818;stroke-width:1;" x1="1314.248" x2="1435.397" y1="1920.6582" y2="1920.6582"></line><polygon fill="#181818" points="1425.397,1916.6582,1435.397,1920.6582,1425.397,1924.6582,1429.397,1920.6582" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1580.5459" x2="1580.5459" y1="1902.6582" y2="1920.6582"></line><line style="stroke:#181818;stroke-width:1;" x1="1580.5459" x2="1459.397" y1="1920.6582" y2="1920.6582"></line><polygon fill="#181818" points="1469.397,1916.6582,1459.397,1920.6582,1469.397,1924.6582,1465.397,1920.6582" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2344.0911" x2="2344.0911" y1="1141.7207" y2="1161.7207"></line><polygon fill="#181818" points="2340.0911,1151.7207,2344.0911,1161.7207,2348.0911,1151.7207,2344.0911,1155.7207" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2344.0911" x2="2344.0911" y1="1196.8145" y2="1216.8145"></line><polygon fill="#181818" points="2340.0911,1206.8145,2344.0911,1216.8145,2348.0911,1206.8145,2344.0911,1210.8145" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2344.0911" x2="2344.0911" y1="1251.9082" y2="1271.9082"></line><polygon fill="#181818" points="2340.0911,1261.9082,2344.0911,1271.9082,2348.0911,1261.9082,2344.0911,1265.9082" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2392.48" x2="2392.48" y1="1450.0957" y2="1470.0957"></line><polygon fill="#181818" points="2388.48,1460.0957,2392.48,1470.0957,2396.48,1460.0957,2392.48,1464.0957" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2427.9393" x2="2392.48" y1="1383.002" y2="1383.002"></line><line style="stroke:#181818;stroke-width:1;" x1="2392.48" x2="2392.48" y1="1383.002" y2="1415.002"></line><polygon fill="#181818" points="2388.48,1405.002,2392.48,1415.002,2396.48,1405.002,2392.48,1409.002" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2279.5323" x2="2201.1841" y1="1339.002" y2="1339.002"></line><line style="stroke:#181818;stroke-width:1;" x1="2201.1841" x2="2201.1841" y1="1339.002" y2="1371.002"></line><polygon fill="#181818" points="2197.1841,1361.002,2201.1841,1371.002,2205.1841,1361.002,2201.1841,1365.002" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2408.65" x2="2486.9981" y1="1339.002" y2="1339.002"></line><line style="stroke:#181818;stroke-width:1;" x1="2486.9981" x2="2486.9981" y1="1339.002" y2="1371.002"></line><polygon fill="#181818" points="2482.9981,1361.002,2486.9981,1371.002,2490.9981,1361.002,2486.9981,1365.002" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2201.1841" x2="2201.1841" y1="1406.0957" y2="1679.377"></line><line style="stroke:#181818;stroke-width:1;" x1="2201.1841" x2="2332.0911" y1="1679.377" y2="1679.377"></line><polygon fill="#181818" points="2322.0911,1675.377,2332.0911,1679.377,2322.0911,1683.377,2326.0911,1679.377" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1684.822" x2="1684.822" y1="1505.1895" y2="1661.377"></line><line style="stroke:#181818;stroke-width:1;" x1="1684.822" x2="2486.9981" y1="1661.377" y2="1661.377"></line><line style="stroke:#181818;stroke-width:1;" x1="2486.9981" x2="2486.9981" y1="1661.377" y2="1679.377"></line><line style="stroke:#181818;stroke-width:1;" x1="2486.9981" x2="2356.0911" y1="1679.377" y2="1679.377"></line><polygon fill="#181818" points="2366.0911,1675.377,2356.0911,1679.377,2366.0911,1683.377,2362.0911,1679.377" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2344.0911" x2="2344.0911" y1="1307.002" y2="1327.002"></line><polygon fill="#181818" points="2340.0911,1317.002,2344.0911,1327.002,2348.0911,1317.002,2344.0911,1321.002" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2745.105" x2="2696.8323" y1="2019.752" y2="2019.752"></line><line style="stroke:#181818;stroke-width:1;" x1="2696.8323" x2="2696.8323" y1="2019.752" y2="2041.752"></line><polygon fill="#181818" points="2692.8323,2031.752,2696.8323,2041.752,2700.8323,2031.752,2696.8323,2035.752" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2808.2227" x2="2856.4954" y1="2019.752" y2="2019.752"></line><line style="stroke:#181818;stroke-width:1;" x1="2856.4954" x2="2856.4954" y1="2019.752" y2="2041.752"></line><polygon fill="#181818" points="2852.4954,2031.752,2856.4954,2041.752,2860.4954,2031.752,2856.4954,2035.752" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2696.8323" x2="2696.8323" y1="2076.8457" y2="2094.8457"></line><line style="stroke:#181818;stroke-width:1;" x1="2696.8323" x2="2764.6639" y1="2094.8457" y2="2094.8457"></line><polygon fill="#181818" points="2754.6639,2090.8457,2764.6639,2094.8457,2754.6639,2098.8457,2758.6639,2094.8457" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2856.4954" x2="2856.4954" y1="2076.8457" y2="2094.8457"></line><line style="stroke:#181818;stroke-width:1;" x1="2856.4954" x2="2788.6639" y1="2094.8457" y2="2094.8457"></line><polygon fill="#181818" points="2798.6639,2090.8457,2788.6639,2094.8457,2798.6639,2098.8457,2794.6639,2094.8457" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2776.6639" x2="2776.6639" y1="1987.752" y2="2007.752"></line><polygon fill="#181818" points="2772.6639,1997.752,2776.6639,2007.752,2780.6639,1997.752,2776.6639,2001.752" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2776.6639" x2="2776.6639" y1="2106.8457" y2="2126.8457"></line><polygon fill="#181818" points="2772.6639,2116.8457,2776.6639,2126.8457,2780.6639,2116.8457,2776.6639,2120.8457" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="264.6476" x2="264.6476" y1="319.0801" y2="324.0801"></line><line style="stroke:#181818;stroke-width:1;" x1="264.6476" x2="1085.873" y1="324.0801" y2="324.0801"></line><line style="stroke:#181818;stroke-width:1;" x1="1085.873" x2="1085.873" y1="324.0801" y2="339.0801"></line><polygon fill="#181818" points="1081.873,329.0801,1085.873,339.0801,1089.873,329.0801,1085.873,333.0801" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="1991.034" y1="739.5488" y2="744.5488"></line><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="808.2847" y1="744.5488" y2="744.5488"></line><line style="stroke:#181818;stroke-width:1;" x1="808.2847" x2="808.2847" y1="744.5488" y2="759.5488"></line><polygon fill="#181818" points="804.2847,749.5488,808.2847,759.5488,812.2847,749.5488,808.2847,753.5488" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1867.7054" x2="1867.7054" y1="1003.9238" y2="1008.9238"></line><line style="stroke:#181818;stroke-width:1;" x1="1867.7054" x2="684.9561" y1="1008.9238" y2="1008.9238"></line><line style="stroke:#181818;stroke-width:1;" x1="684.9561" x2="684.9561" y1="1008.9238" y2="1023.9238"></line><polygon fill="#181818" points="680.9561,1013.9238,684.9561,1023.9238,688.9561,1013.9238,684.9561,1017.9238" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2039.0928" x2="2051.0928" y1="881.7363" y2="881.7363"></line><line style="stroke:#181818;stroke-width:1;" x1="2051.0928" x2="2051.0928" y1="881.7363" y2="899.7363"></line><line style="stroke:#181818;stroke-width:1;" x1="2051.0928" x2="931.6133" y1="899.7363" y2="899.7363"></line><line style="stroke:#181818;stroke-width:1;" x1="931.6133" x2="931.6133" y1="899.7363" y2="913.7363"></line><polygon fill="#181818" points="927.6133,903.7363,931.6133,913.7363,935.6133,903.7363,931.6133,907.7363" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="684.9561" x2="684.9561" y1="1059.0176" y2="1063.0176"></line><line style="stroke:#181818;stroke-width:1;" x1="684.9561" x2="1991.034" y1="1063.0176" y2="1063.0176"></line><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="1991.034" y1="1063.0176" y2="1064.0176"></line><line style="stroke:#181818;stroke-width:1;" x1="808.2847" x2="808.2847" y1="849.7363" y2="854.7363"></line><line style="stroke:#181818;stroke-width:1;" x1="808.2847" x2="1991.034" y1="854.7363" y2="854.7363"></line><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="1991.034" y1="854.7363" y2="869.7363"></line><polygon fill="#181818" points="1987.034,859.7363,1991.034,869.7363,1995.034,859.7363,1991.034,863.7363" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="688.3506" x2="1991.034" y1="494.1738" y2="494.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="1991.034" x2="1991.034" y1="494.1738" y2="526.1738"></line><polygon fill="#181818" points="1987.034,516.1738,1991.034,526.1738,1995.034,516.1738,1991.034,520.1738" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1032.3142" x2="89.2598" y1="406.1738" y2="406.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="89.2598" x2="89.2598" y1="406.1738" y2="438.1738"></line><polygon fill="#181818" points="85.2598,428.1738,89.2598,438.1738,93.2598,428.1738,89.2598,432.1738" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1139.4319" x2="1151.4319" y1="406.1738" y2="406.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="1151.4319" x2="1151.4319" y1="406.1738" y2="424.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="1151.4319" x2="440.0355" y1="424.1738" y2="424.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="440.0355" x2="440.0355" y1="424.1738" y2="438.1738"></line><polygon fill="#181818" points="436.0355,428.1738,440.0355,438.1738,444.0355,428.1738,440.0355,432.1738" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2392.48" x2="2392.48" y1="1505.1895" y2="1510.1895"></line><line style="stroke:#181818;stroke-width:1;" x1="2392.48" x2="1495.7859" y1="1510.1895" y2="1510.1895"></line><line style="stroke:#181818;stroke-width:1;" x1="1495.7859" x2="1495.7859" y1="1510.1895" y2="1525.1895"></line><polygon fill="#181818" points="1491.7859,1515.1895,1495.7859,1525.1895,1499.7859,1515.1895,1495.7859,1519.1895" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2546.0569" x2="2558.0569" y1="1383.002" y2="1383.002"></line><line style="stroke:#181818;stroke-width:1;" x1="2558.0569" x2="2558.0569" y1="1383.002" y2="1401.002"></line><line style="stroke:#181818;stroke-width:1;" x1="2558.0569" x2="1684.822" y1="1401.002" y2="1401.002"></line><line style="stroke:#181818;stroke-width:1;" x1="1684.822" x2="1684.822" y1="1401.002" y2="1415.002"></line><polygon fill="#181818" points="1680.822,1405.002,1684.822,1415.002,1688.822,1405.002,1684.822,1409.002" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="2344.0911" x2="2344.0911" y1="1691.377" y2="1708.377"></line><line style="stroke:#181818;stroke-width:1;" x1="2344.0911" x2="1447.397" y1="1708.377" y2="1708.377"></line><line style="stroke:#181818;stroke-width:1;" x1="1447.397" x2="1447.397" y1="1708.377" y2="1723.377"></line><polygon fill="#181818" points="1443.397,1713.377,1447.397,1723.377,1451.397,1713.377,1447.397,1717.377" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1447.397" x2="1447.397" y1="1932.6582" y2="1937.6582"></line><line style="stroke:#181818;stroke-width:1;" x1="1447.397" x2="2776.6639" y1="1937.6582" y2="1937.6582"></line><line style="stroke:#181818;stroke-width:1;" x1="2776.6639" x2="2776.6639" y1="1937.6582" y2="1952.6582"></line><polygon fill="#181818" points="2772.6639,1942.6582,2776.6639,1952.6582,2780.6639,1942.6582,2776.6639,1946.6582" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="470.4365" y="69.75">潜在用户</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="1048.873" y="69.75">系统校验</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="108" x="1604.3987" y="69.75">系统核心处理</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="54" x="2358.8784" y="69.75">管理员</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="36" x="2763.4954" y="69.75">用户</text><!--SRC=[ZLPDR-9M5DtxLpon0YbLzh2egcwxg5grsmW5P-eg0zGuwQAf11bWI0A1D9240WMFWA6J391E9Y5yX3_3VJQh_eLU-ne3XivaOz3pk-UUT-wzvrcHb5sH_H0HPVQT-4AAAB9VaK91vWy6s5Tx0KbXtygXRJ4IOUxlVvLUxlg3OiGZ20TyL8PoIyktUEhXG8WeVbaHl7fxFBriymyjIAQdwiTfvOrFy89w3SaYBKx6Aezrc7jwsDRQjnkCuY6NsM3GIMgrcFR-o6F4vD8ydkNb31ohlABocoTSvDdSf5yd85rjGQRWGoBQXu4sgFAQEdsNFX2y-DGxCNhD2rsUQVFQ48RPIUyKscbUkEFHjpv1sfbnu5STo3NXuH_2_TB3b9_487FZkaTWp75EnhpyjC7pzowAnZXuVuKRN4XEg_Tzk2EYXCA2k1iHcHkH3H0ZctrIEo45EXEkIJbFQeEiosjbPcmfDsKdSM7OXtwJ26WtJSYbz6QCtnxQ72Qz3ArJv5ekSpOMQFqT36-NUDXCPbmSeBEIzM3y2kfnBPUqeI5LWa6VykbtJNmoDpQNiXVnih0O34Z15vvP4g-Mh_9KZYf1TKS-pFsZVrSAc5tyTIWWphT3zcmQZT5639eCxWsLhgs5yoSyrgODCm_JsrqO5OWIDGbqAtgdm2yRCBxqFKSf2aEkS5pzTuWP7dZLU44iZBx4OvYP7Jfwb_Oztck7Z_1wiCYORJBzwHmI3Pkvx_CopzkVeeZPQYiIXT8Tl-ZImRJZUnwDhPHaonyEow5z_owoaI9R-w8ixKXYmCiKUMzU0CIQHl_KgWsjhI8PEBkoSU4f0MqLgSxthXNKEN-Bz55OT0z4ik49qY6fFHti2sPhDiqNzKvdKn-_vkMgvzaSp72et-ft3KUMXH70b2ZIZh3uZtxfYHOs8tmWXD579TE0PyDEPs2_6TwZ5GT6AvfrDJ9PXhkybRTKg9XzQNIFLZwnnRMsfIxH7itMNpHbiqnOe2D-yhSrV-EIhgRdTJ6wXlPQ7cRwwQINDupaRNorVImq5p_2haswVCAo-j0yXCGDP7i42jcETd4szonACYr7qQHqjG69XFunpY-AwzfqbedyR76tQpx-vZrau9cl8OcgF3vZM3uv02z3ihWb1NT2MxBuovuaYu4Llw6M7nG9WBbNENh-npP99WtJOx-T_A4DAixpqghpZBGAfrKerNnh-kxtXMjpyRpcFMNFvdbcCYgZnhFoENN_f2va269Wm_03_xOYxOiBRc19uoA7DovVIk7Gocfnmtwf2ybocTlyCFacP5m5f9H-qZ2PaXoVPIUBFulRYbMhPJBwcsiBPQLmqsASDFKyYzXik2tpyA9ZGAfhJUBWdFzLfWpqDMABi28p3JsQ_sGqHZ0g7FgT_chaM_xEy69GxH4_UGYOvbShzQ2VfshQj8n6-my0]--></g></svg></p><h3 id="72-广告创建与发布流程-带泳道">7.2 广告创建与发布流程 (带泳道) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="ACTIVITY" height="2263px" preserveAspectRatio="none" style="width:1691px;height:2263px;background:#FFFFFF;" version="1.1" viewBox="0 0 1691 2263" width="1691px" zoomAndPan="magnify"><title>Advertisement Creation and Publishing Process (Swimlanes)</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="406.1025" x="641.293" y="34.5332">Advertisement Creation and Publishing Process (Swimlanes)</text><rect fill="none" height="22.6406" style="stroke:none;stroke-width:1;" width="1658.6885" x="15" y="51.0645"></rect><ellipse cx="339.0798" cy="88.7051" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="305.0798" y="118.7051"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="315.0798" y="141.1621">登录系统</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="112.5195" x="282.8201" y="173.7988"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92.5195" x="292.8201" y="196.2559">导航至"广告管理"</text><polygon fill="#F1F1F1" points="292.021,228.8926,386.1387,228.8926,398.1387,240.8926,386.1387,252.8926,292.021,252.8926,280.021,240.8926,292.021,228.8926" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94.1177" x="292.021" y="245.3936">选择已有广告活动?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="269.021" y="238.4756">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="398.1387" y="238.4756">否，创建新活动</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="217.0391" x="21" y="272.8926"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="197.0391" x="31" y="295.3496">选择一个"进行中"或"草稿"的广告活动</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="136.5195" x="480.3804" y="272.8926"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="116.5195" x="490.3804" y="295.3496">点击"创建新广告活动"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="200.6621" x="448.3091" y="327.9863"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180.6621" x="458.3091" y="350.4434">填写活动信息 (名称, 预算, 时间等)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="502.6401" y="383.0801"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="512.6401" y="405.5371">提交活动创建</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="148.5195" x="344.8467" y="592.3613"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="128.5195" x="354.8467" y="614.8184">接收"活动创建成功"提示</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="590.1738" y="537.2676"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="600.1738" y="559.7246">接收错误提示，修改活动信息</text><ellipse cx="678.1738" cy="603.3613" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="678.1738" cy="603.3613" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><polygon fill="#F1F1F1" points="339.0798,637.4551,351.0798,649.4551,339.0798,661.4551,327.0798,649.4551,339.0798,637.4551" style="stroke:#181818;stroke-width:0.5;"></polygon><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="223.8535" x="227.1531" y="681.4551"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="203.8535" x="237.1531" y="703.9121">在选定/新建的活动下点击"创建新广告"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="358.0039" x="160.0779" y="736.5488"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="338.0039" x="170.0779" y="759.0059">填写广告详情 (名称, 选择广告位, 日预算, 目标URL, 投放时段等)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="181.9941" x="248.0828" y="791.6426"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="161.9941" x="258.0828" y="814.0996">上传广告素材 (图片/视频/文本)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="127.3262" x="275.4167" y="846.7363"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107.3262" x="285.4167" y="869.1934">预览广告效果 (可选)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="305.0798" y="901.8301"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="315.0798" y="924.2871">提交广告</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="208.5195" x="59.1208" y="1276.3926"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="188.5195" x="69.1208" y="1298.8496">接收"广告提交成功，等待审核"提示</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="308.6621" x="360.448" y="1056.0176"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="288.6621" x="370.448" y="1078.4746">接收错误提示 (如预算不足, 素材格式错误, 信息不全等)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="450.7791" y="1111.1113"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="460.7791" y="1133.5684">修改广告信息或素材</text><ellipse cx="514.7791" cy="1177.2051" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="514.7791" cy="1177.2051" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="124.2151" y="2085.127"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="134.2151" y="2107.584">收到广告批准通知</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="118.2151" y="2140.2207"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="128.2151" y="2162.6777">广告按计划开始投放</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="167.2402" x="412.3245" y="1864.752"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147.2402" x="422.3245" y="1887.209">更新 Ad status 为 "rejected"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="308.3984" x="341.7454" y="1919.8457"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="288.3984" x="351.7454" y="1942.3027">创建 AuditLog (entity_type='Ad', action: reject, reason)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="199.3262" x="396.2815" y="1974.9395"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179.3262" x="406.2815" y="1997.3965">通知广告主广告被拒绝 (附带原因)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="437.9446" y="2030.0332"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="447.9446" y="2052.4902">收到广告拒绝通知</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="401.9446" y="2085.127"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="411.9446" y="2107.584">可根据原因修改广告后重新提交</text><ellipse cx="339.0798" cy="2240.3145" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="339.0798" cy="2240.3145" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><line style="stroke:#000000;stroke-width:1.5;" x1="15" x2="15" y1="51.0645" y2="2251.3145"></line><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="1236.1292" y="438.1738"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="1246.1292" y="460.6309">校验活动数据</text><polygon fill="#F1F1F1" points="1246.0703,493.2676,1318.188,493.2676,1330.188,505.2676,1318.188,517.2676,1246.0703,517.2676,1234.0703,505.2676,1246.0703,493.2676" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72.1177" x="1246.0703" y="509.7686">活动数据有效?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1223.0703" y="502.8506">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1330.188" y="502.8506">否</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="302.1348" x="1001.5281" y="537.2676"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="282.1348" x="1011.5281" y="559.7246">创建 Campaign 记录 (status: draft/pending_approval)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1008.5688" y="956.9238"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="1018.5688" y="979.3809">校验广告数据与素材</text><polygon fill="#F1F1F1" points="918.8696,1012.0176,1226.2681,1012.0176,1238.2681,1024.0176,1226.2681,1036.0176,918.8696,1036.0176,906.8696,1024.0176,918.8696,1012.0176" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="307.3984" x="918.8696" y="1028.5186">广告数据有效 且 活动预算充足/广告预算设置合理 且 素材合规?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="895.8696" y="1021.6006">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1238.2681" y="1021.6006">否</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="234.7695" x="779.4849" y="1056.0176"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="214.7695" x="789.4849" y="1078.4746">创建 Ad 记录 (status: pending_approval)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="225.418" x="784.1606" y="1111.1113"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="205.418" x="794.1606" y="1133.5684">关联 Ad 到 Campaign 和 AdPlacement</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="850.8696" y="1166.2051"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="860.8696" y="1188.6621">保存素材文件</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="820.8696" y="1221.2988"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="830.8696" y="1243.7559">通知管理员新广告待审核</text><polygon fill="#F1F1F1" points="1021.6052,1820.752,1123.5325,1820.752,1135.5325,1832.752,1123.5325,1844.752,1021.6052,1844.752,1009.6052,1832.752,1021.6052,1820.752" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101.9272" x="1021.6052" y="1837.2529">管理员操作是"批准"?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="998.6052" y="1830.335">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51.8096" x="1135.5325" y="1830.335">若是"拒绝"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="155.8965" x="837.7559" y="1864.752"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135.8965" x="847.7559" y="1887.209">更新 Ad status 为 "active"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="279.0605" x="776.1738" y="1919.8457"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="259.0605" x="786.1738" y="1942.3027">创建 AuditLog (entity_type='Ad', action: approve)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="845.7041" y="1974.9395"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="855.7041" y="1997.3965">通知广告主广告已批准</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="821.7041" y="2030.0332"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="168" x="831.7041" y="2052.4902">根据投放时间自动开始投放广告</text><polygon fill="#F1F1F1" points="1072.5688,2185.3145,1084.5688,2197.3145,1072.5688,2209.3145,1060.5688,2197.3145,1072.5688,2185.3145" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="770.1738" x2="770.1738" y1="51.0645" y2="2251.3145"></line><rect fill="none" height="479.2656" style="stroke:#000000;stroke-width:1.5;" width="316" x="1352.188" y="1321.4863"></rect><path d="M1418.188,1321.4863 L1418.188,1332.0957 L1408.188,1342.0957 L1352.188,1342.0957" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1355.188" y="1337.0195">广告审核</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1476.188" y="1359.0957"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="1486.188" y="1381.5527">登录系统</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="124.5195" x="1447.9282" y="1414.1895"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104.5195" x="1457.9282" y="1436.6465">访问"广告审核"模块</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="259.3262" x="1380.5249" y="1469.2832"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="239.3262" x="1390.5249" y="1491.7402">查看待审核广告列表 (含广告详情、素材预览)</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1452.188" y="1524.377"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="1462.188" y="1546.834">选择广告进行审核</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="296" x="1362.188" y="1579.4707"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="276" x="1372.188" y="1601.9277">检查广告内容、素材合规性、目标链接安全性及设置</text><polygon fill="#F1F1F1" points="1485.1292,1634.5645,1535.2468,1634.5645,1547.2468,1646.5645,1535.2468,1658.5645,1485.1292,1658.5645,1473.1292,1646.5645,1485.1292,1634.5645" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50.1177" x="1485.1292" y="1651.0654">批准广告?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="1462.1292" y="1644.1475">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42.7754" x="1547.2468" y="1644.1475">否 - 拒绝</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76.5195" x="1409.9282" y="1668.5645"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56.5195" x="1419.9282" y="1691.0215">选择"批准"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1408.188" y="1723.6582"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="1418.188" y="1746.1152">可添加备注</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="76.5195" x="1533.9282" y="1668.5645"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56.5195" x="1543.9282" y="1691.0215">选择"拒绝"</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1508.188" y="1723.6582"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="1518.188" y="1746.1152">填写明确的拒绝原因</text><polygon fill="#F1F1F1" points="1510.188,1764.752,1522.188,1776.752,1510.188,1788.752,1498.188,1776.752,1510.188,1764.752" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="1346.188" x2="1346.188" y1="51.0645" y2="2251.3145"></line><line style="stroke:#000000;stroke-width:1.5;" x1="1672.188" x2="1672.188" y1="51.0645" y2="2251.3145"></line><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="98.7051" y2="118.7051"></line><polygon fill="#181818" points="335.0798,108.7051,339.0798,118.7051,343.0798,108.7051,339.0798,112.7051" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="153.7988" y2="173.7988"></line><polygon fill="#181818" points="335.0798,163.7988,339.0798,173.7988,343.0798,163.7988,339.0798,167.7988" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="548.6401" x2="548.6401" y1="307.9863" y2="327.9863"></line><polygon fill="#181818" points="544.6401,317.9863,548.6401,327.9863,552.6401,317.9863,548.6401,321.9863" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="548.6401" x2="548.6401" y1="363.0801" y2="383.0801"></line><polygon fill="#181818" points="544.6401,373.0801,548.6401,383.0801,552.6401,373.0801,548.6401,377.0801" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="678.1738" x2="678.1738" y1="572.3613" y2="592.3613"></line><polygon fill="#181818" points="674.1738,582.3613,678.1738,592.3613,682.1738,582.3613,678.1738,586.3613" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="280.021" x2="129.5195" y1="240.8926" y2="240.8926"></line><line style="stroke:#181818;stroke-width:1;" x1="129.5195" x2="129.5195" y1="240.8926" y2="272.8926"></line><polygon fill="#181818" points="125.5195,262.8926,129.5195,272.8926,133.5195,262.8926,129.5195,266.8926" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="398.1387" x2="548.6401" y1="240.8926" y2="240.8926"></line><line style="stroke:#181818;stroke-width:1;" x1="548.6401" x2="548.6401" y1="240.8926" y2="272.8926"></line><polygon fill="#181818" points="544.6401,262.8926,548.6401,272.8926,552.6401,262.8926,548.6401,266.8926" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="129.5195" x2="129.5195" y1="307.9863" y2="649.4551"></line><line style="stroke:#181818;stroke-width:1;" x1="129.5195" x2="327.0798" y1="649.4551" y2="649.4551"></line><polygon fill="#181818" points="317.0798,645.4551,327.0798,649.4551,317.0798,653.4551,321.0798,649.4551" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="208.8926" y2="228.8926"></line><polygon fill="#181818" points="335.0798,218.8926,339.0798,228.8926,343.0798,218.8926,339.0798,222.8926" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="661.4551" y2="681.4551"></line><polygon fill="#181818" points="335.0798,671.4551,339.0798,681.4551,343.0798,671.4551,339.0798,675.4551" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="716.5488" y2="736.5488"></line><polygon fill="#181818" points="335.0798,726.5488,339.0798,736.5488,343.0798,726.5488,339.0798,730.5488" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="771.6426" y2="791.6426"></line><polygon fill="#181818" points="335.0798,781.6426,339.0798,791.6426,343.0798,781.6426,339.0798,785.6426" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="826.7363" y2="846.7363"></line><polygon fill="#181818" points="335.0798,836.7363,339.0798,846.7363,343.0798,836.7363,339.0798,840.7363" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="881.8301" y2="901.8301"></line><polygon fill="#181818" points="335.0798,891.8301,339.0798,901.8301,343.0798,891.8301,339.0798,895.8301" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="514.7791" x2="514.7791" y1="1091.1113" y2="1111.1113"></line><polygon fill="#181818" points="510.7791,1101.1113,514.7791,1111.1113,518.7791,1101.1113,514.7791,1105.1113" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="514.7791" x2="514.7791" y1="1146.2051" y2="1166.2051"></line><polygon fill="#181818" points="510.7791,1156.2051,514.7791,1166.2051,518.7791,1156.2051,514.7791,1160.2051" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="182.2151" x2="182.2151" y1="2120.2207" y2="2140.2207"></line><polygon fill="#181818" points="178.2151,2130.2207,182.2151,2140.2207,186.2151,2130.2207,182.2151,2134.2207" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="495.9446" x2="495.9446" y1="1899.8457" y2="1919.8457"></line><polygon fill="#181818" points="491.9446,1909.8457,495.9446,1919.8457,499.9446,1909.8457,495.9446,1913.8457" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="495.9446" x2="495.9446" y1="1954.9395" y2="1974.9395"></line><polygon fill="#181818" points="491.9446,1964.9395,495.9446,1974.9395,499.9446,1964.9395,495.9446,1968.9395" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="495.9446" x2="495.9446" y1="2010.0332" y2="2030.0332"></line><polygon fill="#181818" points="491.9446,2020.0332,495.9446,2030.0332,499.9446,2020.0332,495.9446,2024.0332" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="495.9446" x2="495.9446" y1="2065.127" y2="2085.127"></line><polygon fill="#181818" points="491.9446,2075.127,495.9446,2085.127,499.9446,2075.127,495.9446,2079.127" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1234.0703" x2="1152.5955" y1="505.2676" y2="505.2676"></line><line style="stroke:#181818;stroke-width:1;" x1="1152.5955" x2="1152.5955" y1="505.2676" y2="537.2676"></line><polygon fill="#181818" points="1148.5955,527.2676,1152.5955,537.2676,1156.5955,527.2676,1152.5955,531.2676" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1282.1292" x2="1282.1292" y1="473.2676" y2="493.2676"></line><polygon fill="#181818" points="1278.1292,483.2676,1282.1292,493.2676,1286.1292,483.2676,1282.1292,487.2676" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="896.8696" x2="896.8696" y1="1091.1113" y2="1111.1113"></line><polygon fill="#181818" points="892.8696,1101.1113,896.8696,1111.1113,900.8696,1101.1113,896.8696,1105.1113" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="896.8696" x2="896.8696" y1="1146.2051" y2="1166.2051"></line><polygon fill="#181818" points="892.8696,1156.2051,896.8696,1166.2051,900.8696,1156.2051,896.8696,1160.2051" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="896.8696" x2="896.8696" y1="1201.2988" y2="1221.2988"></line><polygon fill="#181818" points="892.8696,1211.2988,896.8696,1221.2988,900.8696,1211.2988,896.8696,1215.2988" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="906.8696" x2="896.8696" y1="1024.0176" y2="1024.0176"></line><line style="stroke:#181818;stroke-width:1;" x1="896.8696" x2="896.8696" y1="1024.0176" y2="1056.0176"></line><polygon fill="#181818" points="892.8696,1046.0176,896.8696,1056.0176,900.8696,1046.0176,896.8696,1050.0176" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1072.5688" x2="1072.5688" y1="992.0176" y2="1012.0176"></line><polygon fill="#181818" points="1068.5688,1002.0176,1072.5688,1012.0176,1076.5688,1002.0176,1072.5688,1006.0176" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="915.7041" x2="915.7041" y1="1899.8457" y2="1919.8457"></line><polygon fill="#181818" points="911.7041,1909.8457,915.7041,1919.8457,919.7041,1909.8457,915.7041,1913.8457" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="915.7041" x2="915.7041" y1="1954.9395" y2="1974.9395"></line><polygon fill="#181818" points="911.7041,1964.9395,915.7041,1974.9395,919.7041,1964.9395,915.7041,1968.9395" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="915.7041" x2="915.7041" y1="2010.0332" y2="2030.0332"></line><polygon fill="#181818" points="911.7041,2020.0332,915.7041,2030.0332,919.7041,2020.0332,915.7041,2024.0332" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1009.6052" x2="915.7041" y1="1832.752" y2="1832.752"></line><line style="stroke:#181818;stroke-width:1;" x1="915.7041" x2="915.7041" y1="1832.752" y2="1864.752"></line><polygon fill="#181818" points="911.7041,1854.752,915.7041,1864.752,919.7041,1854.752,915.7041,1858.752" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1510.188" x2="1510.188" y1="1394.1895" y2="1414.1895"></line><polygon fill="#181818" points="1506.188,1404.1895,1510.188,1414.1895,1514.188,1404.1895,1510.188,1408.1895" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1510.188" x2="1510.188" y1="1449.2832" y2="1469.2832"></line><polygon fill="#181818" points="1506.188,1459.2832,1510.188,1469.2832,1514.188,1459.2832,1510.188,1463.2832" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1510.188" x2="1510.188" y1="1504.377" y2="1524.377"></line><polygon fill="#181818" points="1506.188,1514.377,1510.188,1524.377,1514.188,1514.377,1510.188,1518.377" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1510.188" x2="1510.188" y1="1559.4707" y2="1579.4707"></line><polygon fill="#181818" points="1506.188,1569.4707,1510.188,1579.4707,1514.188,1569.4707,1510.188,1573.4707" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1448.188" x2="1448.188" y1="1703.6582" y2="1723.6582"></line><polygon fill="#181818" points="1444.188,1713.6582,1448.188,1723.6582,1452.188,1713.6582,1448.188,1717.6582" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1572.188" x2="1572.188" y1="1703.6582" y2="1723.6582"></line><polygon fill="#181818" points="1568.188,1713.6582,1572.188,1723.6582,1576.188,1713.6582,1572.188,1717.6582" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1473.1292" x2="1448.188" y1="1646.5645" y2="1646.5645"></line><line style="stroke:#181818;stroke-width:1;" x1="1448.188" x2="1448.188" y1="1646.5645" y2="1668.5645"></line><polygon fill="#181818" points="1444.188,1658.5645,1448.188,1668.5645,1452.188,1658.5645,1448.188,1662.5645" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1547.2468" x2="1572.188" y1="1646.5645" y2="1646.5645"></line><line style="stroke:#181818;stroke-width:1;" x1="1572.188" x2="1572.188" y1="1646.5645" y2="1668.5645"></line><polygon fill="#181818" points="1568.188,1658.5645,1572.188,1668.5645,1576.188,1658.5645,1572.188,1662.5645" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1448.188" x2="1448.188" y1="1758.752" y2="1776.752"></line><line style="stroke:#181818;stroke-width:1;" x1="1448.188" x2="1498.188" y1="1776.752" y2="1776.752"></line><polygon fill="#181818" points="1488.188,1772.752,1498.188,1776.752,1488.188,1780.752,1492.188,1776.752" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1572.188" x2="1572.188" y1="1758.752" y2="1776.752"></line><line style="stroke:#181818;stroke-width:1;" x1="1572.188" x2="1522.188" y1="1776.752" y2="1776.752"></line><polygon fill="#181818" points="1532.188,1772.752,1522.188,1776.752,1532.188,1780.752,1528.188,1776.752" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1510.188" x2="1510.188" y1="1614.5645" y2="1634.5645"></line><polygon fill="#181818" points="1506.188,1624.5645,1510.188,1634.5645,1514.188,1624.5645,1510.188,1628.5645" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="548.6401" x2="548.6401" y1="418.1738" y2="423.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="548.6401" x2="1282.1292" y1="423.1738" y2="423.1738"></line><line style="stroke:#181818;stroke-width:1;" x1="1282.1292" x2="1282.1292" y1="423.1738" y2="438.1738"></line><polygon fill="#181818" points="1278.1292,428.1738,1282.1292,438.1738,1286.1292,428.1738,1282.1292,432.1738" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1152.5955" x2="1152.5955" y1="572.3613" y2="577.3613"></line><line style="stroke:#181818;stroke-width:1;" x1="1152.5955" x2="419.1064" y1="577.3613" y2="577.3613"></line><line style="stroke:#181818;stroke-width:1;" x1="419.1064" x2="419.1064" y1="577.3613" y2="592.3613"></line><polygon fill="#181818" points="415.1064,582.3613,419.1064,592.3613,423.1064,582.3613,419.1064,586.3613" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1330.188" x2="1342.188" y1="505.2676" y2="505.2676"></line><line style="stroke:#181818;stroke-width:1;" x1="1342.188" x2="1342.188" y1="505.2676" y2="523.2676"></line><line style="stroke:#181818;stroke-width:1;" x1="1342.188" x2="678.1738" y1="523.2676" y2="523.2676"></line><line style="stroke:#181818;stroke-width:1;" x1="678.1738" x2="678.1738" y1="523.2676" y2="537.2676"></line><polygon fill="#181818" points="674.1738,527.2676,678.1738,537.2676,682.1738,527.2676,678.1738,531.2676" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="419.1064" x2="419.1064" y1="627.4551" y2="649.4551"></line><line style="stroke:#181818;stroke-width:1;" x1="419.1064" x2="351.0798" y1="649.4551" y2="649.4551"></line><polygon fill="#181818" points="361.0798,645.4551,351.0798,649.4551,361.0798,653.4551,357.0798,649.4551" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="936.9238" y2="941.9238"></line><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="1072.5688" y1="941.9238" y2="941.9238"></line><line style="stroke:#181818;stroke-width:1;" x1="1072.5688" x2="1072.5688" y1="941.9238" y2="956.9238"></line><polygon fill="#181818" points="1068.5688,946.9238,1072.5688,956.9238,1076.5688,946.9238,1072.5688,950.9238" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="896.8696" x2="896.8696" y1="1256.3926" y2="1261.3926"></line><line style="stroke:#181818;stroke-width:1;" x1="896.8696" x2="163.3806" y1="1261.3926" y2="1261.3926"></line><line style="stroke:#181818;stroke-width:1;" x1="163.3806" x2="163.3806" y1="1261.3926" y2="1276.3926"></line><polygon fill="#181818" points="159.3806,1266.3926,163.3806,1276.3926,167.3806,1266.3926,163.3806,1270.3926" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1238.2681" x2="1250.2681" y1="1024.0176" y2="1024.0176"></line><line style="stroke:#181818;stroke-width:1;" x1="1250.2681" x2="1250.2681" y1="1024.0176" y2="1042.0176"></line><line style="stroke:#181818;stroke-width:1;" x1="1250.2681" x2="514.7791" y1="1042.0176" y2="1042.0176"></line><line style="stroke:#181818;stroke-width:1;" x1="514.7791" x2="514.7791" y1="1042.0176" y2="1056.0176"></line><polygon fill="#181818" points="510.7791,1046.0176,514.7791,1056.0176,518.7791,1046.0176,514.7791,1050.0176" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="163.3806" x2="163.3806" y1="1311.4863" y2="1322.791"></line><line style="stroke:#181818;stroke-width:1;" x1="163.3806" x2="1510.188" y1="1322.791" y2="1322.791"></line><line style="stroke:#181818;stroke-width:1;" x1="1510.188" x2="1510.188" y1="1322.791" y2="1359.0957"></line><polygon fill="#181818" points="1506.188,1349.0957,1510.188,1359.0957,1514.188,1349.0957,1510.188,1353.0957" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="915.7041" x2="915.7041" y1="2065.127" y2="2070.127"></line><line style="stroke:#181818;stroke-width:1;" x1="915.7041" x2="182.2151" y1="2070.127" y2="2070.127"></line><line style="stroke:#181818;stroke-width:1;" x1="182.2151" x2="182.2151" y1="2070.127" y2="2085.127"></line><polygon fill="#181818" points="178.2151,2075.127,182.2151,2085.127,186.2151,2075.127,182.2151,2079.127" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1135.5325" x2="1147.5325" y1="1832.752" y2="1832.752"></line><line style="stroke:#181818;stroke-width:1;" x1="1147.5325" x2="1147.5325" y1="1832.752" y2="1850.752"></line><line style="stroke:#181818;stroke-width:1;" x1="1147.5325" x2="495.9446" y1="1850.752" y2="1850.752"></line><line style="stroke:#181818;stroke-width:1;" x1="495.9446" x2="495.9446" y1="1850.752" y2="1864.752"></line><polygon fill="#181818" points="491.9446,1854.752,495.9446,1864.752,499.9446,1854.752,495.9446,1858.752" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="182.2151" x2="182.2151" y1="2175.3145" y2="2197.3145"></line><line style="stroke:#181818;stroke-width:1;" x1="182.2151" x2="1060.5688" y1="2197.3145" y2="2197.3145"></line><polygon fill="#181818" points="1050.5688,2193.3145,1060.5688,2197.3145,1050.5688,2201.3145,1054.5688,2197.3145" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="495.9446" x2="495.9446" y1="2120.2207" y2="2179.3145"></line><line style="stroke:#181818;stroke-width:1;" x1="495.9446" x2="1102.5688" y1="2179.3145" y2="2179.3145"></line><line style="stroke:#181818;stroke-width:1;" x1="1102.5688" x2="1102.5688" y1="2179.3145" y2="2197.3145"></line><line style="stroke:#181818;stroke-width:1;" x1="1102.5688" x2="1084.5688" y1="2197.3145" y2="2197.3145"></line><polygon fill="#181818" points="1094.5688,2193.3145,1084.5688,2197.3145,1094.5688,2201.3145,1090.5688,2197.3145" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1510.188" x2="1510.188" y1="1788.752" y2="1805.752"></line><line style="stroke:#181818;stroke-width:1;" x1="1510.188" x2="1072.5688" y1="1805.752" y2="1805.752"></line><line style="stroke:#181818;stroke-width:1;" x1="1072.5688" x2="1072.5688" y1="1805.752" y2="1820.752"></line><polygon fill="#181818" points="1068.5688,1810.752,1072.5688,1820.752,1076.5688,1810.752,1072.5688,1814.752" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1072.5688" x2="1072.5688" y1="2209.3145" y2="2214.3145"></line><line style="stroke:#181818;stroke-width:1;" x1="1072.5688" x2="339.0798" y1="2214.3145" y2="2214.3145"></line><line style="stroke:#181818;stroke-width:1;" x1="339.0798" x2="339.0798" y1="2214.3145" y2="2229.3145"></line><polygon fill="#181818" points="335.0798,2219.3145,339.0798,2229.3145,343.0798,2219.3145,339.0798,2223.3145" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="54" x="365.5869" y="69.75">广告主</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="36" x="1040.1809" y="69.75">系统</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="54" x="1482.188" y="69.75">管理员</text><!--SRC=[bLPHJo9N57wVNt4pBmi9ZU-GfZ7xkW-ccpvlfZAwqo0G66qsjGbkHGOGHHSN5QpWgb2jWwdM7GNbntJkdU6fVw7dtZECushSz4NYkUUSU-vtlky3NTCJAfcCBwWPNSkgSsfI9oypgg9hgIHHad4oDVzZGik-rPApP2gJcbQpMH9w_RCsbr2IQZOiBTBh8TqesLP_KShgIaQNeivEdzvkEHTzfxyVawAqDt2D4xTm8MEgOxQTweeSaxGP4XhbYgpy1_ty5siMyPXTzccf-rsOw6_L90cnxLvO8YIAYRQLiwqJsHqstFQgRPt9pFWekvMYqntApkvoi4DCKXDPbOHezVZVmIer6hH_mpwUuw5ewRo_feM-x1y5gs4yoA3jKxgoWn5xs6PBFTwludJE8sHqiEoOzGXXzQjH_T8vAuP52LklsZU7M8ATUNWHqLWK6Qtsw6GLCzZMEQkOF8E34Om17cpB-186FfDeIbugSsb5cqqIrpm7j4a8mDVdir4IpoWp-aHQJSPXPM-KT3gJMb0IOZYO8x0jqOsj7R7QbHoSbnbLMjgNuI7EeHZUnp7yN8zHRSVjzR0A0BU79gjT1w732R9wAirxmdWp4lwDqcONralDtGc-XVuDRD8hjCfFBqdcl1BBmV_TtZ7xBHzO3j8A1xsjy2qTZHVcD4pMAlpm_Ik8bhPOxGusoCo_SODHsohPWvR7rCiMswj2ryQTKonCk9sLqS46p5XWpJzvBdHqEuP7cos3_Tw4tFKUNCvFaGbu6fCadm8U0SPbVDcsjOPteIY2HyW3ObirWfZWCsW-xrvTJ60cXbpppharQTK0TObyR0a1jxFyI4yUZIRZZmZq97MYD7_XBjLuFZNExzb7DrSXDfLGfeLrY5Hxk4VFjl5s0ClkNyLGmRlE_X6gdsvi-xkaTtbgjbdB4a9vGAunFJr0K5g2di0mM9XVwhFr0LUVR1RaAMGUlqVqRAi2W4Oyq5XhG0Vhc1eXo5_8eFckBtGak7U3I00l6c_Hupdo6rO_VlIYb0QBr8IvUg_o7a1-4PRqm3eXu9h3KTrycCgwRRfNHxS1G9jb7mOlpQYxxIv7uJIeZdzoIpWUqZOSkxTLBqsuwlqkeknJ3Yxmcgx07TT-3sGLotLuH0XgzE4E0APc4K22E5ql8I5zSok2a5UmsHEsXeF8c2N7FAzRxx7FGFeMFIomY-u3CoBV45RUTFfxNpGGCRy16lZscjCskQk8GxgsJnkjcEz2lmR4oIUzf-Y7YdtRX1d7OprI4MjS0e-vAb0zeBiR8YlJkhQWUbyXdixcuvh-AZLBGg0IJN_tHd-NLhzzCHb_4I4yFPMC4XIS6WwenIUmjmJudXIJu7fQrzmWnXu6tq9kuOJR-217EsMCZ-tdiHXgLo1aJrYY9zw8GsDujUYQRMfi1XkE9UQMZmGm2FSpO6JKdzHfNOt_RpYmC0AVIZQLV0OLz-0Knu2V4plBr3h61OU_zcfH4tmri4r0YlL1WTFgsgXGuJyVX0V5F6LpaVy7]--></g></svg></p><h3 id="73-发票申请与处理流程-带泳道">7.3 发票申请与处理流程 (带泳道) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="ACTIVITY" height="2294px" preserveAspectRatio="none" style="width:1281px;height:2294px;background:#FFFFFF;" version="1.1" viewBox="0 0 1281 2294" width="1281px" zoomAndPan="magnify"><title>Invoice Application Process</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="186.7236" x="545.6847" y="34.5332">Invoice Application Process</text><rect fill="none" height="22.6406" style="stroke:none;stroke-width:1;" width="1248.093" x="15" y="51.0645"></rect><ellipse cx="132" cy="88.7051" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="98" y="118.7051"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="108" y="141.1621">登录系统</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="143.9961" x="60.002" y="173.7988"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123.9961" x="70.002" y="196.2559">进入财务管理-发票管理</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="80" y="228.8926"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="90" y="251.3496">查看可开票金额</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="86" y="332.9043"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="96" y="355.3613">进入抬头管理</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="86" y="443.0918"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="96" y="465.5488">返回申请页面</text><polygon fill="#F1F1F1" points="95.9412,283.9863,168.0588,283.9863,180.0588,295.9863,168.0588,307.9863,95.9412,307.9863,83.9412,295.9863,95.9412,283.9863" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="136" y="319.4053">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72.1177" x="95.9412" y="300.4873">需要管理抬头?</text><polygon fill="#F1F1F1" points="132,498.1855,144,510.1855,132,522.1855,120,510.1855,132,498.1855" style="stroke:#181818;stroke-width:0.5;"></polygon><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="80" y="542.1855"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="90" y="564.6426">点击申请新发票</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="86" y="597.2793"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="96" y="619.7363">选择发票抬头</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="86" y="652.373"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="96" y="674.8301">填写申请信息</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="86" y="707.4668"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="96" y="729.9238">选择关联交易</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="98" y="762.5605"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="108" y="785.0176">提交申请</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="21" y="1026.9355"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="31" y="1049.3926">收到待处理提示</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="145" y="916.748"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="155" y="939.2051">收到错误提示</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="157" y="971.8418"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="167" y="994.2988">修改信息</text><ellipse cx="191" cy="1037.9355" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="191" cy="1037.9355" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><line style="stroke:#000000;stroke-width:1.5;" x1="15" x2="15" y1="51.0645" y2="2282.2842"></line><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="475.2317" y="387.998"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="485.2317" y="410.4551">保存抬头数据</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="475.2317" y="817.6543"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="485.2317" y="840.1113">校验申请数据</text><polygon fill="#F1F1F1" points="496.1729,872.748,546.2905,872.748,558.2905,884.748,546.2905,896.748,496.1729,896.748,484.1729,884.748,496.1729,872.748" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50.1177" x="496.1729" y="889.249">数据有效?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="473.1729" y="882.3311">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="558.2905" y="882.3311">否</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="416.2317" y="916.748"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="426.2317" y="939.2051">创建发票记录</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="422.2317" y="971.8418"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="432.2317" y="994.2988">通知管理员</text><polygon fill="#F1F1F1" points="490.6729,1531.6855,551.7905,1531.6855,563.7905,1543.6855,551.7905,1555.6855,490.6729,1555.6855,478.6729,1543.6855,490.6729,1531.6855" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61.1177" x="490.6729" y="1548.1865">操作是批准?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39.1123" x="439.5605" y="1541.2686">是: 批准</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39.1123" x="563.7905" y="1541.2686">是: 拒绝</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="346.5588" y="1575.6855"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="356.5588" y="1598.1426">更新状态为处理中</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="370.5588" y="1630.7793"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="380.5588" y="1653.2363">通知用户</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="135.3652" x="336.8762" y="1851.1543"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115.3652" x="346.8762" y="1873.6113">更新状态为completed</text><polygon fill="#F1F1F1" points="268,1906.248,329.1177,1906.248,341.1177,1918.248,329.1177,1930.248,268,1930.248,256,1918.248,268,1906.248" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="302.5588" y="1941.667">电子发票</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61.1177" x="268" y="1922.749">是电子发票?</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="252.5588" y="1964.084"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="262.5588" y="1986.541">发送电子发票</text><polygon fill="#F1F1F1" points="380,1906.248,441.1177,1906.248,453.1177,1918.248,441.1177,1930.248,380,1930.248,368,1918.248,380,1906.248" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="414.5588" y="1941.667">纸质发票</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61.1177" x="380" y="1922.749">是纸质发票?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69.0562" x="453.1177" y="1915.8311">其他/通知完成</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="364.5588" y="1964.084"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="374.5588" y="1986.541">记录邮寄信息</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="476.5588" y="1960.166"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="486.5588" y="1982.623">通知已完成</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="122.6914" x="576.5588" y="1575.6855"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102.6914" x="586.5588" y="1598.1426">更新状态为rejected</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="603.9045" y="1630.7793"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="613.9045" y="1653.2363">通知用户</text><polygon fill="#F1F1F1" points="521.2317,2029.1777,533.2317,2041.1777,521.2317,2053.1777,509.2317,2041.1777,521.2317,2029.1777" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="241" x2="241" y1="51.0645" y2="2282.2842"></line><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="753.2502" y="1082.0293"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="763.2502" y="1104.4863">登录系统</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="741.2502" y="1137.123"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="751.2502" y="1159.5801">进入发票审批</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104" x="735.2502" y="1192.2168"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="745.2502" y="1214.6738">查看待处理列表</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="741.2502" y="1247.3105"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="751.2502" y="1269.7676">选择发票处理</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="747.2502" y="1302.4043"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="757.2502" y="1324.8613">审核合规性</text><polygon fill="#F1F1F1" points="773.1914,1357.498,801.3091,1357.498,813.3091,1369.498,801.3091,1381.498,773.1914,1381.498,761.1914,1369.498,773.1914,1357.498" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28.1177" x="773.1914" y="1373.999">批准?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="750.1914" y="1367.0811">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="813.3091" y="1367.0811">否</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="709.2502" y="1391.498"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="719.2502" y="1413.9551">标记批准</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="709.2502" y="1446.5918"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="719.2502" y="1469.0488">添加备注</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="797.2502" y="1391.498"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="807.2502" y="1413.9551">标记拒绝</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="797.2502" y="1446.5918"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="807.2502" y="1469.0488">填写原因</text><polygon fill="#F1F1F1" points="787.2502,1487.6855,799.2502,1499.6855,787.2502,1511.6855,775.2502,1499.6855,787.2502,1487.6855" style="stroke:#181818;stroke-width:0.5;"></polygon><line style="stroke:#000000;stroke-width:1.5;" x1="703.2502" x2="703.2502" y1="51.0645" y2="2282.2842"></line><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="875.2502" y="1685.873"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="885.2502" y="1708.3301">执行开票操作</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="875.2502" y="1740.9668"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="885.2502" y="1763.4238">录入发票信息</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="875.2502" y="1796.0605"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="885.2502" y="1818.5176">标记为已完成</text><line style="stroke:#000000;stroke-width:1.5;" x1="869.2502" x2="869.2502" y1="51.0645" y2="2282.2842"></line><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="1084.4214" y="2073.1777"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="1094.4214" y="2095.6348">收到处理结果</text><polygon fill="#F1F1F1" points="998.2502,2128.2715,1070.3679,2128.2715,1082.3679,2140.2715,1070.3679,2152.2715,998.2502,2152.2715,986.2502,2140.2715,998.2502,2128.2715" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61.1123" x="1038.3091" y="2163.6904">是: 电子发票</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72.1177" x="998.2502" y="2144.7725">收到电子发票?</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1000.3091" y="2185.1904"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="1010.3091" y="2207.6475">下载发票</text><polygon fill="#F1F1F1" points="1127.4214,2128.2715,1199.5391,2128.2715,1211.5391,2140.2715,1199.5391,2152.2715,1127.4214,2152.2715,1115.4214,2140.2715,1127.4214,2128.2715" style="stroke:#181818;stroke-width:0.5;"></polygon><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61.1123" x="1167.4802" y="2163.6904">是: 邮寄通知</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72.1177" x="1127.4214" y="2144.7725">收到邮寄通知?</text><rect fill="#F1F1F1" height="35.0938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="1129.4802" y="2185.1904"></rect><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="1139.4802" y="2207.6475">等待发票</text><ellipse cx="1130.4214" cy="2271.2842" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="1130.4214" cy="2271.2842" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><line style="stroke:#000000;stroke-width:1.5;" x1="971.2502" x2="971.2502" y1="51.0645" y2="2282.2842"></line><line style="stroke:#000000;stroke-width:1.5;" x1="1261.5925" x2="1261.5925" y1="51.0645" y2="2282.2842"></line><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="98.7051" y2="118.7051"></line><polygon fill="#181818" points="128,108.7051,132,118.7051,136,108.7051,132,112.7051" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="153.7988" y2="173.7988"></line><polygon fill="#181818" points="128,163.7988,132,173.7988,136,163.7988,132,167.7988" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="208.8926" y2="228.8926"></line><polygon fill="#181818" points="128,218.8926,132,228.8926,136,218.8926,132,222.8926" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="307.9863" y2="332.9043"></line><polygon fill="#181818" points="128,322.9043,132,332.9043,136,322.9043,132,326.9043" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="83.9412" x2="71.9412" y1="295.9863" y2="295.9863"></line><polygon fill="#181818" points="67.9412,395.5449,71.9412,405.5449,75.9412,395.5449,71.9412,399.5449" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="71.9412" x2="71.9412" y1="295.9863" y2="510.1855"></line><line style="stroke:#181818;stroke-width:1;" x1="71.9412" x2="120" y1="510.1855" y2="510.1855"></line><polygon fill="#181818" points="110,506.1855,120,510.1855,110,514.1855,114,510.1855" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="478.1855" y2="498.1855"></line><polygon fill="#181818" points="128,488.1855,132,498.1855,136,488.1855,132,492.1855" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="263.9863" y2="283.9863"></line><polygon fill="#181818" points="128,273.9863,132,283.9863,136,273.9863,132,277.9863" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="522.1855" y2="542.1855"></line><polygon fill="#181818" points="128,532.1855,132,542.1855,136,532.1855,132,536.1855" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="577.2793" y2="597.2793"></line><polygon fill="#181818" points="128,587.2793,132,597.2793,136,587.2793,132,591.2793" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="632.373" y2="652.373"></line><polygon fill="#181818" points="128,642.373,132,652.373,136,642.373,132,646.373" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="687.4668" y2="707.4668"></line><polygon fill="#181818" points="128,697.4668,132,707.4668,136,697.4668,132,701.4668" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="742.5605" y2="762.5605"></line><polygon fill="#181818" points="128,752.5605,132,762.5605,136,752.5605,132,756.5605" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="191" x2="191" y1="951.8418" y2="971.8418"></line><polygon fill="#181818" points="187,961.8418,191,971.8418,195,961.8418,191,965.8418" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="191" x2="191" y1="1006.9355" y2="1026.9355"></line><polygon fill="#181818" points="187,1016.9355,191,1026.9355,195,1016.9355,191,1020.9355" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="462.2317" x2="462.2317" y1="951.8418" y2="971.8418"></line><polygon fill="#181818" points="458.2317,961.8418,462.2317,971.8418,466.2317,961.8418,462.2317,965.8418" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="484.1729" x2="462.2317" y1="884.748" y2="884.748"></line><line style="stroke:#181818;stroke-width:1;" x1="462.2317" x2="462.2317" y1="884.748" y2="916.748"></line><polygon fill="#181818" points="458.2317,906.748,462.2317,916.748,466.2317,906.748,462.2317,910.748" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="521.2317" x2="521.2317" y1="852.748" y2="872.748"></line><polygon fill="#181818" points="517.2317,862.748,521.2317,872.748,525.2317,862.748,521.2317,866.748" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="404.5588" y1="1610.7793" y2="1630.7793"></line><polygon fill="#181818" points="400.5588,1620.7793,404.5588,1630.7793,408.5588,1620.7793,404.5588,1624.7793" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="298.5588" x2="298.5588" y1="1930.248" y2="1964.084"></line><polygon fill="#181818" points="294.5588,1954.084,298.5588,1964.084,302.5588,1954.084,298.5588,1958.084" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="298.5588" x2="298.5588" y1="1999.1777" y2="2019.1777"></line><polygon fill="#181818" points="294.5588,2009.1777,298.5588,2019.1777,302.5588,2009.1777,298.5588,2013.1777" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="410.5588" x2="410.5588" y1="1930.248" y2="1964.084"></line><polygon fill="#181818" points="406.5588,1954.084,410.5588,1964.084,414.5588,1954.084,410.5588,1958.084" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="410.5588" x2="410.5588" y1="1999.1777" y2="2019.1777"></line><polygon fill="#181818" points="406.5588,2009.1777,410.5588,2019.1777,414.5588,2009.1777,410.5588,2013.1777" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="341.1177" x2="368" y1="1918.248" y2="1918.248"></line><polygon fill="#181818" points="358,1914.248,368,1918.248,358,1922.248,362,1918.248" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="404.5588" y1="1886.248" y2="1891.248"></line><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="298.5588" y1="1891.248" y2="1891.248"></line><line style="stroke:#181818;stroke-width:1;" x1="298.5588" x2="298.5588" y1="1891.248" y2="1906.248"></line><polygon fill="#181818" points="294.5588,1896.248,298.5588,1906.248,302.5588,1896.248,298.5588,1900.248" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="453.1177" x2="516.5588" y1="1918.248" y2="1918.248"></line><line style="stroke:#181818;stroke-width:1;" x1="516.5588" x2="516.5588" y1="1918.248" y2="1960.166"></line><polygon fill="#181818" points="512.5588,1950.166,516.5588,1960.166,520.5588,1950.166,516.5588,1954.166" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="516.5588" x2="516.5588" y1="1995.2598" y2="2019.1777"></line><polygon fill="#181818" points="512.5588,2009.1777,516.5588,2019.1777,520.5588,2009.1777,516.5588,2013.1777" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="298.5588" x2="516.5588" y1="2019.1777" y2="2019.1777"></line><line style="stroke:#181818;stroke-width:1;" x1="637.9045" x2="637.9045" y1="1610.7793" y2="1630.7793"></line><polygon fill="#181818" points="633.9045,1620.7793,637.9045,1630.7793,641.9045,1620.7793,637.9045,1624.7793" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="478.6729" x2="404.5588" y1="1543.6855" y2="1543.6855"></line><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="404.5588" y1="1543.6855" y2="1575.6855"></line><polygon fill="#181818" points="400.5588,1565.6855,404.5588,1575.6855,408.5588,1565.6855,404.5588,1569.6855" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="563.7905" x2="637.9045" y1="1543.6855" y2="1543.6855"></line><line style="stroke:#181818;stroke-width:1;" x1="637.9045" x2="637.9045" y1="1543.6855" y2="1575.6855"></line><polygon fill="#181818" points="633.9045,1565.6855,637.9045,1575.6855,641.9045,1565.6855,637.9045,1569.6855" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="404.5588" y1="2019.1777" y2="2041.1777"></line><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="509.2317" y1="2041.1777" y2="2041.1777"></line><polygon fill="#181818" points="499.2317,2037.1777,509.2317,2041.1777,499.2317,2045.1777,503.2317,2041.1777" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="637.9045" x2="637.9045" y1="1665.873" y2="2041.1777"></line><line style="stroke:#181818;stroke-width:1;" x1="637.9045" x2="533.2317" y1="2041.1777" y2="2041.1777"></line><polygon fill="#181818" points="543.2317,2037.1777,533.2317,2041.1777,543.2317,2045.1777,539.2317,2041.1777" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="787.2502" x2="787.2502" y1="1117.123" y2="1137.123"></line><polygon fill="#181818" points="783.2502,1127.123,787.2502,1137.123,791.2502,1127.123,787.2502,1131.123" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="787.2502" x2="787.2502" y1="1172.2168" y2="1192.2168"></line><polygon fill="#181818" points="783.2502,1182.2168,787.2502,1192.2168,791.2502,1182.2168,787.2502,1186.2168" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="787.2502" x2="787.2502" y1="1227.3105" y2="1247.3105"></line><polygon fill="#181818" points="783.2502,1237.3105,787.2502,1247.3105,791.2502,1237.3105,787.2502,1241.3105" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="787.2502" x2="787.2502" y1="1282.4043" y2="1302.4043"></line><polygon fill="#181818" points="783.2502,1292.4043,787.2502,1302.4043,791.2502,1292.4043,787.2502,1296.4043" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="743.2502" x2="743.2502" y1="1426.5918" y2="1446.5918"></line><polygon fill="#181818" points="739.2502,1436.5918,743.2502,1446.5918,747.2502,1436.5918,743.2502,1440.5918" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="831.2502" x2="831.2502" y1="1426.5918" y2="1446.5918"></line><polygon fill="#181818" points="827.2502,1436.5918,831.2502,1446.5918,835.2502,1436.5918,831.2502,1440.5918" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="761.1914" x2="743.2502" y1="1369.498" y2="1369.498"></line><line style="stroke:#181818;stroke-width:1;" x1="743.2502" x2="743.2502" y1="1369.498" y2="1391.498"></line><polygon fill="#181818" points="739.2502,1381.498,743.2502,1391.498,747.2502,1381.498,743.2502,1385.498" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="813.3091" x2="831.2502" y1="1369.498" y2="1369.498"></line><line style="stroke:#181818;stroke-width:1;" x1="831.2502" x2="831.2502" y1="1369.498" y2="1391.498"></line><polygon fill="#181818" points="827.2502,1381.498,831.2502,1391.498,835.2502,1381.498,831.2502,1385.498" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="743.2502" x2="743.2502" y1="1481.6855" y2="1499.6855"></line><line style="stroke:#181818;stroke-width:1;" x1="743.2502" x2="775.2502" y1="1499.6855" y2="1499.6855"></line><polygon fill="#181818" points="765.2502,1495.6855,775.2502,1499.6855,765.2502,1503.6855,769.2502,1499.6855" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="831.2502" x2="831.2502" y1="1481.6855" y2="1499.6855"></line><line style="stroke:#181818;stroke-width:1;" x1="831.2502" x2="799.2502" y1="1499.6855" y2="1499.6855"></line><polygon fill="#181818" points="809.2502,1495.6855,799.2502,1499.6855,809.2502,1503.6855,805.2502,1499.6855" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="787.2502" x2="787.2502" y1="1337.498" y2="1357.498"></line><polygon fill="#181818" points="783.2502,1347.498,787.2502,1357.498,791.2502,1347.498,787.2502,1351.498" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="921.2502" x2="921.2502" y1="1720.9668" y2="1740.9668"></line><polygon fill="#181818" points="917.2502,1730.9668,921.2502,1740.9668,925.2502,1730.9668,921.2502,1734.9668" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="921.2502" x2="921.2502" y1="1776.0605" y2="1796.0605"></line><polygon fill="#181818" points="917.2502,1786.0605,921.2502,1796.0605,925.2502,1786.0605,921.2502,1790.0605" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1034.3091" x2="1034.3091" y1="2152.2715" y2="2185.1904"></line><polygon fill="#181818" points="1030.3091,2175.1904,1034.3091,2185.1904,1038.3091,2175.1904,1034.3091,2179.1904" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1034.3091" x2="1034.3091" y1="2220.2842" y2="2240.2842"></line><polygon fill="#181818" points="1030.3091,2230.2842,1034.3091,2240.2842,1038.3091,2230.2842,1034.3091,2234.2842" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1163.4802" x2="1163.4802" y1="2152.2715" y2="2185.1904"></line><polygon fill="#181818" points="1159.4802,2175.1904,1163.4802,2185.1904,1167.4802,2175.1904,1163.4802,2179.1904" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1163.4802" x2="1163.4802" y1="2220.2842" y2="2240.2842"></line><polygon fill="#181818" points="1159.4802,2230.2842,1163.4802,2240.2842,1167.4802,2230.2842,1163.4802,2234.2842" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1082.3679" x2="1115.4214" y1="2140.2715" y2="2140.2715"></line><polygon fill="#181818" points="1105.4214,2136.2715,1115.4214,2140.2715,1105.4214,2144.2715,1109.4214,2140.2715" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1130.4214" x2="1130.4214" y1="2108.2715" y2="2113.2715"></line><line style="stroke:#181818;stroke-width:1;" x1="1130.4214" x2="1034.3091" y1="2113.2715" y2="2113.2715"></line><line style="stroke:#181818;stroke-width:1;" x1="1034.3091" x2="1034.3091" y1="2113.2715" y2="2128.2715"></line><polygon fill="#181818" points="1030.3091,2118.2715,1034.3091,2128.2715,1038.3091,2118.2715,1034.3091,2122.2715" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1211.5391" x2="1242.5925" y1="2140.2715" y2="2140.2715"></line><line style="stroke:#181818;stroke-width:1;" x1="1242.5925" x2="1242.5925" y1="2140.2715" y2="2240.2842"></line><polygon fill="#181818" points="1238.5925,2230.2842,1242.5925,2240.2842,1246.5925,2230.2842,1242.5925,2234.2842" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1034.3091" x2="1242.5925" y1="2240.2842" y2="2240.2842"></line><line style="stroke:#181818;stroke-width:1;" x1="1130.4214" x2="1130.4214" y1="2240.2842" y2="2260.2842"></line><polygon fill="#181818" points="1126.4214,2250.2842,1130.4214,2260.2842,1134.4214,2250.2842,1130.4214,2254.2842" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="367.998" y2="372.998"></line><line style="stroke:#181818;stroke-width:1;" x1="132" x2="521.2317" y1="372.998" y2="372.998"></line><line style="stroke:#181818;stroke-width:1;" x1="521.2317" x2="521.2317" y1="372.998" y2="387.998"></line><polygon fill="#181818" points="517.2317,377.998,521.2317,387.998,525.2317,377.998,521.2317,381.998" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="521.2317" x2="521.2317" y1="423.0918" y2="428.0918"></line><line style="stroke:#181818;stroke-width:1;" x1="521.2317" x2="132" y1="428.0918" y2="428.0918"></line><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="428.0918" y2="443.0918"></line><polygon fill="#181818" points="128,433.0918,132,443.0918,136,433.0918,132,437.0918" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="132" x2="132" y1="797.6543" y2="802.6543"></line><line style="stroke:#181818;stroke-width:1;" x1="132" x2="521.2317" y1="802.6543" y2="802.6543"></line><line style="stroke:#181818;stroke-width:1;" x1="521.2317" x2="521.2317" y1="802.6543" y2="817.6543"></line><polygon fill="#181818" points="517.2317,807.6543,521.2317,817.6543,525.2317,807.6543,521.2317,811.6543" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="462.2317" x2="462.2317" y1="1006.9355" y2="1011.9355"></line><line style="stroke:#181818;stroke-width:1;" x1="462.2317" x2="73" y1="1011.9355" y2="1011.9355"></line><line style="stroke:#181818;stroke-width:1;" x1="73" x2="73" y1="1011.9355" y2="1026.9355"></line><polygon fill="#181818" points="69,1016.9355,73,1026.9355,77,1016.9355,73,1020.9355" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="558.2905" x2="570.2905" y1="884.748" y2="884.748"></line><line style="stroke:#181818;stroke-width:1;" x1="570.2905" x2="570.2905" y1="884.748" y2="902.748"></line><line style="stroke:#181818;stroke-width:1;" x1="570.2905" x2="191" y1="902.748" y2="902.748"></line><line style="stroke:#181818;stroke-width:1;" x1="191" x2="191" y1="902.748" y2="916.748"></line><polygon fill="#181818" points="187,906.748,191,916.748,195,906.748,191,910.748" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="73" x2="73" y1="1062.0293" y2="1067.0293"></line><line style="stroke:#181818;stroke-width:1;" x1="73" x2="787.2502" y1="1067.0293" y2="1067.0293"></line><line style="stroke:#181818;stroke-width:1;" x1="787.2502" x2="787.2502" y1="1067.0293" y2="1082.0293"></line><polygon fill="#181818" points="783.2502,1072.0293,787.2502,1082.0293,791.2502,1072.0293,787.2502,1076.0293" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="404.5588" y1="1665.873" y2="1670.873"></line><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="921.2502" y1="1670.873" y2="1670.873"></line><line style="stroke:#181818;stroke-width:1;" x1="921.2502" x2="921.2502" y1="1670.873" y2="1685.873"></line><polygon fill="#181818" points="917.2502,1675.873,921.2502,1685.873,925.2502,1675.873,921.2502,1679.873" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="921.2502" x2="921.2502" y1="1831.1543" y2="1836.1543"></line><line style="stroke:#181818;stroke-width:1;" x1="921.2502" x2="404.5588" y1="1836.1543" y2="1836.1543"></line><line style="stroke:#181818;stroke-width:1;" x1="404.5588" x2="404.5588" y1="1836.1543" y2="1851.1543"></line><polygon fill="#181818" points="400.5588,1841.1543,404.5588,1851.1543,408.5588,1841.1543,404.5588,1845.1543" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="787.2502" x2="787.2502" y1="1511.6855" y2="1516.6855"></line><line style="stroke:#181818;stroke-width:1;" x1="787.2502" x2="521.2317" y1="1516.6855" y2="1516.6855"></line><line style="stroke:#181818;stroke-width:1;" x1="521.2317" x2="521.2317" y1="1516.6855" y2="1531.6855"></line><polygon fill="#181818" points="517.2317,1521.6855,521.2317,1531.6855,525.2317,1521.6855,521.2317,1525.6855" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="521.2317" x2="521.2317" y1="2053.1777" y2="2058.1777"></line><line style="stroke:#181818;stroke-width:1;" x1="521.2317" x2="1130.4214" y1="2058.1777" y2="2058.1777"></line><line style="stroke:#181818;stroke-width:1;" x1="1130.4214" x2="1130.4214" y1="2058.1777" y2="2073.1777"></line><polygon fill="#181818" points="1126.4214,2063.1777,1130.4214,2073.1777,1134.4214,2063.1777,1130.4214,2067.1777" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="54" x="101" y="69.75">广告主</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="36" x="454.1251" y="69.75">系统</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="54" x="759.2502" y="69.75">管理员</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="72" x="884.2502" y="69.75">财务人员</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="36" x="1098.4214" y="69.75">用户</text><!--SRC=[TLDBKzfG5DxdLznTTT7f7XQTBhlhNs0mZhH064YxOW6EoDC2DIWAAc5GwOF05EGLANycvoPPzI_qvfu4AEekEVVSxtoFU-IG71R9- -WNAHGKoRjOB1mA1kIG52KVub9GJ2I4nATGD1Q81o8a8aMbu45SYeX4ZdyMoIi2vJCwpjdjffN_3TgbCSl_VIpPwILaJY3p2DgCfkxjSyrkrmKX2RCbL0l6L4yA2JaGbmMVUQ73ecOETLE_yGi-Qzc0pAqrQaD1DJNLh1o_XdBLlEtY3-kWDxTcimZbFZocMDtELktsbLy8xPCTkvcoxjBOIGk_e3Dwkqla0p5ATcYzloiGukBZeGT9I1Bd9vqEOta5lJfsqDg0dcYyOuCvXr6WSMqgGwi_iTK7-whj5yJeNcYV2JgSGLR78tesGFQCjvtAq-9t_4LqLWJr9nnVOBEnL6cwl-xC3AsqOimxj7xgo2vNs3Ts-fcJ7cCVRQdsZv8xp-Nhc87Vj9cdjTmJ6o3N07sEP2njm19mHBB9boQpb_i2rVepmgaoXjm0_cIWS-IuNAwOdJdJ7aw8P0SgTxilNR6L2wlVz_gvpnfLPfveGXAo57CzPEey2iaNNWXI1qsb-TdwKNYq87TkgTkcuv5ZEhlLca8bPzqViSVfsfLdiHq_COgsiimVFEIqwKI7GWiwMJhiRkdscelVJFsADsEyyFK66Yt_MfmR7HzxUc8iccpQq_a-WZM4RepOOp8BOvfA6zCvQZ6clStOb2xDJNXck3_6VCuTTAxdxosrX1k38v7VehRoSfs4gyCPCs4hNQAvolQIRD49If5OM9J5FQUFowhtJUK1UXN4NidQB3gw70xbgfrARnuu88wn7j1yQeswsq0RHHS8tx5zg47_Q2t6JIWpDlIpDsWKId9lkQLDePWJNiGSUABFvH0NFuf1L_TM3Akq-R-pgBWwF3bJFwNNJVVbyVgpTl7fsvxvZ6dHMYmyhrPEuPfn-SZaVvZD4mvZzlBEmdWmdAwpXFy0]--></g></svg></p><h2 id="8-系统架构">8. 系统架构 </h2>
<h3 id="81-mvt-model-view-template-架构图">8.1 MVT (Model-View-Template) 架构图 </h3>
<p>AdWeb 平台后端采用 Django 框架，遵循 MVT (Model-View-Template) 设计模式。</p>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="1087px" preserveAspectRatio="none" style="width:2527px;height:1087px;background:#FFFFFF;" version="1.1" viewBox="0 0 2527 1087" width="2527px" zoomAndPan="magnify"><title>AdWeb - MVT (Model-View-Template) Architecture</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="332.9102" x="1090.0449" y="24.5332">AdWeb - MVT (Model-View-Template) Architecture</text><!--cluster Client-Side--><g class="cluster" data-entity="Client-Side" data-source-line="6" data-uid="ent0002" id="cluster_Client-Side"><rect fill="none" height="155" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="222" x="7" y="117.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="73.1172" x="81.4414" y="133.7926">Client-Side</text></g><!--cluster Network Layer--><g class="cluster" data-entity="Network Layer" data-source-line="10" data-uid="ent0004" id="cluster_Network Layer"><rect fill="none" height="137" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="344" x="253" y="126.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="96.4824" x="376.7588" y="142.7926">Network Layer</text></g><!--cluster Web Server\n(Gunicorn + Nginx)--><g class="cluster" data-entity="Web Server\n(Gunicorn + Nginx)" data-source-line="15" data-uid="ent0007" id="cluster_Web Server\n(Gunicorn + Nginx)"><rect fill="none" height="191" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="408" x="653" y="81.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77.0342" x="818.4829" y="97.7926">Web Server</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126.3896" x="793.8052" y="115.402">(Gunicorn + Nginx)</text></g><!--cluster Django Framework\n(AdWeb Backend)--><g class="cluster" data-entity="Django Framework\n(AdWeb Backend)" data-source-line="20" data-uid="ent0010" id="cluster_Django Framework\n(AdWeb Backend)"><rect fill="none" height="759" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="1526" x="431" y="322.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126.0273" x="1130.9863" y="338.7926">Django Framework</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="119.7861" x="1134.1069" y="356.402">(AdWeb Backend)</text></g><!--cluster Request/Response Handling--><g class="cluster" data-entity="Request/Response Handling" data-source-line="21" data-uid="ent0011" id="cluster_Request/Response Handling"><path d="M1082.5,708.7594 L1273.3066,708.7594 A3.75,3.75 0 0 1 1275.8066,711.2594 L1282.8066,732.3688 L1282.5,732.3688 A2.5,2.5 0 0 1 1285,734.8688 L1285,843.2594 A2.5,2.5 0 0 1 1282.5,845.7594 L1082.5,845.7594 A2.5,2.5 0 0 1 1080,843.2594 L1080,711.2594 A2.5,2.5 0 0 1 1082.5,708.7594" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="1080" x2="1282.8066" y1="732.3688" y2="732.3688"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="189.8066" x="1084" y="725.2926">Request/Response Handling</text></g><!--cluster Application Logic--><g class="cluster" data-entity="Application Logic" data-source-line="24" data-uid="ent0013" id="cluster_Application Logic"><path d="M1311.5,699.7594 L1429.9414,699.7594 A3.75,3.75 0 0 1 1432.4414,702.2594 L1439.4414,723.3688 L1628.5,723.3688 A2.5,2.5 0 0 1 1631,725.8688 L1631,1054.7594 A2.5,2.5 0 0 1 1628.5,1057.2594 L1311.5,1057.2594 A2.5,2.5 0 0 1 1309,1054.7594 L1309,702.2594 A2.5,2.5 0 0 1 1311.5,699.7594" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="1309" x2="1439.4414" y1="723.3688" y2="723.3688"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="117.4414" x="1313" y="716.2926">Application Logic</text></g><!--cluster Data Management--><g class="cluster" data-entity="Data Management" data-source-line="28" data-uid="ent0016" id="cluster_Data Management"><path d="M1657.5,402.2594 L1778.3066,402.2594 A3.75,3.75 0 0 1 1780.8066,404.7594 L1787.8066,425.8688 L1930.5,425.8688 A2.5,2.5 0 0 1 1933,428.3688 L1933,843.2594 A2.5,2.5 0 0 1 1930.5,845.7594 L1657.5,845.7594 A2.5,2.5 0 0 1 1655,843.2594 L1655,404.7594 A2.5,2.5 0 0 1 1657.5,402.2594" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="1655" x2="1787.8066" y1="425.8688" y2="425.8688"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="119.8066" x="1659" y="418.7926">Data Management</text></g><!--cluster Presentation--><g class="cluster" data-entity="Presentation" data-source-line="32" data-uid="ent0019" id="cluster_Presentation"><path d="M830.5,411.2594 L916.2998,411.2594 A3.75,3.75 0 0 1 918.7998,413.7594 L925.7998,434.8688 L1053.5,434.8688 A2.5,2.5 0 0 1 1056,437.3688 L1056,852.2594 A2.5,2.5 0 0 1 1053.5,854.7594 L830.5,854.7594 A2.5,2.5 0 0 1 828,852.2594 L828,413.7594 A2.5,2.5 0 0 1 830.5,411.2594" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="828" x2="925.7998" y1="434.8688" y2="434.8688"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84.7998" x="832" y="427.7926">Presentation</text></g><!--cluster Static & Media--><g class="cluster" data-entity="Static &amp; Media" data-source-line="36" data-uid="ent0022" id="cluster_Static &amp; Media"><path d="M457.5,402.2594 L554.1895,402.2594 A3.75,3.75 0 0 1 556.6895,404.7594 L563.6895,425.8688 L801.5,425.8688 A2.5,2.5 0 0 1 804,428.3688 L804,554.7594 A2.5,2.5 0 0 1 801.5,557.2594 L457.5,557.2594 A2.5,2.5 0 0 1 455,554.7594 L455,404.7594 A2.5,2.5 0 0 1 457.5,402.2594" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="455" x2="563.6895" y1="425.8688" y2="425.8688"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="95.6895" x="459" y="418.7926">Static &amp; Media</text></g><!--cluster Data Persistence--><g class="cluster" data-entity="Data Persistence" data-source-line="42" data-uid="ent0025" id="cluster_Data Persistence"><rect fill="none" height="254" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="254" x="2267" y="607.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="112.8408" x="2337.5796" y="623.7926">Data Persistence</text></g><!--cluster Database\n(PostgreSQL/MySQL)--><g class="cluster" data-entity="Database\n(PostgreSQL/MySQL)" data-source-line="43" data-uid="ent0026" id="cluster_Database\n(PostgreSQL/MySQL)"><path d="M2291,661.2594 C2291,651.2594 2394,651.2594 2394,651.2594 C2394,651.2594 2497,651.2594 2497,661.2594 L2497,827.2594 C2497,837.2594 2394,837.2594 2394,837.2594 C2394,837.2594 2291,837.2594 2291,827.2594 L2291,661.2594" fill="none" style="stroke:#181818;stroke-width:1;"></path><path d="M2291,661.2594 C2291,671.2594 2394,671.2594 2394,671.2594 C2394,671.2594 2497,671.2594 2497,661.2594" fill="none" style="stroke:#181818;stroke-width:1;"></path><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="62.2549" x="2362.8726" y="687.7926">Database</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="142.3447" x="2322.8276" y="705.402">(PostgreSQL/MySQL)</text></g><!--cluster External Services--><g class="cluster" data-entity="External Services" data-source-line="48" data-uid="ent0028" id="cluster_External Services"><rect fill="none" height="137" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="494" x="1981" y="911.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="116.7441" x="2169.6279" y="927.7926">External Services</text></g><!--entity UI--><g class="entity" data-entity="UI" data-source-line="7" data-uid="ent0003" id="entity_UI"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189.3584" x="23.5" y="173.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="192.8584" y="178.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="190.8584" y="180.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="190.8584" y="184.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66.917" x="79.7207" y="207.7926">«Browser»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.0205" x="38.5" y="225.402">Web Browser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3584" x="38.5" y="243.0113">(HTML/CSS/JavaScript)</text></g><!--entity HTTP_Request--><g class="entity" data-entity="HTTP_Request" data-source-line="11" data-uid="ent0005" id="entity_HTTP_Request"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.5859" x="447.5" y="182.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="560.0859" y="187.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="558.0859" y="189.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="558.0859" y="193.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="45.1445" x="486.2207" y="216.7926">«Data»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.5859" x="462.5" y="234.402">HTTP Request</text></g><!--entity HTTP_Response--><g class="entity" data-entity="HTTP_Response" data-source-line="12" data-uid="ent0006" id="entity_HTTP_Response"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="143.4824" x="269.5" y="182.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="392.9824" y="187.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="390.9824" y="189.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="390.9824" y="193.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="45.1445" x="313.6689" y="216.7926">«Data»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.4824" x="284.5" y="234.402">HTTP Response</text></g><!--entity Nginx--><g class="entity" data-entity="Nginx" data-source-line="16" data-uid="ent0008" id="entity_Nginx"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.8066" x="669" y="173.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="780.8066" y="178.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="778.8066" y="180.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="778.8066" y="184.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="87.9512" x="685.9277" y="207.7926">«Component»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8066" x="684" y="225.402">Reverse Proxy</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1172" x="684" y="243.0113">(Nginx)</text></g><!--entity Gunicorn--><g class="entity" data-entity="Gunicorn" data-source-line="17" data-uid="ent0009" id="entity_Gunicorn"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.9512" x="915" y="173.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1024.9512" y="178.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1022.9512" y="180.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1022.9512" y="184.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="87.9512" x="931" y="207.7926">«Component»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.4551" x="933.748" y="225.402">WSGI Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.1309" x="933.748" y="243.0113">(Gunicorn)</text></g><!--entity Middleware--><g class="entity" data-entity="Middleware" data-source-line="22" data-uid="ent0012" id="entity_Middleware"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165.2891" x="1103.5" y="764.7594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1248.7891" y="769.7594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1246.7891" y="771.7594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1246.7891" y="775.7594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="53.6826" x="1154.3032" y="799.2926">«Filters»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.2891" x="1118.5" y="816.902">Middleware Pipeline</text></g><!--entity Views--><g class="entity" data-entity="Views" data-source-line="25" data-uid="ent0014" id="entity_Views"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118.2617" x="1472" y="755.7594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1570.2617" y="760.7594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1568.2617" y="762.7594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1568.2617" y="766.7594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="76.2617" x="1488" y="790.2926">«Controller»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.3447" x="1494.6274" y="807.902">Views</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0068" x="1494.6274" y="825.5113">(views.py)</text></g><!--entity Forms--><g class="entity" data-entity="Forms" data-source-line="26" data-uid="ent0015" id="entity_Forms"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.8271" x="1387.5" y="958.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1480.3271" y="963.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1478.3271" y="965.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1478.3271" y="969.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70.8271" x="1403.5" y="992.7926">«Validator»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.6621" x="1407.4136" y="1010.402">Forms</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1407.4136" y="1028.0113">(forms.py)</text></g><!--entity Models--><g class="entity" data-entity="Models" data-source-line="29" data-uid="ent0017" id="entity_Models"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.1309" x="1671.5" y="458.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1764.6309" y="463.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1762.6309" y="465.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1762.6309" y="469.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="48.2344" x="1698.9482" y="492.7926">«ORM»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.1309" x="1686.5" y="510.402">Models</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.1309" x="1686.5" y="528.0113">(models.py)</text></g><!--entity DB_API--><g class="entity" data-entity="DB_API" data-source-line="30" data-uid="ent0018" id="entity_DB_API"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.3857" x="1791" y="764.7594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1897.3857" y="769.7594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1895.3857" y="771.7594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1895.3857" y="775.7594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="42.8066" x="1827.7896" y="799.2926">«DAL»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.3857" x="1806" y="816.902">Database API</text></g><!--entity Templates--><g class="entity" data-entity="Templates" data-source-line="33" data-uid="ent0020" id="entity_Templates"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.7725" x="879" y="755.7594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="976.7725" y="760.7594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="974.7725" y="762.7594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="974.7725" y="766.7594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="73.9375" x="895.9175" y="790.2926">«Renderer»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3584" x="894" y="807.902">Templates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.7725" x="894" y="825.5113">(HTML/DTL)</text></g><!--entity TemplateEngine--><g class="entity" data-entity="TemplateEngine" data-source-line="34" data-uid="ent0021" id="entity_TemplateEngine"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145.8408" x="894" y="467.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1019.8408" y="472.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1017.8408" y="474.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1017.8408" y="478.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="78.5928" x="922.624" y="501.7926">«Processor»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8408" x="909" y="519.402">Template Engine</text></g><!--entity StaticStorage--><g class="entity" data-entity="StaticStorage" data-source-line="37" data-uid="ent0023" id="entity_StaticStorage"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.1377" x="471" y="458.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="599.1377" y="463.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="597.1377" y="465.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="597.1377" y="469.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50.5859" x="514.7759" y="492.7926">«Asset»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68.4619" x="486" y="510.402">Static Files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1377" x="486" y="528.0113">(CSS/JS/Images)</text></g><!--entity MediaStorage--><g class="entity" data-entity="MediaStorage" data-source-line="38" data-uid="ent0024" id="entity_MediaStorage"><rect fill="#F1F1F1" height="82.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.1377" x="654" y="458.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="768.1377" y="463.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="766.1377" y="465.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="766.1377" y="469.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50.5859" x="690.7759" y="492.7926">«Asset»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.5791" x="669" y="510.402">Media Files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.1377" x="669" y="528.0113">(User Uploads)</text></g><!--entity DB_Schema--><g class="entity" data-entity="DB_Schema" data-source-line="44" data-uid="ent0027" id="entity_DB_Schema"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173.834" x="2307" y="773.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2460.834" y="778.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2458.834" y="780.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2458.834" y="784.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.834" x="2322" y="807.7926">DB Schema &amp; Tables</text></g><!--entity PaymentAPI--><g class="entity" data-entity="PaymentAPI" data-source-line="49" data-uid="ent0029" id="entity_PaymentAPI"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.3857" x="1997" y="967.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2131.3857" y="972.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2129.3857" y="974.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2129.3857" y="978.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="38.1377" x="2050.124" y="1001.7926">«API»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3857" x="2012" y="1019.402">Payment Gateway</text></g><!--entity AdNetworkAPI--><g class="entity" data-entity="AdNetworkAPI" data-source-line="50" data-uid="ent0030" id="entity_AdNetworkAPI"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112.3584" x="2186" y="967.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2278.3584" y="972.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2276.3584" y="974.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2276.3584" y="978.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="38.1377" x="2218.1104" y="1001.7926">«API»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.3584" x="2201" y="1019.402">Ad Network</text></g><!--entity EmailAPI--><g class="entity" data-entity="EmailAPI" data-source-line="51" data-uid="ent0031" id="entity_EmailAPI"><rect fill="#F1F1F1" height="65.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.5791" x="2333" y="967.2594"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="2438.5791" y="972.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2436.5791" y="974.2594"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="2436.5791" y="978.2594"></rect><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="38.1377" x="2371.7207" y="1001.7926">«API»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.5791" x="2348" y="1019.402">Email Service</text></g><!--entity URLs--><g class="entity" data-entity="URLs" data-source-line="59" data-uid="ent0036" id="entity_URLs"><ellipse cx="2224" cy="797.2594" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.0068" x="2206.4966" y="828.7926">URLs</text></g><!--link UI to HTTP_Request--><g class="link" data-entity-1="UI" data-entity-2="HTTP_Request" data-source-line="55" data-uid="lnk32" id="link_UI_HTTP_Request"><path d="M147.56,173.0594 C171.91,142.5894 209.43,103.6794 253,86.2594 C326.04,57.0494 360.81,48.8294 430,86.2594 C467.27,106.4194 488.426,145.5368 500.786,176.5068" fill="none" id="UI-to-HTTP_Request" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="503.01,182.0794,503.3891,172.2378,501.1567,177.4355,495.9589,175.2031,503.01,182.0794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="370" y="61.7545">用户交互</text></g><!--link HTTP_Request to Nginx--><g class="link" data-entity-1="HTTP_Request" data-entity-2="Nginx" data-source-line="56" data-uid="lnk33" id="link_HTTP_Request_Nginx"><path d="M580.61,214.7594 C608.57,214.7594 635.01,214.7594 662.91,214.7594" fill="none" id="HTTP_Request-to-Nginx" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="668.91,214.7594,659.91,210.7594,663.91,214.7594,659.91,218.7594,668.91,214.7594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="598.75" y="208.2545">接收请求</text></g><!--link Nginx to Gunicorn--><g class="link" data-entity-1="Nginx" data-entity-2="Gunicorn" data-source-line="57" data-uid="lnk34" id="link_Nginx_Gunicorn"><path d="M801.3,214.7594 C836.59,214.7594 873.82,214.7594 908.92,214.7594" fill="none" id="Nginx-to-Gunicorn" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="914.92,214.7594,905.92,210.7594,909.92,214.7594,905.92,218.7594,914.92,214.7594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.2764" x="819.5" y="208.2545">转发至 WSGI</text></g><!--link Gunicorn to Nginx--><g class="link" data-entity-1="Gunicorn" data-entity-2="Nginx" data-source-line="76" data-uid="lnk54" id="link_Gunicorn_Nginx"><path d="M914.9,216.9394 C902.32,217.2794 889.25,217.5794 877,217.7594 C852.22,218.1194 831.0081,217.8899 807.0981,217.2899" fill="none" id="Gunicorn-to-Nginx" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="801.1,217.1394,809.9968,221.3639,806.0984,217.2648,810.1975,213.3664,801.1,217.1394" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Gunicorn to Middleware--><g class="link" data-entity-1="Gunicorn" data-entity-2="Middleware" data-source-line="58" data-uid="lnk35" id="link_Gunicorn_Middleware"><path d="M1045.16,217.5494 C1250.42,223.8594 1873.54,248.3294 1933,314.2594 C2015.46,405.6794 2019.49,503.6494 1933,591.2594 C1920.82,603.5994 1324.11,590.7594 1309,599.2594 C1245.4,635.0594 1212.128,713.0209 1196.988,758.9609" fill="none" id="Gunicorn-to-Middleware" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1195.11,764.6594,1201.726,757.3636,1196.675,759.9106,1194.128,754.8596,1195.11,764.6594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83.8081" x="1997" y="505.2545">传递至 Django</text></g><!--link Middleware to URLs--><g class="link" data-entity-1="Middleware" data-entity-2="URLs" data-source-line="59" data-uid="lnk37" id="link_Middleware_URLs"><path d="M1198.82,764.6494 C1216.66,724.3294 1253.23,657.5494 1309,629.2594 C1432.67,566.5294 1799.06,593.3694 1933,629.2594 C2055.84,662.1694 2175.8798,757.0193 2210.1798,785.5893" fill="none" id="Middleware-to-URLs" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2214.79,789.4294,2210.4347,780.5958,2210.9482,786.2293,2205.3147,786.7428,2214.79,789.4294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="2149.5" y="587.7545">中间件处理</text></g><!--link URLs to Views--><g class="link" data-entity-1="URLs" data-entity-2="Views" data-source-line="60" data-uid="lnk38" id="link_URLs_Views"><path d="M2214.79,789.4294 C2180.49,760.8594 2055.84,662.1694 1933,629.2594 C1813.65,597.2794 1765.3,573.5794 1655,629.2594 C1603.06,655.4794 1570.0834,709.4393 1550.7834,750.0893" fill="none" id="URLs-to-Views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1548.21,755.5094,1555.6835,749.0948,1550.3545,750.9926,1548.4567,745.6636,1548.21,755.5094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1991.5" y="587.7545">路由至视图</text></g><!--link Views to Forms--><g class="link" data-entity-1="Views" data-entity-2="Forms" data-source-line="61" data-uid="lnk39" id="link_Views_Forms"><path d="M1471.69,808.1694 C1431.83,818.2494 1382.15,838.2094 1357,877.2594 C1338.95,905.2894 1356.4539,931.805 1382.8339,955.235" fill="none" id="Views-to-Forms" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1387.32,959.2194,1383.2472,950.2521,1383.5816,955.8991,1377.9347,956.2335,1387.32,959.2194" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="1358" y="891.7545">（可选）验证输入</text></g><!--link Forms to Views--><g class="link" data-entity-1="Forms" data-entity-2="Views" data-source-line="62" data-uid="lnk40" id="link_Forms_Views"><path d="M1461.58,958.2494 C1476.67,923.4794 1495.9124,879.1239 1511.0024,844.3339" fill="none" id="Forms-to-Views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1513.39,838.8294,1506.139,845.4944,1511.4004,843.4165,1513.4783,848.6778,1513.39,838.8294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6118" x="1496" y="891.7545">返回清洗数据/错误</text></g><!--link Views to Models--><g class="link" data-entity-1="Views" data-entity-2="Models" data-source-line="63" data-uid="lnk41" id="link_Views_Models"><path d="M1501.03,755.6394 C1469.59,707.6394 1429.99,627.4394 1471,573.2594 C1495.1,541.4194 1597.195,520.5551 1665.295,509.6851" fill="none" id="Views-to-Models" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1671.22,508.7394,1661.702,506.208,1666.2825,509.5275,1662.963,514.108,1671.22,508.7394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.7764" x="1472" y="587.7545">数据 CRUD 操作</text></g><!--link Models to Views--><g class="link" data-entity-1="Models" data-entity-2="Views" data-source-line="68" data-uid="lnk46" id="link_Models_Views"><path d="M1671.13,540.1594 C1659.25,550.0594 1647.47,561.3094 1638,573.2594 C1593.2,629.7994 1563.1277,702.5152 1546.3677,749.7152" fill="none" id="Models-to-Views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1544.36,755.3694,1551.141,748.2266,1546.0331,750.6576,1543.6021,745.5497,1544.36,755.3694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1639" y="587.7545">提供数据</text></g><!--link Models to DB_API--><g class="link" data-entity-1="Models" data-entity-2="DB_API" data-source-line="64" data-uid="lnk42" id="link_Models_DB_API"><path d="M1706.43,541.5494 C1700.84,557.1994 1697.71,575.1494 1703,591.2594 C1726.04,661.3894 1779.0557,722.9985 1816.0657,760.3285" fill="none" id="Models-to-DB_API" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1820.29,764.5894,1816.7941,755.3819,1816.7697,761.0387,1811.1129,761.0143,1820.29,764.5894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.5654" x="1704" y="587.7545">调用数据库 API</text></g><!--link DB_API to Models--><g class="link" data-entity-1="DB_API" data-entity-2="Models" data-source-line="67" data-uid="lnk45" id="link_DB_API_Models"><path d="M1851.22,764.4494 C1846.17,719.3894 1832.59,635.5494 1798,573.2594 C1791.71,561.9394 1787.2734,555.524 1778.3634,545.844" fill="none" id="DB_API-to-Models" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1774.3,541.4294,1777.4521,550.7602,1777.6862,545.1082,1783.3382,545.3423,1774.3,541.4294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1807" y="587.7545">返回数据对象</text></g><!--link DB_API to DB_Schema--><g class="link" data-entity-1="DB_API" data-entity-2="DB_Schema" data-source-line="65" data-uid="lnk43" id="link_DB_API_DB_Schema"><path d="M1902.59,764.6094 C1966.9,723.5594 2085.32,655.2994 2198,629.2594 C2220.95,623.9594 2229.62,619.3794 2251,629.2594 C2315.67,659.1394 2359.069,728.978 2379.489,767.838" fill="none" id="DB_API-to-DB_Schema" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2382.28,773.1494,2381.6344,763.3217,2379.9542,768.7233,2374.5526,767.043,2382.28,773.1494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.2363" x="2221.5" y="587.7545">执行 SQL 查询</text></g><!--link DB_Schema to DB_API--><g class="link" data-entity-1="DB_Schema" data-entity-2="DB_API" data-source-line="66" data-uid="lnk44" id="link_DB_Schema_DB_API"><path d="M2382.28,773.1494 C2361.86,734.2894 2315.67,659.1394 2251,629.2594 C2229.62,619.3794 2220.95,623.9594 2198,629.2594 C2085.32,655.2994 1971.9575,720.3311 1907.6475,761.3811" fill="none" id="DB_Schema-to-DB_API" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1902.59,764.6094,1912.3284,763.1386,1906.8046,761.9191,1908.0241,756.3953,1902.59,764.6094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="2064" y="587.7545">返回查询结果</text></g><!--link Views to TemplateEngine--><g class="link" data-entity-1="Views" data-entity-2="TemplateEngine" data-source-line="69" data-uid="lnk47" id="link_Views_TemplateEngine"><path d="M1495.3,755.5594 C1451.21,708.4594 1371.37,633.0494 1285,599.2594 C1238.11,580.9094 1220.87,603.3794 1172,591.2594 C1119.89,578.3294 1069.7288,555.7774 1029.6388,535.2174" fill="none" id="Views-to-TemplateEngine" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1024.3,532.4794,1030.4829,540.1456,1028.749,534.761,1034.1336,533.0272,1024.3,532.4794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.8154" x="1173" y="587.7545">选择模板 + 上下文</text></g><!--link TemplateEngine to Views--><g class="link" data-entity-1="TemplateEngine" data-entity-2="Views" data-source-line="72" data-uid="lnk50" id="link_TemplateEngine_Views"><path d="M1040.24,507.0094 C1106.7,515.0694 1205.82,533.1794 1283,573.2594 C1371.9,619.4194 1449.9743,700.4919 1493.8043,751.1519" fill="none" id="TemplateEngine-to-Views" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1497.73,755.6894,1494.8664,746.266,1494.4586,751.9081,1488.8164,751.5003,1497.73,755.6894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1315" y="587.7545">返回渲染结果</text></g><!--link TemplateEngine to Templates--><g class="link" data-entity-1="TemplateEngine" data-entity-2="Templates" data-source-line="70" data-uid="lnk48" id="link_TemplateEngine_Templates"><path d="M911.31,532.3894 C897.18,543.3694 883.8,557.0594 876,573.2594 C846.96,633.5294 878.7967,704.6164 906.7867,750.5264" fill="none" id="TemplateEngine-to-Templates" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="909.91,755.6494,908.6403,745.8827,907.3072,751.3802,901.8097,750.0471,909.91,755.6494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="877" y="587.7545">渲染模板</text></g><!--link Templates to TemplateEngine--><g class="link" data-entity-1="Templates" data-entity-2="TemplateEngine" data-source-line="71" data-uid="lnk49" id="link_Templates_TemplateEngine"><path d="M942,755.4594 C947.85,695.8694 958.0239,592.2507 963.3139,538.3507" fill="none" id="Templates-to-TemplateEngine" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="963.9,532.3794,959.04,540.9456,963.4116,537.3555,967.0018,541.727,963.9,532.3794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="960" y="587.7545">生成 HTML</text></g><!--link Views to Middleware--><g class="link" data-entity-1="Views" data-entity-2="Middleware" data-source-line="73" data-uid="lnk51" id="link_Views_Middleware"><path d="M1471.99,797.2594 C1416,797.2594 1337.33,797.2594 1274.64,797.2594" fill="none" id="Views-to-Middleware" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1268.64,797.2594,1277.64,801.2594,1273.64,797.2594,1277.64,793.2594,1268.64,797.2594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1344.25" y="790.7545">处理响应</text></g><!--link Middleware to HTTP_Response--><g class="link" data-entity-1="Middleware" data-entity-2="HTTP_Response" data-source-line="74" data-uid="lnk52" id="link_Middleware_HTTP_Response"><path d="M1175.58,764.4094 C1158.68,718.5394 1120.5,635.4494 1056,599.2594 C1044.95,593.0594 840.66,591.8694 828,591.2594 C780.52,588.9794 436.39,596.9894 401,565.2594 C309.54,483.2794 323.2584,322.7466 334.1784,253.2666" fill="none" id="Middleware-to-HTTP_Response" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="335.11,247.3394,329.7612,255.6092,334.3337,252.2787,337.6641,256.8513,335.11,247.3394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="402" y="505.2545">构建响应</text></g><!--link HTTP_Response to Gunicorn--><g class="link" data-entity-1="HTTP_Response" data-entity-2="Gunicorn" data-source-line="75" data-uid="lnk53" id="link_HTTP_Response_Gunicorn"><path d="M350.63,181.9494 C364.46,142.1494 394.33,77.9294 447.5,58.2594 C484.39,44.6094 764.61,44.6094 801.5,58.2594 C862.38,80.7794 912.0466,130.2387 944.2366,168.4887" fill="none" id="HTTP_Response-to-Gunicorn" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="948.1,173.0794,945.3654,163.6178,944.8805,169.2538,939.2445,168.7689,948.1,173.0794" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link Nginx to UI--><g class="link" data-entity-1="Nginx" data-entity-2="UI" data-source-line="77" data-uid="lnk55" id="link_Nginx_UI"><path d="M704.58,173.0394 C679.58,142.5594 641.17,103.6394 597,86.2594 C525.86,58.2694 323.98,57.8794 253,86.2594 C209.43,103.6794 175.6557,137.9022 151.3057,168.3722" fill="none" id="Nginx-to-UI" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="147.56,173.0594,156.3034,168.5258,150.6814,169.1534,150.0538,163.5315,147.56,173.0594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="237" y="61.7545">响应至浏览器</text></g><!--link Nginx to StaticStorage--><g class="link" data-entity-1="Nginx" data-entity-2="StaticStorage" data-source-line="80" data-uid="lnk56" id="link_Nginx_StaticStorage"><path d="M668.79,245.1394 C649.6,256.3094 630.05,270.6894 616,288.2594 C575.9,338.4194 558.9257,406.4526 551.2557,452.0326" fill="none" id="Nginx-to-StaticStorage" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="550.26,457.9494,555.698,449.7379,551.0897,453.0187,547.8089,448.4104,550.26,457.9494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="617" y="302.7545">直接服务静态文件</text></g><!--link Nginx to MediaStorage--><g class="link" data-entity-1="Nginx" data-entity-2="MediaStorage" data-source-line="81" data-uid="lnk57" id="link_Nginx_MediaStorage"><path d="M732.99,256.3094 C730.34,309.9494 725.9872,397.9967 723.3172,451.8367" fill="none" id="Nginx-to-MediaStorage" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="723.02,457.8294,727.4609,449.0385,723.2677,452.8355,719.4707,448.6423,723.02,457.8294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="732" y="302.7545">直接服务媒体文件</text></g><!--link Views to PaymentAPI--><g class="link" data-entity-1="Views" data-entity-2="PaymentAPI" data-source-line="84" data-uid="lnk58" id="link_Views_PaymentAPI"><path d="M1590.17,835.6694 C1610.26,847.4094 1633.16,859.7694 1655,869.2594 C1770.4,919.3994 1905.583,957.2986 1991.053,978.9086" fill="none" id="Views-to-PaymentAPI" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="1996.87,980.3794,1989.1251,974.2953,1992.0225,979.1538,1987.1641,982.0512,1996.87,980.3794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1711" y="891.7545">充值操作</text></g><!--link Views to AdNetworkAPI--><g class="link" data-entity-1="Views" data-entity-2="AdNetworkAPI" data-source-line="85" data-uid="lnk59" id="link_Views_AdNetworkAPI"><path d="M1589.36,838.9194 C1609.3,850.7994 1632.32,862.4194 1655,869.2594 C1661.85,871.3294 2162.69,899.8794 2169,903.2594 C2195.12,917.2594 2211.7987,939.8686 2224.0787,961.8986" fill="none" id="Views-to-AdNetworkAPI" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2227,967.1394,2226.1119,957.3306,2224.5656,962.7721,2219.1242,961.2257,2227,967.1394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="2057" y="891.7545">广告数据</text></g><!--link Views to EmailAPI--><g class="link" data-entity-1="Views" data-entity-2="EmailAPI" data-source-line="86" data-uid="lnk60" id="link_Views_EmailAPI"><path d="M1587.92,838.8294 C1608.14,851.0094 1631.68,862.8394 1655,869.2594 C1704.61,882.9194 2066.69,873.4594 2118,877.2594 C2206.51,883.8094 2238.2,860.5494 2316,903.2594 C2342.73,917.9294 2361.0443,940.3731 2375.0143,962.0931" fill="none" id="Views-to-EmailAPI" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="2378.26,967.1394,2376.7556,957.4061,2375.5552,962.9341,2370.0272,961.7337,2378.26,967.1394" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="2299" y="891.7545">通知发送</text></g><!--SRC=[RLNRJXjN57sVhpZYeGcgNB-Z2CbWBgxirFM5FgHHTF2SE5F6C-xCSB4g9DD0mhKGx99I28GA18tQEhGaE63WPpnZ-oc_q7qkOyyONcphhBNNlczRYgKI59A_8-CeW69ZANG_fij43OmfP3gG8hcyYYtIYq96vfbYaOmrQH19CYSKBOyDd4Dvd9d0MPAq2Y1Z0Ex1Cdekhsj4ipeerhBm2zr3ZSlzUhNOk9olNtvqtfxRjNL94bgePr1Lm2gGL6JIWtwI47f4mnimz6cJ6DzhzqTJiMXmC9aCVesdS39ZA7chzp5wy40m-liHDb4w8irwD1yIQret9b0K5uWXL4TJgJXAa1ydYMbH-p2sC3Uco1E1U9Wcv6EIEwaSyhcaGIU9CSLY7fdKb8nkQEXBz32hQ3Ez8eO40TmaA6xeCmNWSP2w67JBn_qmWDKYEHAvhNkNYOlveWh_04tGqJ1qYD2AW0Pl_m0mY2QBm9xggamCr2EA47GpHADOarL5ot8Qn1DJP5abqzY099Gy0OnLQ5XHBSYCHzBXWCsiHpwKpwjA1bkAhg6edbKoRLawW2O4DqM_lyeNH8AQPUYgwZQPaJX_M3TobF-KVhlyCQmgChPqGMUShWXe9r4CQr2S75IkanPT0ogOOpzSnMyICP4IU-PSgZ6EeJYXU8HDHoZAIU619_3KvJ5k41CyiQJRxjnLCztv3gUYp642Ua8CD-4spM-5XhIig3iCKeQOfjvbm0bTaIHf41dq1OeHMS7jMCGpT925mpOj6Opae4GcYobacaJC6ESceSI0YifHiRPr6ZOIfVEgZkLRnepPiPtr3ofjJ1n6I34jecN4AP3TKlUuHGSVSTsqiWP9VXiDnWhmsTjE9Jo0afbd98SXoHGUXv0UYxxmvrjUXsPWQZMiiWrJe99YJ-EuGCS3ZK0jft619HAFy3G4nZlzA2GZSMnyf90iNWLjA8ULjXSVao6K1N7TGyw7kSR9IlDcp_dbI4f7KA3VTvrG7sgKJvp5y_h5OVrYK_9Xm6Ld0qXWxPG_DYldpkdF4dy4j7sL-b3pwYzx_LNpvN-87XYfZG3Bi-5zg5vxsofkKXw_99871Muw4JKfg_ftw_KP77VxSBwnyK9Ypm2pXQNUpYkDyYceD8zVs3lN4dy70bjH87okBThhbLPnwNDjgVLkjLcPQrwNx8KZYHC2NgsRihspvrGNdBFNpg_ldRL_WgtoThDIwQZoPQLbO3WQJAJ3o2cjrQzs9O41YsyhLNp_d1QLSUsB4brhIO2S9cOAz9QEcmUh26OEEVj7pSeVKWSD-2Hva8pJk2mvUxjjHMzyWiOzLpurJm_QyNaoTjOtwjSxdDL9qh_gG8FgEIj_EYS7pfiR-D-fLvVhrHLdwwNKnVJOClNglyv-YPj97I1mbuj6UTzPt43qOjrIlQD5L5Xat-cDTxhukDYbDVkYt3LPlZzQ6kRUl7rv8QX-q3FPla7c_w7jwK_Jnd01c4JdmthpUD7UFg5RrtgpxHJdWlQxpVfL2Ke6arol_MQlRhdMOEuxVRGMEsTqotRNxEK3RiyDFIRUWzTbuNL58x0FjrhFJpWcTbkK37Gw5uTciB1W5sjYcZiSxy6Xh4ytzgjb_ym0opqsR5n-R-mVmH5e5UV-1m00]--></g></svg></p><p><strong>架构说明:</strong><br>
AdWeb 平台后端采用 Django 框架，遵循 MVT (Model-View-Template) 设计模式，这与常见的 MVC (Model-View-Controller) 模式类似，但有一些 Django 特有的称谓和职责划分：</p>
<ul>
<li>
<p><strong>Model (模型 - <code>models.py</code>)</strong>:</p>
<ul>
<li>负责应用程序的数据结构和业务逻辑。</li>
<li>直接与数据库交互（通过 Django ORM），执行数据的创建 (Create)、读取 (Read)、更新 (Update) 和删除 (Delete) 操作。</li>
<li>定义数据字段、类型、验证规则、关系等。</li>
<li>例如，<code>User</code>, <code>Campaign</code>, <code>Ad</code>, <code>Invoice</code> 等都是模型。</li>
</ul>
</li>
<li>
<p><strong>View (视图 - <code>views.py</code>)</strong>:</p>
<ul>
<li>负责处理用户的 HTTP 请求并返回 HTTP 响应。</li>
<li>接收请求后，视图函数或类会执行相应的逻辑：
<ul>
<li>可能与一个或多个模型交互以获取或存储数据。</li>
<li>可能使用 Django Forms (<code>forms.py</code>) 来处理用户输入数据的验证。</li>
<li>选择一个合适的模板 (<code>Templates</code>) 来渲染响应。</li>
<li>将从模型获取的数据（上下文 context）传递给模板。</li>
</ul>
</li>
<li>Django 中的视图更接近 MVC 中的控制器 (Controller) 的角色。</li>
<li>例如，<code>Payment/views.py</code> 中的 <code>invoice_request</code> 函数就是一个视图。</li>
</ul>
</li>
<li>
<p><strong>Template (模板 - <code>*.html</code> files in <code>templates</code> directory)</strong>:</p>
<ul>
<li>负责用户界面的表示层。</li>
<li>是带有特殊标签和过滤器的 HTML 文件，用于动态生成最终的 HTML 内容。</li>
<li>从视图接收数据上下文，并根据这些数据渲染页面。</li>
<li>Django 的模板语言允许嵌入逻辑（如循环、条件判断）和变量替换。</li>
<li>例如，<code>Payment/invoice.html</code> 就是一个模板。</li>
</ul>
</li>
<li>
<p><strong>URL Dispatcher (<code>urls.py</code>)</strong>:</p>
<ul>
<li>根据请求的 URL 将其路由到相应的视图函数或类。</li>
<li>项目有全局的 <code>urls.py</code>，每个 Django 应用 (app) 也可以有自己的 <code>urls.py</code>。</li>
</ul>
</li>
<li>
<p><strong>Forms (<code>forms.py</code>)</strong>:</p>
<ul>
<li>处理 HTML表单的生成、验证和数据清洗。</li>
<li>可以从模型自动生成表单 (ModelForms)，简化表单处理逻辑。</li>
</ul>
</li>
<li>
<p><strong>Middleware</strong>:</p>
<ul>
<li>在请求处理和响应处理的各个阶段提供钩子，可以修改请求/响应对象或执行特定任务（如会话管理、CSRF保护、认证）。</li>
</ul>
</li>
<li>
<p><strong>Static Files &amp; Media Files</strong>:</p>
<ul>
<li><code>Static Files</code> 指的是项目的 CSS、JavaScript、图片等不常变动的资源，通常由Web服务器（如Nginx）直接提供服务以提高效率。</li>
<li><code>Media Files</code> 通常是用户上传的文件，如广告素材图片，也常由Web服务器直接提供服务。</li>
</ul>
</li>
</ul>
<p><strong>交互流程简述:</strong></p>
<ol>
<li>用户通过浏览器发起 HTTP 请求。</li>
<li>Web 服务器 (如 Nginx) 接收请求，可能直接处理静态/媒体文件请求，或将动态请求转发给 WSGI 服务器 (如 Gunicorn)。</li>
<li>Gunicorn 将请求传递给 Django 应用。</li>
<li>Django 的 <code>Middleware</code> 对请求进行预处理。</li>
<li><code>URL Dispatcher</code> 根据请求的 URL 找到对应的 <code>View</code>。</li>
<li><code>View</code> 执行业务逻辑：
<ul>
<li>可能通过 <code>Forms</code> 验证和处理用户输入。</li>
<li>通过 <code>Models</code> (Django ORM) 与数据库进行数据交互。</li>
<li>可能调用外部服务API (如支付、邮件)。</li>
</ul>
</li>
<li><code>View</code> 选择一个 <code>Template</code>，并将处理好的数据（上下文）传递给 <code>TemplateEngine</code>。</li>
<li><code>TemplateEngine</code> 使用模板渲染成最终的 HTML。</li>
<li><code>View</code> 将渲染好的 HTML 包装成 HTTP 响应。</li>
<li><code>Middleware</code> 对响应进行后处理。</li>
<li>Django 将 HTTP 响应发送回 Gunicorn，再到 Nginx，最终到达用户的浏览器。</li>
</ol>
<p>这种分层架构有助于代码的组织、可维护性和可重用性。</p>
<h3 id="82-组件与接口依赖图">8.2 组件与接口依赖图 </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="414px" preserveAspectRatio="none" style="width:1687px;height:414px;background:#FFFFFF;" version="1.1" viewBox="0 0 1687 414" width="1687px" zoomAndPan="magnify"><title>AdWeb Backend Components</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="199.9033" x="736.5633" y="24.5332">AdWeb Backend Components</text><!--cluster Django??--><g class="cluster" data-entity="Django应用" data-source-line="4" data-uid="ent0002" id="cluster_Django应用"><path d="M385.53,44.6094 L463.5027,44.6094 A3.75,3.75 0 0 1 466.0027,47.1094 L473.0027,68.2188 L1303.53,68.2188 A2.5,2.5 0 0 1 1306.03,70.7188 L1306.03,162.1094 A2.5,2.5 0 0 1 1303.53,164.6094 L385.53,164.6094 A2.5,2.5 0 0 1 383.03,162.1094 L383.03,47.1094 A2.5,2.5 0 0 1 385.53,44.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="383.03" x2="473.0027" y1="68.2188" y2="68.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76.9727" x="387.03" y="61.1426">Django应用</text></g><!--cluster ????--><g class="cluster" data-entity="核心服务" data-source-line="13" data-uid="ent0009" id="cluster_核心服务"><path d="M769.53,214.6094 L829.5925,214.6094 A3.75,3.75 0 0 1 832.0925,217.1094 L839.0925,238.2188 L1132.53,238.2188 A2.5,2.5 0 0 1 1135.03,240.7188 L1135.03,332.1094 A2.5,2.5 0 0 1 1132.53,334.6094 L769.53,334.6094 A2.5,2.5 0 0 1 767.03,332.1094 L767.03,217.1094 A2.5,2.5 0 0 1 769.53,214.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="767.03" x2="839.0925" y1="238.2188" y2="238.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59.0625" x="771.03" y="231.1426">核心服务</text></g><!--cluster ????--><g class="cluster" data-entity="外部接口" data-source-line="19" data-uid="ent0013" id="cluster_外部接口"><path d="M260.53,229.6094 L320.5925,229.6094 A3.75,3.75 0 0 1 323.0925,232.1094 L330.0925,253.2188 L411.53,253.2188 A2.5,2.5 0 0 1 414.03,255.7188 L414.03,317.1094 A2.5,2.5 0 0 1 411.53,319.6094 L260.53,319.6094 A2.5,2.5 0 0 1 258.03,317.1094 L258.03,232.1094 A2.5,2.5 0 0 1 260.53,229.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="258.03" x2="330.0925" y1="253.2188" y2="253.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59.0625" x="262.03" y="246.1426">外部接口</text></g><!--entity users--><g class="entity" data-entity="users" data-source-line="5" data-uid="ent0003" id="entity_users"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.4688" x="884.53" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="965.9988" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="963.9988" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="963.9988" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="899.53" y="135.1426">UsersApp</text></g><!--entity payment--><g class="entity" data-entity="payment" data-source-line="6" data-uid="ent0004" id="entity_payment"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.1582" x="1021.03" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1121.1882" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1119.1882" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1119.1882" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1582" x="1036.03" y="135.1426">PaymentApp</text></g><!--entity ad_manage--><g class="entity" data-entity="ad_manage" data-source-line="7" data-uid="ent0005" id="entity_ad_manage"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.627" x="716.53" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="829.157" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="827.157" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="827.157" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.627" x="731.53" y="135.1426">AdManageApp</text></g><!--entity ad_place--><g class="entity" data-entity="ad_place" data-source-line="8" data-uid="ent0006" id="entity_ad_place"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.0547" x="564.53" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="661.5847" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="659.5847" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="659.5847" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.0547" x="579.53" y="135.1426">AdPlaceApp</text></g><!--entity ad_audit--><g class="entity" data-entity="ad_audit" data-source-line="9" data-uid="ent0007" id="entity_ad_audit"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.9443" x="1176.03" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1269.9743" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1267.9743" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1267.9743" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9443" x="1191.03" y="135.1426">AdAuditApp</text></g><!--entity data_show--><g class="entity" data-entity="data_show" data-source-line="10" data-uid="ent0008" id="entity_data_show"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.5029" x="399.03" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="508.5329" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="506.5329" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="506.5329" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.5029" x="414.03" y="135.1426">DataShowApp</text></g><!--entity ORM--><g class="entity" data-entity="ORM" data-source-line="14" data-uid="ent0010" id="entity_ORM"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.6621" x="783.53" y="270.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="836.1921" y="275.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="834.1921" y="277.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="834.1921" y="281.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.6621" x="798.53" y="305.1426">ORM</text></g><!--entity auth--><g class="entity" data-entity="auth" data-source-line="15" data-uid="ent0011" id="entity_auth"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="892.03" y="270.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="968.03" y="275.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="966.03" y="277.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="966.03" y="281.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="907.03" y="305.1426">认证系统</text></g><!--entity notify--><g class="entity" data-entity="notify" data-source-line="16" data-uid="ent0012" id="entity_notify"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1023.03" y="270.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1099.03" y="275.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1097.03" y="277.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1097.03" y="281.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1038.03" y="305.1426">通知服务</text></g><!--entity pay_gateway--><g class="entity" data-entity="pay_gateway" data-source-line="20" data-uid="ent0014" id="entity_pay_gateway"><ellipse cx="389.03" cy="294.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="361.03" y="326.1426">支付网关</text></g><!--entity email--><g class="entity" data-entity="email" data-source-line="21" data-uid="ent0015" id="entity_email"><ellipse cx="336.03" cy="294.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="308.03" y="326.1426">邮件服务</text></g><!--entity ad_network--><g class="entity" data-entity="ad_network" data-source-line="22" data-uid="ent0016" id="entity_ad_network"><ellipse cx="283.03" cy="294.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="255.03" y="326.1426">广告网络</text></g><g class="entity" data-entity="GMN36" data-source-line="49" data-uid="ent0037" id="entity_GMN36"><path d="M154.53,381.6094 L154.53,407.9609 A0,0 0 0 0 154.53,407.9609 L411.7263,407.9609 A0,0 0 0 0 411.7263,407.9609 L411.7263,391.6094 L401.7263,381.6094 L287.03,381.6094 L283.03,303.6294 L279.03,381.6094 L154.53,381.6094 A0,0 0 0 0 154.53,381.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M401.7263,381.6094 L401.7263,391.6094 L411.7263,391.6094 L401.7263,381.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.1963" x="160.53" y="400.1045">依赖关系基于Django模型关联和服务调用</text></g><!--link users to ORM--><g class="link" data-entity-1="users" data-entity-2="ORM" data-source-line="26" data-uid="lnk17" id="link_users_ORM"><path d="M927.56,148.7994 C921.37,164.7294 911.12,185.3094 896.03,198.6094 C888.53,205.2094 882.76,200.2894 875.03,206.6094 C854.14,223.6894 841.306,245.4564 832.196,264.8964" fill="none" id="users-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="829.65,270.3294,837.0911,263.8772,831.7717,265.8019,829.847,260.4825,829.65,270.3294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="911.03" y="195.1045">使用</text></g><!--link payment to ORM--><g class="link" data-entity-1="payment" data-entity-2="ORM" data-source-line="27" data-uid="lnk18" id="link_payment_ORM"><path d="M1112.08,148.7394 C1125.78,157.7494 1142.5,167.1894 1159.03,172.6094 C1177.47,178.6594 1232.94,166.2694 1246.03,180.6094 C1251.42,186.5194 1251.62,192.8894 1246.03,198.6094 C1231.61,213.3394 892.98,196.4694 875.03,206.6094 C850.76,220.3194 837.8173,244.0384 829.7173,264.8384" fill="none" id="payment-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="827.54,270.4294,834.5333,263.4944,829.3544,265.7702,827.0786,260.5913,827.54,270.4294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="1251.03" y="195.1045">使用</text></g><!--link ad_manage to ORM--><g class="link" data-entity-1="ad_manage" data-entity-2="ORM" data-source-line="28" data-uid="lnk19" id="link_ad_manage_ORM"><path d="M747.94,148.8494 C733.35,157.5394 715.91,166.7094 699.03,172.6094 C688.61,176.2494 657.17,172.1994 650.03,180.6094 C644.85,186.7094 645.98,191.7094 650.03,198.6094 C678.69,247.4494 736.8587,271.3738 777.6387,283.2338" fill="none" id="ad_manage-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="783.4,284.9094,775.8751,278.5552,778.5989,283.5131,773.641,286.2369,783.4,284.9094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="651.03" y="195.1045">使用</text></g><!--link ad_place to ORM--><g class="link" data-entity-1="ad_place" data-entity-2="ORM" data-source-line="29" data-uid="lnk20" id="link_ad_place_ORM"><path d="M592.41,148.7194 C578.89,157.7194 562.37,167.1694 546.03,172.6094 C528.24,178.5294 474.64,166.7394 462.03,180.6094 C456.64,186.5294 457.15,192.2694 462.03,198.6094 C501.48,249.8994 694.1947,278.5283 777.3647,288.7383" fill="none" id="ad_place-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="783.32,289.4694,774.8744,284.4026,778.3573,288.8601,773.8997,292.343,783.32,289.4694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="463.03" y="195.1045">使用</text></g><!--link ad_audit to ORM--><g class="link" data-entity-1="ad_audit" data-entity-2="ORM" data-source-line="30" data-uid="lnk21" id="link_ad_audit_ORM"><path d="M1290.29,128.8594 C1362.17,134.2694 1479.31,147.9694 1506.03,180.6094 C1511.09,186.7994 1511.65,192.9194 1506.03,198.6094 C1493.71,211.0794 890.33,198.0494 875.03,206.6094 C850.7,220.2194 837.7722,243.9564 829.6822,264.7864" fill="none" id="ad_audit-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="827.51,270.3794,834.497,263.438,829.3202,265.7186,827.0397,260.5418,827.51,270.3794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="1511.03" y="195.1045">使用</text></g><!--link data_show to ORM--><g class="link" data-entity-1="data_show" data-entity-2="ORM" data-source-line="31" data-uid="lnk22" id="link_data_show_ORM"><path d="M399.01,125.3894 C306.6,127.1294 154.5,138.7594 212.03,198.6094 C219.81,206.7094 402.88,205.2094 414.03,206.6094 C552.06,223.9994 706.9343,263.067 777.6443,282.007" fill="none" id="data_show-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="783.44,283.5594,775.7814,277.367,778.6103,282.2657,773.7115,285.0946,783.44,283.5594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="213.03" y="195.1045">使用</text></g><!--link users to auth--><g class="link" data-entity-1="users" data-entity-2="auth" data-source-line="33" data-uid="lnk23" id="link_users_auth"><path d="M950.4,148.6894 C955.83,158.1594 961.28,169.4994 964.03,180.6094 C971.69,211.5594 962.8724,242.1187 953.3524,265.0287" fill="none" id="users-to-auth" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="951.05,270.5694,958.1973,263.7933,952.9686,265.9521,950.8098,260.7234,951.05,270.5694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="967.03" y="195.1045">认证</text></g><!--link payment to auth--><g class="link" data-entity-1="payment" data-entity-2="auth" data-source-line="34" data-uid="lnk24" id="link_payment_auth"><path d="M1111.6,148.8194 C1125.35,157.9594 1142.25,167.4794 1159.03,172.6094 C1225.82,193.0494 1362.77,148.5794 1314.03,198.6094 C1302.08,210.8694 1021.26,198.7994 1006.03,206.6094 C979.71,220.1094 963.6852,244.114 953.0452,264.984" fill="none" id="payment-to-auth" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="950.32,270.3294,957.9714,264.1281,952.591,265.8749,950.8442,260.4945,950.32,270.3294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1325.03" y="195.1045">登录验证</text></g><!--link ad_manage to auth--><g class="link" data-entity-1="ad_manage" data-entity-2="auth" data-source-line="35" data-uid="lnk25" id="link_ad_manage_auth"><path d="M741.66,148.6394 C720.63,163.1794 702.48,182.2494 718.03,198.6094 C729.98,211.1894 858.68,198.4994 874.03,206.6094 C900.17,220.4394 916.2142,244.3845 926.9042,265.1545" fill="none" id="ad_manage-to-auth" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="929.65,270.4894,929.0879,260.6566,927.3619,266.0437,921.9748,264.3176,929.65,270.4894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="719.03" y="195.1045">登录验证</text></g><!--link users to notify--><g class="link" data-entity-1="users" data-entity-2="notify" data-source-line="37" data-uid="lnk26" id="link_users_notify"><path d="M967.66,148.7994 C979.27,157.9394 991.95,169.0294 1002.03,180.6094 C1026.46,208.7094 1044.8722,241.1553 1057.1022,265.1153" fill="none" id="users-to-notify" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="1059.83,270.4594,1059.301,260.6247,1057.5568,266.006,1052.1756,264.2618,1059.83,270.4594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1016.03" y="195.1045">触发用户通知</text></g><!--link payment to notify--><g class="link" data-entity-1="payment" data-entity-2="notify" data-source-line="38" data-uid="lnk27" id="link_payment_notify"><path d="M1111.18,148.7294 C1124.99,157.9694 1142.05,167.5894 1159.03,172.6094 C1172.3,176.5294 1398.4,170.6694 1408.03,180.6094 C1495.28,270.7094 1237.5568,288.772 1125.1668,292.472" fill="none" id="payment-to-notify" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="1119.17,292.6694,1128.2967,296.3711,1124.1673,292.5049,1128.0335,288.3754,1119.17,292.6694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1419.03" y="195.1045">触发支付通知</text></g><!--link ad_audit to notify--><g class="link" data-entity-1="ad_audit" data-entity-2="notify" data-source-line="39" data-uid="lnk28" id="link_ad_audit_notify"><path d="M1290.16,127.7894 C1402.17,133.1594 1636.41,150.2594 1596.03,198.6094 C1535.39,271.2094 1243.3066,288.2367 1125.2766,292.2267" fill="none" id="ad_audit-to-notify" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="1119.28,292.4294,1128.41,296.123,1124.2771,292.2604,1128.1397,288.1276,1119.28,292.4294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1601.03" y="195.1045">触发审核通知</text></g><!--link ad_place to notify--><g class="link" data-entity-1="ad_place" data-entity-2="notify" data-source-line="40" data-uid="lnk29" id="link_ad_place_notify"><path d="M581.48,148.8194 C560.37,163.4294 542.21,182.5094 558.03,198.6094 C575.47,216.3694 983.87,195.2594 1006.03,206.6094 C1032.2,220.0194 1047.9401,244.0161 1058.3301,264.9261" fill="none" id="ad_place-to-notify" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="1061,270.2994,1060.5773,260.4596,1058.7751,265.8217,1053.413,264.0195,1061,270.2994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="559.03" y="195.1045">触发广告通知</text></g><!--link payment to pay_gateway--><g class="link" data-entity-1="payment" data-entity-2="pay_gateway" data-source-line="42" data-uid="lnk30" id="link_payment_pay_gateway"><path d="M1098.46,148.8294 C1108.18,164.7594 1115.97,185.3494 1103.03,198.6094 C1096.5,205.2894 776.29,205.4494 767.03,206.6094 C617.36,225.4194 445.9377,276.1646 403.9877,288.9946" fill="none" id="payment-to-pay_gateway" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="398.25,290.7494,408.0263,291.9423,403.0314,289.287,405.6866,284.2921,398.25,290.7494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1110.03" y="195.1045">处理充值</text></g><!--link users to email--><g class="link" data-entity-1="users" data-entity-2="email" data-source-line="43" data-uid="lnk31" id="link_users_email"><path d="M907.94,148.7094 C896.11,157.5994 881.61,166.9594 867.03,172.6094 C842.35,182.1694 833.12,172.1994 808.03,180.6094 C792.56,185.7994 791.77,194.3194 776.03,198.6094 C753.83,204.6494 380.34,192.6894 362.03,206.6094 C337.05,225.5894 335.0483,261.631 335.4683,279.411" fill="none" id="users-to-email" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="335.61,285.4094,339.3963,276.3174,335.4919,280.4108,331.3986,276.5063,335.61,285.4094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="809.03" y="195.1045">发送验证邮件</text></g><!--link notify to email--><g class="link" data-entity-1="notify" data-entity-2="email" data-source-line="44" data-uid="lnk32" id="link_notify_email"><path d="M1060.92,270.5394 C1050.58,249.3694 1032.29,219.9194 1006.03,206.6094 C932.44,169.3194 350.73,199.4494 345.03,204.6094 C322.21,225.2594 327.6372,261.2181 332.1072,279.6681" fill="none" id="notify-to-email" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="333.52,285.4994,335.2884,275.8106,332.3427,280.64,327.5133,277.6943,333.52,285.4994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="346.03" y="195.1045">发送各类通知</text></g><!--link ad_place to ad_network--><g class="link" data-entity-1="ad_place" data-entity-2="ad_network" data-source-line="45" data-uid="lnk33" id="link_ad_place_ad_network"><path d="M593.31,148.7694 C579.69,158.0094 562.85,167.6294 546.03,172.6094 C530.63,177.1694 268.23,169.0994 257.03,180.6094 C228.25,210.1894 258.7464,259.9743 273.4364,280.5743" fill="none" id="ad_place-to-ad_network" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="276.92,285.4594,274.9513,275.8093,274.017,281.3884,268.4378,280.4541,276.92,285.4594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="258.03" y="195.1045">发送广告数据</text></g><!--reverse link data_show to ad_network--><g class="link" data-entity-1="data_show" data-entity-2="ad_network" data-source-line="47" data-uid="lnk35" id="link_data_show_ad_network"><path d="M393.02,124.8272 C292.13,125.1272 111.02,132.3694 69.03,180.6094 C6,253.0194 225.98,286.1894 273.97,292.4894" fill="none" id="data_show-backto-ad_network" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="399.02,124.8094,390.0081,120.8362,394.02,124.8242,390.0319,128.8361,399.02,124.8094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="70.03" y="195.1045">接收统计数据</text></g><!--SRC=[TPHRJnf15CVVzrDCVB5zW0_GD2QqlfgQDaqVpIWhR8NT3QmXf6a2ueKg2XWWNa2BHILDYXYfvIhVnJ2povDVeMTsLtONuMdtpFdDdDj_HX6K08yytY_yCdg7LzPuqOlUIq5P4dbH2NFXDK6KSGW7KK0GUIKgyqWAANu9pQ91hw_cgkffGxi-rFfdQhl_r4t18caco6sCdZPela4RSOwJuLZiuz7C_5Si-YJIpi6-6VIDGsZbEHBw7EP3OOyi8nn6w-pVuLt4qI1yJRziM0x2urt08aGn4UnT2khs6BGOm2isHcRc6E9PzmgAXM1cEf1vhE1FVYbYCbumby9WSzzjjTAVJT9FqE8-sIsFr_hXuuB3rceLxIQktdNKphaUTLtnEu1Xx4GzlpGEOu0eAS9gr16FL0h3H9KUN9BqBoEU82fyQ1NgGpHtC-WSgRqisRep-xVammeVmL47Dzoe3JhtLXW-Y8M0Wo2jFidkmabgfsZs1rGHaK9hB9bPHEebxIOFPGoQiSTOqJxmnrY99EkmQEyCBAedcuPwQA55CbdqQl2mHwusG4l3H0yM1iqzcjfvpUcYG2wl515TSwo5w8qfGSxKmsJdI0bJtRe8fdhr-K_sZYO_sJsMCfigE8rXlyZPzAh77TBB3t-d6FCozKcK6SRD4FUSgGqMwFgAfBEG24t-CmGq2Zg5DNHYigFIfy2aLeP9Mh3HnMcmhXiJjceF2Jw_0cNP10bRI6LJpMoJhIqIwpxty9dK9ScOT7OOYniTC6JBcI7TEkeUHqbcKxtjZASxEjSIihL3pvdcwtI_1jAsXltMvNBoSEjexXvKhq5FT1x16T1BM6wHxMEQp82AXwKBq3hfNP1k6jJD7iYZ0xLS0tMJdRRzH5AisiAnJUaxxQ7rr4t2nQ1dHUE5PVz_Aa_T7vnjgol0hx9whEsJqkDOitYqB2cA50IzFfIqlmLu7E098kVjGVl0kBYqMYPdUx2knNFaC6LSMQsU04tz1m00]--></g></svg></p><p><strong>组件与接口依赖说明:</strong></p>
<ul>
<li><strong>Django Apps (Components)</strong>: 代表项目中的主要功能模块。
<ul>
<li><code>UsersApp</code>: 用户账户、认证、授权。</li>
<li><code>PaymentApp</code>: 充值、交易、发票。</li>
<li><code>AdManageApp</code>: 广告活动管理。</li>
<li><code>AdPlaceApp</code>: 广告、广告位管理。</li>
<li><code>AdAuditApp</code>: 广告和用户审核。</li>
<li><code>DataShowApp</code>: 广告数据统计与展示。</li>
</ul>
</li>
<li><strong>Core Django Services</strong>: Django框架提供的核心功能。
<ul>
<li><code>Django ORM</code>: 所有App都通过ORM与数据库交互。</li>
<li><code>Authentication System</code>: 用于用户登录、权限控制。</li>
<li><code>Notification Service</code>: 一个概念上的服务，用于处理和发送各类通知（可能通过邮件、站内信等）。</li>
</ul>
</li>
<li><strong>External Service Interfaces</strong>: 系统依赖的外部服务。
<ul>
<li><code>PaymentGateway</code>: 处理支付。</li>
<li><code>EmailService</code>: 发送邮件。</li>
<li><code>AdServingNetwork</code>: 广告的实际投放和数据收集。</li>
</ul>
</li>
<li><strong>Dependencies</strong>:
<ul>
<li><strong>ORM Usage</strong>: 所有App都依赖ORM进行数据持久化。</li>
<li><strong>Auth System Usage</strong>: 大部分App的视图会使用认证系统来保护接口。</li>
<li><strong>Notification Triggering</strong>: 多个App会触发通知服务。</li>
<li><strong>External API Calls</strong>: <code>PaymentApp</code>调用支付网关，<code>UsersApp</code>/<code>NotificationService</code> 调用邮件服务，<code>AdPlaceApp</code>/<code>DataShowApp</code> 与广告网络交互。</li>
<li><strong>Inter-App Dependencies</strong>:
<ul>
<li><code>PaymentApp</code> 需要访问 <code>UsersApp</code> 获取用户信息和余额。</li>
<li>广告相关的App (<code>AdManageApp</code>, <code>AdPlaceApp</code>, <code>AdAuditApp</code>, <code>DataShowApp</code>) 之间存在数据和逻辑依赖，例如广告属于某个活动，广告需要被审核，广告数据需要被统计等。这些通常通过模型的外键关系和视图逻辑实现。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="9-场景与交互">9. 场景与交互 </h2>
<h3 id="91-表格形式用例交互脚本-扩展自原场景脚本">9.1 表格形式用例交互脚本 (扩展自原场景脚本) </h3>
<h4 id="911-场景广告主成功发布一个新广告">9.1.1 场景：广告主成功发布一个新广告 </h4>
<table>
<thead>
<tr>
<th>步骤ID</th>
<th>参与者</th>
<th>用户操作/输入</th>
<th>系统动作/响应</th>
<th>数据项/状态变更</th>
<th>备注/UI元素</th>
</tr>
</thead>
<tbody>
<tr>
<td>S1.1</td>
<td>广告主</td>
<td>登录系统</td>
<td>系统验证凭证，创建会话</td>
<td>用户会话建立</td>
<td>登录表单</td>
</tr>
<tr>
<td>S1.2</td>
<td>广告主</td>
<td>导航到"广告管理"页面，选择或创建广告活动，点击"创建新广告"</td>
<td>系统显示创建广告表单</td>
<td>活动ID被选定</td>
<td>"广告活动列表"，"创建广告活动"按钮，"创建广告"按钮</td>
</tr>
<tr>
<td>S1.3</td>
<td>广告主</td>
<td>填写广告表单：名称, 广告位, 预算, 投放时段, 素材, 目标URL</td>
<td>(前端校验)</td>
<td>表单数据暂存</td>
<td>广告名称输入框, 广告位选择器, 预算输入框, 日期选择器, 素材上传控件, URL输入框</td>
</tr>
<tr>
<td>S1.4</td>
<td>广告主</td>
<td>点击"提交审核"</td>
<td>系统后端校验表单数据 (有效性, 预算是否超限等)</td>
<td></td>
<td>"提交审核"按钮</td>
</tr>
<tr>
<td>S1.5</td>
<td>系统</td>
<td>数据校验通过</td>
<td>将广告数据存入数据库 (Ad模型)，设置广告状态为"pending_approval"，关联到Campaign和AdPlacement，保存素材。生成通知给管理员。</td>
<td><code>Ad.status</code> = 'pending_approval', 新增Ad记录, 新增AuditLog (可选, 初始提交), 新增Notification (给管理员)</td>
<td></td>
</tr>
<tr>
<td>S1.6</td>
<td>系统</td>
<td></td>
<td>向广告主显示"广告提交成功，等待管理员审核"的提示。</td>
<td></td>
<td>成功消息提示框</td>
</tr>
<tr>
<td>S1.7</td>
<td>管理员</td>
<td>登录系统，进入"广告审核"模块</td>
<td>系统显示待审核广告列表</td>
<td></td>
<td>"广告审核"菜单，待审核列表</td>
</tr>
<tr>
<td>S1.8</td>
<td>管理员</td>
<td>选择S1.5中提交的广告，查看详情和素材</td>
<td>系统展示广告详细信息和素材预览</td>
<td></td>
<td>广告详情页</td>
</tr>
<tr>
<td>S1.9</td>
<td>管理员</td>
<td>认为广告合规，点击"批准" (可附备注)</td>
<td>系统更新广告状态为"active"，记录审核日志 (AuditLog)，生成通知给广告主。</td>
<td><code>Ad.status</code> = 'active', 更新AuditLog (action='approve'), 新增Notification (给广告主)</td>
<td>"批准"按钮, 备注输入框</td>
</tr>
<tr>
<td>S1.10</td>
<td>系统</td>
<td></td>
<td>向广告主发送通知，告知广告已通过审核。根据投放设置，广告开始投放。</td>
<td></td>
<td>广告主消息中心/邮件</td>
</tr>
<tr>
<td><em>Ext1</em></td>
<td>系统</td>
<td>S1.4 数据校验失败</td>
<td>系统在表单旁显示具体错误信息。</td>
<td></td>
<td>错误消息提示</td>
</tr>
<tr>
<td><em>Ext2</em></td>
<td>管理员</td>
<td>S1.9 认为广告不合规，点击"拒绝"，填写拒绝原因</td>
<td>系统更新广告状态为"rejected"，记录审核日志及拒绝原因 (AuditLog)，生成通知给广告主。</td>
<td><code>Ad.status</code> = 'rejected', 更新AuditLog (action='reject', reason), 新增Notification (给广告主, 含原因)</td>
<td>"拒绝"按钮, 拒绝原因输入框</td>
</tr>
</tbody>
</table>
<h4 id="912-场景用户成功申请并发票被开具">9.1.2 场景：用户成功申请并发票被开具 </h4>
<table>
<thead>
<tr>
<th>步骤ID</th>
<th>参与者</th>
<th>用户操作/输入</th>
<th>系统动作/响应</th>
<th>数据项/状态变更</th>
<th>备注/UI元素</th>
</tr>
</thead>
<tbody>
<tr>
<td>S2.1</td>
<td>广告主</td>
<td>登录系统，导航到"财务管理" -&gt; "发票管理"</td>
<td>系统显示可开票金额、历史发票列表、发票抬头管理入口。</td>
<td></td>
<td>"发票管理"菜单</td>
</tr>
<tr>
<td>S2.2</td>
<td>广告主</td>
<td>点击"申请新发票"</td>
<td>系统显示发票申请表单，允许选择发票抬头、填写金额、邮箱等。</td>
<td></td>
<td>"申请新发票"按钮, 发票抬头选择器, 金额输入框, 邮箱输入框</td>
</tr>
<tr>
<td>S2.3</td>
<td>广告主</td>
<td>选择/确认发票抬头，填写申请金额，选择关联交易，提交申请</td>
<td>(前端校验)</td>
<td>表单数据暂存</td>
<td></td>
</tr>
<tr>
<td>S2.4</td>
<td>系统</td>
<td>后端校验数据 (金额是否超限, 抬头有效性, 交易可选性等)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>S2.5</td>
<td>系统</td>
<td>数据校验通过</td>
<td>创建Invoice记录 (status='pending')，创建InvoiceItem记录关联Transaction。通知管理员。</td>
<td><code>Invoice.status</code>='pending', 新增Invoice记录, 新增InvoiceItem记录, 新增Notification (给管理员)</td>
<td></td>
</tr>
<tr>
<td>S2.6</td>
<td>系统</td>
<td></td>
<td>向广告主显示"发票申请已提交，等待处理"提示。</td>
<td></td>
<td>成功消息提示框</td>
</tr>
<tr>
<td>S2.7</td>
<td>管理员</td>
<td>登录系统，进入"发票审批"模块</td>
<td>系统显示待处理发票列表。</td>
<td></td>
<td>"发票审批"菜单</td>
</tr>
<tr>
<td>S2.8</td>
<td>管理员</td>
<td>选择S2.5中提交的发票申请，查看详情</td>
<td>系统展示发票申请详情和关联交易。</td>
<td></td>
<td>发票详情页</td>
</tr>
<tr>
<td>S2.9</td>
<td>管理员</td>
<td>确认信息无误，点击"批准处理"</td>
<td>系统更新Invoice状态为"processing"，通知广告主。</td>
<td><code>Invoice.status</code>='processing', 新增Notification (给广告主)</td>
<td>"批准处理"按钮</td>
</tr>
<tr>
<td>S2.10</td>
<td>管理员</td>
<td>(线下或通过开票系统)完成实际开票，在系统中更新发票信息并标记完成</td>
<td>系统更新Invoice状态为"completed"，保存发票号、日期、PDF链接(电子)/快递信息(纸质)。通知广告主。</td>
<td><code>Invoice.status</code>='completed', <code>Invoice.invoice_number</code>, <code>Invoice.invoice_date</code>, <code>Invoice.pdf_url</code>等更新, 新增Notification (给广告主)</td>
<td>"标记完成"按钮, 发票号输入框, 日期选择器, PDF上传/快递信息输入</td>
</tr>
<tr>
<td><em>Ext3</em></td>
<td>系统</td>
<td>S2.4 数据校验失败</td>
<td>系统在表单旁显示具体错误信息。</td>
<td></td>
<td>错误消息提示</td>
</tr>
<tr>
<td><em>Ext4</em></td>
<td>管理员</td>
<td>S2.9 审核发现问题，点击"拒绝"，填写原因</td>
<td>系统更新Invoice状态为"rejected"，记录管理员备注，通知广告主。</td>
<td><code>Invoice.status</code>='rejected', <code>Invoice.admin_remark</code>更新, 新增Notification (给广告主, 含原因)</td>
<td>"拒绝"按钮, 备注输入框</td>
</tr>
<tr>
<td><em>Ext5</em></td>
<td>广告主</td>
<td>S2.1 (可选)管理发票抬头：新增/修改/设置默认发票抬头</td>
<td>系统保存InvoiceInfo数据。</td>
<td>新增/更新InvoiceInfo记录</td>
<td>"发票抬头管理"页面</td>
</tr>
</tbody>
</table>
<h3 id="92-crc-卡片-class-responsibility-collaboration---表格形式">9.2 CRC 卡片 (Class-Responsibility-Collaboration) - 表格形式 </h3>
<table>
<thead>
<tr>
<th>类名 (Class)</th>
<th>核心职责 (Responsibilities)</th>
<th>主要协作者 (Collaborators)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>User</code> (用户)</strong></td>
<td>- 管理用户认证信息 (注册, 登录, 密码哈希, 会话)。 <br> - 维护用户基本资料和权限 (<code>is_staff</code>, <code>is_superuser</code>, <code>user_type</code>)。 <br> - 管理特定类型用户的属性 (广告主余额 <code>balance</code>, 审核状态 <code>audit_status</code>)。 <br> - 接收通知。</td>
<td><code>ValidationCode</code> (验证操作), <code>Notification</code> (接收通知), <code>AuthSys</code> (认证授权), <code>Transaction</code> (余额变动), <code>InvoiceInfo</code> (发票抬头), <code>Invoice</code> (发票申请), <code>Campaign</code>/<code>Ad</code> (作为广告主创建), <code>AuditLog</code> (作为管理员审核)</td>
</tr>
<tr>
<td><strong><code>Campaign</code> (广告活动)</strong></td>
<td>- 定义活动属性 (名称, 预算, 时间, 状态)。 <br> - 管理活动生命周期状态 (<code>CampaignStatusEnum</code>)。 <br> - 聚合其下的广告 (<code>Ad</code>)。 <br> - 计算预算消耗。</td>
<td><code>User</code> (Advertiser), <code>Ad</code> (包含的广告), <code>Transaction</code> (通过Ad花费影响预算), <code>DailyStats</code> (活动级别统计)</td>
</tr>
<tr>
<td><strong><code>Ad</code> (广告)</strong></td>
<td>- 定义广告属性 (名称, 素材, 链接, 预算, 时间, 状态)。 <br> - 管理广告生命周期状态 (<code>AdStatusEnum</code>)。 <br> - 关联到 <code>Campaign</code> 和 <code>AdPlacement</code>。 <br> - 被审核 (记录到<code>AuditLog</code>)。 <br> - 跟踪投放数据 (展示<code>AdImpression</code>, 点击<code>AdClick</code>)。</td>
<td><code>User</code> (Advertiser), <code>Campaign</code>, <code>AdPlacement</code>, <code>AuditLog</code>, <code>Transaction</code> (广告花费), <code>AdImpression</code>, <code>AdClick</code>, <code>DailyStats</code> (广告级别统计)</td>
</tr>
<tr>
<td><strong><code>AdPlacement</code> (广告位)</strong></td>
<td>- 定义广告位属性 (名称, 类型, 尺寸, 价格模型)。 <br> - 管理广告位的可用状态 (<code>is_active</code>)。</td>
<td><code>Ad</code> (承载的广告)</td>
</tr>
<tr>
<td><strong><code>Transaction</code> (交易记录)</strong></td>
<td>- 记录资金变动 (类型, 金额, 支付方式, 状态)。 <br> - 关联到用户, 可选关联广告或发票。 <br> - 管理交易生命周期状态 (<code>TransactionStatusEnum</code>)。</td>
<td><code>User</code> (交易主体), <code>Ad</code> (广告花费关联), <code>Invoice</code> (发票支付/退款关联), <code>InvoiceItem</code> (被发票项目包含), <code>PaymentGateway</code> (外部支付处理), <code>Notification</code> (交易状态通知)</td>
</tr>
<tr>
<td><strong><code>InvoiceInfo</code> (发票抬头)</strong></td>
<td>- 存储用户配置的发票抬头完整信息。 <br> - 标记是否为默认抬头。</td>
<td><code>User</code> (拥有者), <code>Invoice</code> (被发票申请使用)</td>
</tr>
<tr>
<td><strong><code>Invoice</code> (发票申请)</strong></td>
<td>- 记录发票申请详情 (抬头, 类型, 金额, 内容, 状态)。 <br> - 管理发票生命周期状态 (<code>InvoiceStatusEnum</code>)。 <br> - 聚合发票项目 (<code>InvoiceItem</code>)。 <br> - 记录开票后的信息 (票号, 日期, PDF等)。</td>
<td><code>User</code> (申请人), <code>InvoiceInfo</code> (发票抬头), <code>InvoiceItem</code> (发票明细), <code>Transaction</code> (通过InvoiceItem关联), <code>Notification</code> (发票状态通知)</td>
</tr>
<tr>
<td><strong><code>InvoiceItem</code> (发票项目)</strong></td>
<td>- 将一笔或多笔交易的金额分配到一张发票中。</td>
<td><code>Invoice</code> (所属发票), <code>Transaction</code> (关联的交易)</td>
</tr>
<tr>
<td><strong><code>AuditLog</code> (审核日志)</strong></td>
<td>- 记录对特定实体 (广告, 用户等) 的审核操作。 <br> - 包含审核人, 操作类型, 时间, 状态变更, 原因。</td>
<td><code>Ad</code> (被审核实体), <code>User</code> (被审核实体 或 执行审核的管理员)</td>
</tr>
<tr>
<td><strong><code>AdImpression</code> (展示)</strong></td>
<td>- 记录单次广告展示事件的详细信息。 <br> - 可能触发CPM计费。</td>
<td><code>Ad</code> (被展示的广告), <code>AdClick</code> (可能后续产生), <code>DailyStats</code> (被汇总)</td>
</tr>
<tr>
<td><strong><code>AdClick</code> (点击)</strong></td>
<td>- 记录单次广告点击事件的详细信息。 <br> - 可能触发CPC计费。 <br> - 可关联到对应的展示。</td>
<td><code>Ad</code> (被点击的广告), <code>AdImpression</code> (关联的展示), <code>DailyStats</code> (被汇总)</td>
</tr>
<tr>
<td><strong><code>DailyStats</code> (每日统计)</strong></td>
<td>- 按天聚合指定层级 (广告/活动/广告主/平台) 的核心指标 (展示, 点击, 花费)。 <br> - 计算并存储衍生指标 (CTR, CPC, CPM)。</td>
<td><code>Ad</code>, <code>Campaign</code>, <code>User</code> (Advertiser), <code>AdImpression</code>, <code>AdClick</code> (原始数据来源)</td>
</tr>
<tr>
<td><strong><code>Notification</code> (通知)</strong></td>
<td>- 创建和存储各类系统和业务通知。 <br> - 管理通知的已读/未读状态。 <br> - 关联接收用户和可选的触发源/链接。</td>
<td><code>User</code> (接收者/触发者), <code>Invoice</code>, <code>Ad</code>, <code>Transaction</code>, <code>Campaign</code> (通知内容可能相关的源对象)</td>
</tr>
<tr>
<td><strong><code>ValidationCode</code> (验证码)</strong></td>
<td>- 生成、存储和验证一次性验证码。 <br> - 管理验证码的有效期和使用状态。</td>
<td><code>User</code> (关联用户), <code>EmailService</code> (发送验证码邮件)</td>
</tr>
</tbody>
</table>
<h3 id="93-关键交互顺序图示例">9.3 关键交互顺序图示例 </h3>
<h4 id="931-广告主充值账户-以余额支付为例">9.3.1 广告主充值账户 (以余额支付为例) </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="1073px" preserveAspectRatio="none" style="width:2059px;height:1073px;background:#FFFFFF;" version="1.1" viewBox="0 0 2059 1073" width="2059px" zoomAndPan="magnify"><title>Sequence Diagram: Advertiser Recharges Account (Balance Payment)</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="468.3848" x="796.7925" y="29.5332">Sequence Diagram: Advertiser Recharges Account (Balance Payment)</text><g><title>Django View (recharge_view)</title><rect fill="#FFFFFF" height="797.625" style="stroke:#181818;stroke-width:1;" width="10" x="848.6538" y="183.9219"></rect></g><g><title>Transaction Model</title><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1411.79" y="359.5156"></rect></g><g><title>Transaction Model</title><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1411.79" y="693.3828"></rect></g><g><title>User Model (Advertiser)</title><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1567.2793" y="480.9219"></rect></g><g><title>User Model (Advertiser)</title><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1;" width="10" x="1567.2793" y="602.3281"></rect></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1725.0996" y="814.7891"></rect></g><rect fill="none" height="732.2734" style="stroke:#000000;stroke-width:1.5;" width="2042.9697" x="10" y="242.2734"></rect><g><title>Advertiser</title><rect fill="#000000" fill-opacity="0.00000" height="870.3281" width="8" x="50.5103" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="54" x2="54" y1="121.2188" y2="991.5469"></line></g><g><title>Browser</title><rect fill="#000000" fill-opacity="0.00000" height="870.3281" width="8" x="409.5078" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="412.8354" x2="412.8354" y1="121.2188" y2="991.5469"></line></g><g><title>Django View (recharge_view)</title><rect fill="#000000" fill-opacity="0.00000" height="870.3281" width="8" x="849.6538" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="853.2231" x2="853.2231" y1="121.2188" y2="991.5469"></line></g><g><title>Transaction Model</title><rect fill="#000000" fill-opacity="0.00000" height="870.3281" width="8" x="1412.79" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1416.2075" x2="1416.2075" y1="121.2188" y2="991.5469"></line></g><g><title>User Model (Advertiser)</title><rect fill="#000000" fill-opacity="0.00000" height="870.3281" width="8" x="1568.2793" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1571.3726" x2="1571.3726" y1="121.2188" y2="991.5469"></line></g><g><title>Notification Service</title><rect fill="#000000" fill-opacity="0.00000" height="870.3281" width="8" x="1726.0996" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1729.186" x2="1729.186" y1="121.2188" y2="991.5469"></line></g><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="870.3281" width="8" x="1900.3149" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1903.3496" x2="1903.3496" y1="121.2188" y2="991.5469"></line></g><g><title>EmailService</title><rect fill="#000000" fill-opacity="0.00000" height="870.3281" width="8" x="1991.125" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1994.2803" x2="1994.2803" y1="121.2188" y2="991.5469"></line></g><g class="participant participant-head" data-participant="Advertiser"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="20" y="118.1426">Advertiser</text><ellipse cx="54.5103" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M54.5103,60.1094 L54.5103,87.1094 M41.5103,68.1094 L67.5103,68.1094 M54.5103,87.1094 L41.5103,102.1094 M54.5103,87.1094 L67.5103,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path></g><g class="participant participant-tail" data-participant="Advertiser"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.0205" x="20" y="1005.0801">Advertiser</text><ellipse cx="54.5103" cy="1016.6563" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M54.5103,1024.6563 L54.5103,1051.6563 M41.5103,1032.6563 L67.5103,1032.6563 M54.5103,1051.6563 L41.5103,1066.6563 M54.5103,1051.6563 L67.5103,1066.6563" fill="none" style="stroke:#181818;stroke-width:0.5;"></path></g><g class="participant participant-head" data-participant="WebBrowser"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.3447" x="380.8354" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3447" x="387.8354" y="110.1426">Browser</text></g><g class="participant participant-tail" data-participant="WebBrowser"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.3447" x="380.8354" y="990.5469"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.3447" x="387.8354" y="1012.0801">Browser</text></g><g class="participant participant-head" data-participant="RechargeView"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196.8613" x="755.2231" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.8613" x="762.2231" y="110.1426">Django View (recharge_view)</text></g><g class="participant participant-tail" data-participant="RechargeView"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196.8613" x="755.2231" y="990.5469"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.8613" x="762.2231" y="1012.0801">Django View (recharge_view)</text></g><g class="participant participant-head" data-participant="TransactionModel"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.165" x="1352.2075" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.165" x="1359.2075" y="110.1426">Transaction Model</text></g><g class="participant participant-tail" data-participant="TransactionModel"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.165" x="1352.2075" y="990.5469"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.165" x="1359.2075" y="1012.0801">Transaction Model</text></g><g class="participant participant-head" data-participant="UserModel"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.8135" x="1491.3726" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.8135" x="1498.3726" y="110.1426">User Model (Advertiser)</text></g><g class="participant participant-tail" data-participant="UserModel"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161.8135" x="1491.3726" y="990.5469"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.8135" x="1498.3726" y="1012.0801">User Model (Advertiser)</text></g><g class="participant participant-head" data-participant="NotifyService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8271" x="1663.186" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="1670.186" y="110.1426">Notification Service</text></g><g class="participant participant-tail" data-participant="NotifyService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133.8271" x="1663.186" y="990.5469"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.8271" x="1670.186" y="1012.0801">Notification Service</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1871.3496" y="118.1426">Database</text><path d="M1886.3149,67.6094 C1886.3149,57.6094 1904.3149,57.6094 1904.3149,57.6094 C1904.3149,57.6094 1922.3149,57.6094 1922.3149,67.6094 L1922.3149,93.6094 C1922.3149,103.6094 1904.3149,103.6094 1904.3149,103.6094 C1904.3149,103.6094 1886.3149,103.6094 1886.3149,93.6094 L1886.3149,67.6094" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"></path><path d="M1886.3149,67.6094 C1886.3149,77.6094 1904.3149,77.6094 1904.3149,77.6094 C1904.3149,77.6094 1922.3149,77.6094 1922.3149,67.6094" fill="none" style="stroke:#181818;stroke-width:1.5;"></path></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.9307" x="1871.3496" y="1005.0801">Database</text><path d="M1886.3149,1018.1563 C1886.3149,1008.1563 1904.3149,1008.1563 1904.3149,1008.1563 C1904.3149,1008.1563 1922.3149,1008.1563 1922.3149,1018.1563 L1922.3149,1044.1563 C1922.3149,1054.1563 1904.3149,1054.1563 1904.3149,1054.1563 C1904.3149,1054.1563 1886.3149,1054.1563 1886.3149,1044.1563 L1886.3149,1018.1563" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"></path><path d="M1886.3149,1018.1563 C1886.3149,1028.1563 1904.3149,1028.1563 1904.3149,1028.1563 C1904.3149,1028.1563 1922.3149,1028.1563 1922.3149,1018.1563" fill="none" style="stroke:#181818;stroke-width:1.5;"></path></g><g class="participant participant-head" data-participant="EmailService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.6895" x="1947.2803" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.6895" x="1954.2803" y="110.1426">EmailService</text></g><g class="participant participant-tail" data-participant="EmailService"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.6895" x="1947.2803" y="990.5469"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.6895" x="1954.2803" y="1012.0801">EmailService</text></g><g><title>Django View (recharge_view)</title><rect fill="#FFFFFF" height="797.625" style="stroke:#181818;stroke-width:1;" width="10" x="848.6538" y="183.9219"></rect></g><g><title>Transaction Model</title><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1411.79" y="359.5156"></rect></g><g><title>Transaction Model</title><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1411.79" y="693.3828"></rect></g><g><title>User Model (Advertiser)</title><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1567.2793" y="480.9219"></rect></g><g><title>User Model (Advertiser)</title><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1;" width="10" x="1567.2793" y="602.3281"></rect></g><g><title>Notification Service</title><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1725.0996" y="814.7891"></rect></g><g class="message" data-participant-1="Advertiser" data-participant-2="WebBrowser"><polygon fill="#181818" points="401.5078,149.5703,411.5078,153.5703,401.5078,157.5703,405.5078,153.5703" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="54.5103" x2="407.5078" y1="153.5703" y2="153.5703"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="334.9976" x="61.5103" y="148.7139">1. 访问充值页面, 输入充值金额 (e.g., 100), 选择"余额支付"</text></g><g class="message" data-participant-1="WebBrowser" data-participant-2="RechargeView"><polygon fill="#181818" points="836.6538,179.9219,846.6538,183.9219,836.6538,187.9219,840.6538,183.9219" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="413.5078" x2="842.6538" y1="183.9219" y2="183.9219"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="416.146" x="420.5078" y="179.0654">2. POST /payment/recharge/ (amount=100, payment_method='balance')</text></g><g class="message" data-participant-1="RechargeView" data-participant-2="RechargeView"><line style="stroke:#181818;stroke-width:1;" x1="858.6538" x2="900.6538" y1="214.2734" y2="214.2734"></line><line style="stroke:#181818;stroke-width:1;" x1="900.6538" x2="900.6538" y1="214.2734" y2="227.2734"></line><line style="stroke:#181818;stroke-width:1;" x1="859.6538" x2="900.6538" y1="227.2734" y2="227.2734"></line><polygon fill="#181818" points="869.6538,223.2734,859.6538,227.2734,869.6538,231.2734,865.6538,227.2734" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.0645" x="865.6538" y="209.417">3. 校验充值金额 (e.g., &gt; 0)</text></g><path d="M10,242.2734 L70.1709,242.2734 L70.1709,250.625 L60.1709,260.625 L10,260.625 L10,242.2734" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="732.2734" style="stroke:#000000;stroke-width:1.5;" width="2042.9697" x="10" y="242.2734"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="25" y="256.7686">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="53.7324" x="85.1709" y="255.6924">[金额无效]</text><g class="message" data-participant-1="RechargeView" data-participant-2="WebBrowser"><polygon fill="#181818" points="424.5078,278.9766,414.5078,282.9766,424.5078,286.9766,420.5078,282.9766" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="418.5078" x2="847.6538" y1="282.9766" y2="282.9766"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.6836" x="430.5078" y="278.1201">4a. 返回错误信息</text></g><g class="message" data-participant-1="WebBrowser" data-participant-2="Advertiser"><polygon fill="#181818" points="65.5103,309.3281,55.5103,313.3281,65.5103,317.3281,61.5103,313.3281" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="59.5103" x2="412.5078" y1="313.3281" y2="313.3281"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.6836" x="71.5103" y="308.4717">4b. 显示错误</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="2052.9697" y1="322.3281" y2="322.3281"></line><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="53.7324" x="15" y="333.7471">[金额有效]</text><g class="message" data-participant-1="RechargeView" data-participant-2="TransactionModel"><polygon fill="#181818" points="1399.79,355.5156,1409.79,359.5156,1399.79,363.5156,1403.79,359.5156" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="858.6538" x2="1405.79" y1="359.5156" y2="359.5156"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="534.1362" x="865.6538" y="354.6592">5. create(user=advertiser, amount=100, type='recharge', method='balance', status='pending')</text></g><g class="message" data-participant-1="TransactionModel" data-participant-2="DB"><polygon fill="#181818" points="1892.3149,385.8672,1902.3149,389.8672,1892.3149,393.8672,1896.3149,389.8672" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1421.79" x2="1898.3149" y1="389.8672" y2="389.8672"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242.0425" x="1428.79" y="385.0107">6. 创建 Transaction 记录 (status: pending)</text></g><g class="message" data-participant-1="DB" data-participant-2="TransactionModel"><polygon fill="#181818" points="1432.79,416.2188,1422.79,420.2188,1432.79,424.2188,1428.79,420.2188" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1426.79" x2="1903.3149" y1="420.2188" y2="420.2188"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.4771" x="1438.79" y="415.3623">7. 返回 Transaction 实例 (tx_pending)</text></g><g class="message" data-participant-1="TransactionModel" data-participant-2="RechargeView"><polygon fill="#181818" points="869.6538,446.5703,859.6538,450.5703,869.6538,454.5703,865.6538,450.5703" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="863.6538" x2="1415.79" y1="450.5703" y2="450.5703"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.0635" x="875.6538" y="445.7139">8. tx_pending</text></g><g class="message" data-participant-1="RechargeView" data-participant-2="UserModel"><polygon fill="#181818" points="1555.2793,476.9219,1565.2793,480.9219,1555.2793,484.9219,1559.2793,480.9219" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="858.6538" x2="1561.2793" y1="480.9219" y2="480.9219"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.1426" x="865.6538" y="476.0654">9. get(user=advertiser)</text></g><g class="message" data-participant-1="UserModel" data-participant-2="DB"><polygon fill="#181818" points="1892.3149,507.2734,1902.3149,511.2734,1892.3149,515.2734,1896.3149,511.2734" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1577.2793" x2="1898.3149" y1="511.2734" y2="511.2734"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.4263" x="1584.2793" y="506.417">10. 获取 Advertiser 用户对象</text></g><g class="message" data-participant-1="DB" data-participant-2="UserModel"><polygon fill="#181818" points="1588.2793,537.625,1578.2793,541.625,1588.2793,545.625,1584.2793,541.625" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1582.2793" x2="1903.3149" y1="541.625" y2="541.625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.3125" x="1594.2793" y="536.7686">11. Advertiser 对象 (current_balance)</text></g><g class="message" data-participant-1="UserModel" data-participant-2="RechargeView"><polygon fill="#181818" points="869.6538,567.9766,859.6538,571.9766,869.6538,575.9766,865.6538,571.9766" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="863.6538" x2="1571.2793" y1="571.9766" y2="571.9766"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.0718" x="875.6538" y="567.1201">12.</text></g><g class="message" data-participant-1="RechargeView" data-participant-2="UserModel"><polygon fill="#181818" points="1555.2793,598.3281,1565.2793,602.3281,1555.2793,606.3281,1559.2793,602.3281" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="858.6538" x2="1561.2793" y1="602.3281" y2="602.3281"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.0405" x="865.6538" y="597.4717">13. advertiser.balance += 100; advertiser.save()</text></g><g class="message" data-participant-1="UserModel" data-participant-2="DB"><polygon fill="#181818" points="1892.3149,628.6797,1902.3149,632.6797,1892.3149,636.6797,1896.3149,632.6797" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1577.2793" x2="1898.3149" y1="632.6797" y2="632.6797"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.6836" x="1584.2793" y="627.8232">14. 更新用户余额</text></g><g class="message" data-participant-1="DB" data-participant-2="UserModel"><polygon fill="#181818" points="1583.2793,659.0313,1573.2793,663.0313,1583.2793,667.0313,1579.2793,663.0313" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1577.2793" x2="1903.3149" y1="663.0313" y2="663.0313"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.0718" x="1589.2793" y="658.1748">15.</text></g><g class="message" data-participant-1="RechargeView" data-participant-2="TransactionModel"><polygon fill="#181818" points="1399.79,689.3828,1409.79,693.3828,1399.79,697.3828,1403.79,693.3828" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="858.6538" x2="1405.79" y1="693.3828" y2="693.3828"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313.9106" x="865.6538" y="688.5264">16. tx_pending.status = 'completed'; tx_pending.save()</text></g><g class="message" data-participant-1="TransactionModel" data-participant-2="DB"><polygon fill="#181818" points="1892.3149,719.7344,1902.3149,723.7344,1892.3149,727.7344,1896.3149,723.7344" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1421.79" x2="1898.3149" y1="723.7344" y2="723.7344"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.3818" x="1428.79" y="718.8779">17. 更新 Transaction 状态为 'completed'</text></g><g class="message" data-participant-1="DB" data-participant-2="TransactionModel"><polygon fill="#181818" points="1432.79,750.0859,1422.79,754.0859,1432.79,758.0859,1428.79,754.0859" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1426.79" x2="1903.3149" y1="754.0859" y2="754.0859"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.0718" x="1438.79" y="749.2295">18.</text></g><g class="message" data-participant-1="TransactionModel" data-participant-2="RechargeView"><polygon fill="#181818" points="869.6538,780.4375,859.6538,784.4375,869.6538,788.4375,865.6538,784.4375" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="863.6538" x2="1415.79" y1="784.4375" y2="784.4375"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.0718" x="875.6538" y="779.5811">19.</text></g><g class="message" data-participant-1="RechargeView" data-participant-2="NotifyService"><polygon fill="#181818" points="1713.0996,810.7891,1723.0996,814.7891,1713.0996,818.7891,1717.0996,814.7891" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="858.6538" x2="1719.0996" y1="814.7891" y2="814.7891"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="411.1948" x="865.6538" y="809.9326">20. send_recharge_success_notification(advertiser, 100, tx_pending.id)</text></g><g class="message" data-participant-1="NotifyService" data-participant-2="DB"><polygon fill="#181818" points="1892.3149,841.1406,1902.3149,845.1406,1892.3149,849.1406,1896.3149,845.1406" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="1735.0996" x2="1898.3149" y1="845.1406" y2="845.1406"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.2153" x="1742.0996" y="840.2842">21. 创建 Notification 记录</text></g><g class="message" data-participant-1="DB" data-participant-2="NotifyService"><polygon fill="#181818" points="1746.0996,871.4922,1736.0996,875.4922,1746.0996,879.4922,1742.0996,875.4922" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1740.0996" x2="1903.3149" y1="875.4922" y2="875.4922"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.0718" x="1752.0996" y="870.6357">22.</text></g><g class="message" data-participant-1="NotifyService" data-participant-2="EmailService"><polygon fill="#181818" points="1983.125,901.8438,1993.125,905.8438,1983.125,909.8438,1987.125,905.8438" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1730.0996" x2="1989.125" y1="905.8438" y2="905.8438"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.9536" x="1737.0996" y="900.9873">23. (可选) 发送充值成功邮件</text></g><g class="message" data-participant-1="RechargeView" data-participant-2="WebBrowser"><polygon fill="#181818" points="424.5078,932.1953,414.5078,936.1953,424.5078,940.1953,420.5078,936.1953" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="418.5078" x2="847.6538" y1="936.1953" y2="936.1953"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.519" x="430.5078" y="931.3389">24. 重定向到余额页面 / 返回成功信息</text></g><g class="message" data-participant-1="WebBrowser" data-participant-2="Advertiser"><polygon fill="#181818" points="65.5103,962.5469,55.5103,966.5469,65.5103,970.5469,61.5103,966.5469" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="59.5103" x2="412.5078" y1="966.5469" y2="966.5469"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.8735" x="71.5103" y="961.6904">25. 显示“充值成功 ¥100”</text></g><!--SRC=[dPNTJzDG5C3V-rUSyB8kpa8d2CoCn6K-gaHG7vTBTvqrMplRkoblmuGmH4KYVY0VYj54VTWmyHCK4lyKinRwNtZRswsttH1mJ-kvvznppk-U3wAI8eO9VBk2DGL3LaK50vLIS3vVnGPHJMp05QpSH4O1ct1UKVIAHa3Ce29orSVHT0bh92u8I26wmLa9PKJ_A6ePKVs-ZA7VeS8-G2PSnrF-PrWdUmjf1HskgVWEY8RlCrUbdt7FhXs6gn2sd3IGPj80L5s3YteU5przJke9mpPNtSmyEOX1rCoJUzR3v99Er1kgWZm_4zYegWhszBs3QLyYv151KyZ4D2F_dwUKpGW21_Nq60SY1R841uqzvtd3cfsrQZ-TpI_E-fi47Em-iMRV-RAv9UVDEeXOAaW9a0S6uWbmQlFsmeU-rgyLUcGlDrixB_g4u5xN2uyj1Ka9nYzFJ49_cRrSVnjqFuYev3vkcjwS0FyuLyBaffvFnwROWyVOIwjLH73uGVYFRhTd9B1VRpeV7_HAPGm6uW8g4c1Y-_bh-sbT0FeBNnf1DeWeixrbQtN3MLuvQ3PRUvlsJDEpumbGgm0xjPgYeRpOtN-xpQm4NAHFvNjUc-_jUQohc58m985YOCf1hD2BqwZZ8m4yI39TnkbOct8i0L6Y2J098XKp7IjZBQzg1ShOZQ23kQkEtTEeq8qncqd1MGci-ggriyrhqDBQiduz1P5vIe7lYJdAPZn8tHaEj_c6xh8Q6wtT1H39tLpeckw8kgfWH8B0oZFAuyFJxFaEdTPCmQW41KoYz2FmWbPsnPslDYvvWERuw9kr-8mVUFlBx-twDwlvu-3J9e-8SoxJXkKic2w8IiKmtBRn7pSUzTg5H4vAKH11o4SHa6bR1PbBlbCubNQdmpd-o4HLB9uGpI1jbDNFzhCjXeFDcCDm39qqZUvoay_ovI6nMeKqn1IzL2vYWlEnSo657ZcTg5VauNQ6eGBVl__Lhisqlc_pdl_TAVA8TDmUa4Ub_wlyq9AXWvnMhab9v3gRqgme2ZRDdCQjAP4VIsmU1G3LV8HUU8-vHo59crjIxWoPq4faKuOd5OtPB_R8hLJnGWcfnK2FrhLeBJRfTek3jRZar6ROth3hZwtxhvnxZTREroZ5SF17huyahMzdxg7LU6azNhBgMwo-sUA5Vd_oCOV7sop9eVPc-LDRu-E5t-ye-Z-rTO625xYG-VZ-0W00]--></g></svg></p><h4 id="932-广告投放与数据收集-简化流程">9.3.2 广告投放与数据收集 (简化流程) </h4>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="SEQUENCE" height="830px" preserveAspectRatio="none" style="width:980px;height:830px;background:#FFFFFF;" version="1.1" viewBox="0 0 980 830" width="980px" zoomAndPan="magnify"><title>广告投放与数据收集序列图</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="177.1875" x="403.3472" y="29.5332">广告投放与数据收集序列图</text><rect fill="none" height="214.4609" style="stroke:#000000;stroke-width:1.5;" width="964.8818" x="10" y="486.0859"></rect><g><title>终端用户</title><rect fill="#000000" fill-opacity="0.00000" height="626.6797" width="8" x="47" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="121.2188" y2="747.8984"></line></g><g><title>发布商平台</title><rect fill="#000000" fill-opacity="0.00000" height="626.6797" width="8" x="227" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="231" x2="231" y1="121.2188" y2="747.8984"></line></g><g><title>广告投放引擎</title><rect fill="#000000" fill-opacity="0.00000" height="626.6797" width="8" x="422.8818" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="426.8818" x2="426.8818" y1="121.2188" y2="747.8984"></line></g><g><title>广告模型</title><rect fill="#000000" fill-opacity="0.00000" height="626.6797" width="8" x="524.8818" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="528.8818" x2="528.8818" y1="121.2188" y2="747.8984"></line></g><g><title>展示记录模型</title><rect fill="#000000" fill-opacity="0.00000" height="626.6797" width="8" x="618.8818" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="622.8818" x2="622.8818" y1="121.2188" y2="747.8984"></line></g><g><title>点击记录模型</title><rect fill="#000000" fill-opacity="0.00000" height="626.6797" width="8" x="726.8818" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="730.8818" x2="730.8818" y1="121.2188" y2="747.8984"></line></g><g><title>统计服务</title><rect fill="#000000" fill-opacity="0.00000" height="626.6797" width="8" x="820.8818" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="824.8818" x2="824.8818" y1="121.2188" y2="747.8984"></line></g><g><title>广告数据库</title><rect fill="#000000" fill-opacity="0.00000" height="626.6797" width="8" x="922.8818" y="121.2188"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="926.8818" x2="926.8818" y1="121.2188" y2="747.8984"></line></g><g class="participant participant-head" data-participant="Viewer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="20" y="118.1426">终端用户</text><ellipse cx="51" cy="52.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M51,60.1094 L51,87.1094 M38,68.1094 L64,68.1094 M51,87.1094 L38,102.1094 M51,87.1094 L64,102.1094" fill="none" style="stroke:#181818;stroke-width:0.5;"></path></g><g class="participant participant-tail" data-participant="Viewer"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="20" y="761.4316">终端用户</text><ellipse cx="51" cy="773.0078" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><path d="M51,781.0078 L51,808.0078 M38,789.0078 L64,789.0078 M51,808.0078 L38,823.0078 M51,808.0078 L64,823.0078" fill="none" style="stroke:#181818;stroke-width:0.5;"></path></g><g class="participant participant-head" data-participant="Publisher"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="189" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="196" y="110.1426">发布商平台</text></g><g class="participant participant-tail" data-participant="Publisher"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="189" y="746.8984"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="196" y="768.4316">发布商平台</text></g><g class="participant participant-head" data-participant="AdServing"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="377.8818" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="384.8818" y="110.1426">广告投放引擎</text></g><g class="participant participant-tail" data-participant="AdServing"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="377.8818" y="746.8984"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="384.8818" y="768.4316">广告投放引擎</text></g><g class="participant participant-head" data-participant="AdModel"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="493.8818" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="500.8818" y="110.1426">广告模型</text></g><g class="participant participant-tail" data-participant="AdModel"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="493.8818" y="746.8984"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="500.8818" y="768.4316">广告模型</text></g><g class="participant participant-head" data-participant="Impression"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="573.8818" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="580.8818" y="110.1426">展示记录模型</text></g><g class="participant participant-tail" data-participant="Impression"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="573.8818" y="746.8984"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="580.8818" y="768.4316">展示记录模型</text></g><g class="participant participant-head" data-participant="Click"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="681.8818" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="688.8818" y="110.1426">点击记录模型</text></g><g class="participant participant-tail" data-participant="Click"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="681.8818" y="746.8984"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="688.8818" y="768.4316">点击记录模型</text></g><g class="participant participant-head" data-participant="Stats"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="789.8818" y="88.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="796.8818" y="110.1426">统计服务</text></g><g class="participant participant-tail" data-participant="Stats"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70" x="789.8818" y="746.8984"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="796.8818" y="768.4316">统计服务</text></g><g class="participant participant-head" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="888.8818" y="118.1426">广告数据库</text><path d="M908.8818,67.6094 C908.8818,57.6094 926.8818,57.6094 926.8818,57.6094 C926.8818,57.6094 944.8818,57.6094 944.8818,67.6094 L944.8818,93.6094 C944.8818,103.6094 926.8818,103.6094 926.8818,103.6094 C926.8818,103.6094 908.8818,103.6094 908.8818,93.6094 L908.8818,67.6094" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"></path><path d="M908.8818,67.6094 C908.8818,77.6094 926.8818,77.6094 926.8818,77.6094 C926.8818,77.6094 944.8818,77.6094 944.8818,67.6094" fill="none" style="stroke:#181818;stroke-width:1.5;"></path></g><g class="participant participant-tail" data-participant="DB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="888.8818" y="761.4316">广告数据库</text><path d="M908.8818,774.5078 C908.8818,764.5078 926.8818,764.5078 926.8818,764.5078 C926.8818,764.5078 944.8818,764.5078 944.8818,774.5078 L944.8818,800.5078 C944.8818,810.5078 926.8818,810.5078 926.8818,810.5078 C926.8818,810.5078 908.8818,810.5078 908.8818,800.5078 L908.8818,774.5078" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"></path><path d="M908.8818,774.5078 C908.8818,784.5078 926.8818,784.5078 926.8818,784.5078 C926.8818,784.5078 944.8818,784.5078 944.8818,774.5078" fill="none" style="stroke:#181818;stroke-width:1.5;"></path></g><g class="message" data-participant-1="Viewer" data-participant-2="Publisher"><polygon fill="#181818" points="219,149.5703,229,153.5703,219,157.5703,223,153.5703" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="51" x2="225" y1="153.5703" y2="153.5703"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="58" y="148.7139">访问页面（触发广告请求）</text></g><g class="message" data-participant-1="Publisher" data-participant-2="AdServing"><polygon fill="#181818" points="414.8818,179.9219,424.8818,183.9219,414.8818,187.9219,418.8818,183.9219" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="231" x2="420.8818" y1="183.9219" y2="183.9219"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.8818" x="238" y="179.0654">请求广告(位置ID, 用户上下文)</text></g><g class="message" data-participant-1="AdServing" data-participant-2="AdModel"><polygon fill="#181818" points="516.8818,210.2734,526.8818,214.2734,516.8818,218.2734,520.8818,214.2734" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="426.8818" x2="522.8818" y1="214.2734" y2="214.2734"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="433.8818" y="209.417">查找合适广告</text></g><g class="message" data-participant-1="AdModel" data-participant-2="DB"><polygon fill="#181818" points="914.8818,240.625,924.8818,244.625,914.8818,248.625,918.8818,244.625" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="528.8818" x2="920.8818" y1="244.625" y2="244.625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="535.8818" y="239.7686">查询有效广告</text></g><g class="message" data-participant-1="DB" data-participant-2="AdModel"><polygon fill="#181818" points="539.8818,270.9766,529.8818,274.9766,539.8818,278.9766,535.8818,274.9766" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="533.8818" x2="925.8818" y1="274.9766" y2="274.9766"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="545.8818" y="270.1201">返回广告列表</text></g><g class="message" data-participant-1="AdModel" data-participant-2="AdServing"><polygon fill="#181818" points="437.8818,301.3281,427.8818,305.3281,437.8818,309.3281,433.8818,305.3281" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="431.8818" x2="527.8818" y1="305.3281" y2="305.3281"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="443.8818" y="300.4717">选中广告</text></g><g class="message" data-participant-1="AdServing" data-participant-2="Publisher"><polygon fill="#181818" points="242,331.6797,232,335.6797,242,339.6797,238,335.6797" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="236" x2="425.8818" y1="335.6797" y2="335.6797"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="248" y="330.8232">返回广告素材</text></g><g class="message" data-participant-1="Publisher" data-participant-2="Viewer"><polygon fill="#181818" points="62,362.0313,52,366.0313,62,370.0313,58,366.0313" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="56" x2="230" y1="366.0313" y2="366.0313"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="68" y="361.1748">展示广告</text></g><g class="message" data-participant-1="AdServing" data-participant-2="Impression"><polygon fill="#181818" points="610.8818,392.3828,620.8818,396.3828,610.8818,400.3828,614.8818,396.3828" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="426.8818" x2="616.8818" y1="396.3828" y2="396.3828"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="433.8818" y="391.5264">记录展示</text></g><g class="message" data-participant-1="Impression" data-participant-2="DB"><polygon fill="#181818" points="914.8818,422.7344,924.8818,426.7344,914.8818,430.7344,918.8818,426.7344" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="622.8818" x2="920.8818" y1="426.7344" y2="426.7344"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="629.8818" y="421.8779">创建展示记录</text></g><g class="message" data-participant-1="DB" data-participant-2="Impression"><polygon fill="#181818" points="633.8818,436.7344,623.8818,440.7344,633.8818,444.7344,629.8818,440.7344" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="627.8818" x2="925.8818" y1="440.7344" y2="440.7344"></line></g><g class="message" data-participant-1="AdServing" data-participant-2="Stats"><polygon fill="#181818" points="812.8818,467.0859,822.8818,471.0859,812.8818,475.0859,816.8818,471.0859" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="426.8818" x2="818.8818" y1="471.0859" y2="471.0859"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="433.8818" y="466.2295">增加展示计数</text></g><path d="M10,486.0859 L70.1709,486.0859 L70.1709,494.4375 L60.1709,504.4375 L10,504.4375 L10,486.0859" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="214.4609" style="stroke:#000000;stroke-width:1.5;" width="964.8818" x="10" y="486.0859"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="25" y="500.5811">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76.9355" x="85.1709" y="499.5049">[用户点击广告]</text><g class="message" data-participant-1="Viewer" data-participant-2="Publisher"><polygon fill="#181818" points="219,522.7891,229,526.7891,219,530.7891,223,526.7891" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="51" x2="225" y1="526.7891" y2="526.7891"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="58" y="521.9326">点击广告</text></g><g class="message" data-participant-1="Publisher" data-participant-2="AdServing"><polygon fill="#181818" points="414.8818,553.1406,424.8818,557.1406,414.8818,561.1406,418.8818,557.1406" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="231" x2="420.8818" y1="557.1406" y2="557.1406"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="238" y="552.2842">上报点击事件</text></g><g class="message" data-participant-1="AdServing" data-participant-2="Click"><polygon fill="#181818" points="718.8818,583.4922,728.8818,587.4922,718.8818,591.4922,722.8818,587.4922" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="426.8818" x2="724.8818" y1="587.4922" y2="587.4922"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="433.8818" y="582.6357">记录点击</text></g><g class="message" data-participant-1="Click" data-participant-2="DB"><polygon fill="#181818" points="914.8818,613.8438,924.8818,617.8438,914.8818,621.8438,918.8818,617.8438" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="730.8818" x2="920.8818" y1="617.8438" y2="617.8438"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="737.8818" y="612.9873">创建点击记录</text></g><g class="message" data-participant-1="DB" data-participant-2="Click"><polygon fill="#181818" points="741.8818,627.8438,731.8818,631.8438,741.8818,635.8438,737.8818,631.8438" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="735.8818" x2="925.8818" y1="631.8438" y2="631.8438"></line></g><g class="message" data-participant-1="AdServing" data-participant-2="Stats"><polygon fill="#181818" points="812.8818,658.1953,822.8818,662.1953,812.8818,666.1953,816.8818,662.1953" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="426.8818" x2="818.8818" y1="662.1953" y2="662.1953"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="433.8818" y="657.3389">增加点击计数</text></g><g class="message" data-participant-1="AdServing" data-participant-2="Viewer"><polygon fill="#181818" points="62,688.5469,52,692.5469,62,696.5469,58,692.5469" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="56" x2="425.8818" y1="692.5469" y2="692.5469"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0063" x="68" y="687.6904">重定向到目标URL</text></g><g class="message" data-participant-1="Stats" data-participant-2="DB"><polygon fill="#181818" points="914.8818,725.8984,924.8818,729.8984,914.8818,733.8984,918.8818,729.8984" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="824.8818" x2="920.8818" y1="729.8984" y2="729.8984"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="831.8818" y="725.042">更新统计数据</text></g><!--SRC=[TPDTJzfG6CVlpwTekDcMp2_0XScSDoPRiiniznMQhP6tqBBTeaPfIn2DLEEGbn9VI1OBPawXg7oOzJbjh_mAEvpJGYlARN_Fm_D_ER8efmGEXcFOrx2cuzg3FTZ5UXzNJ5oxyUexO5L1EOBw0qAlEETYv1sVOhM8JrIlqOJnjdk-0TLDCl1uf_05EPiffDU4_B_YXhGkPd9ydayxb-hZdKg6xT6sFMuu-Z6qBCSeJXV3zfPptKQ8JyZPFFTL57uAUOwNk9WpKfpVFQVMnSfj395bifWGStn6vZuLrbAYzDtdeBeFWotGTs3u1whzAFekkIhaVuYPRmmD2OKx7H_iFgK_PfD2Ains3MYMezHAEfSN94dCPXXufJkdbclsuLv_3d-V4XFhJD7c44gZbybLcPSbNtlBDGryKW7DYA4aB_Dhl2HmoqlXqsXCO1t44F9jMrYSUHFdN7Fi7PcUyTThT4W-xiNvn2eww_PkyTNc99YPbsHuwXOPfWIZNzlt5UVUN5b-ox4ux85c3yhuiFG6pGocyzI_E8TRPrXzW3t5A_exKE0jmPQNAE7sEgH8M5TyWgXR22znnpMeDzb7qXNNwCwMH8_rYgezk9p-qVIY9tw4zf7AuSPUM3rXcOjnZYKwlsun5Ft4tacEZ4MXJlW2GQd3o0gN8n0ONX9TJmj0HZjDqDh1g4629iyZ9VlcinRvrt7azspuSzHBGPCiiNR6SDigswCRYaVkeXKE53EKGgpQ4S7XZbF65-slcDyTqHnCKyrpQ92FLwg0-Glsza7fEtKJjqjVFdz0GYQ947j2GSVgr_Ymxxyb-bh-0m00]--></g></svg></p><h2 id="10-项目接口设计">10. 项目接口设计 </h2>
<p>本节描述 AdWeb 平台后端对外及内部关键接口的设计。</p>
<h3 id="101-主要api端点-restful风格---示例">10.1 主要API端点 (RESTful风格 - 示例) </h3>
<table>
<thead>
<tr>
<th>HTTP方法</th>
<th>端点路径</th>
<th>控制器/视图 (App.View)</th>
<th>描述</th>
<th>主要请求体 (示例)</th>
<th>主要响应体 (示例)</th>
<th>权限</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/users/register/</code></td>
<td><code>UsersApp.register_user</code></td>
<td>用户注册</td>
<td><code>{username, email, password}</code></td>
<td><code>{user_id, username, email, message}</code></td>
<td>公开</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/users/login/</code></td>
<td><code>UsersApp.login_user</code></td>
<td>用户登录</td>
<td><code>{username, password}</code></td>
<td><code>{token, user_id, username}</code></td>
<td>公开</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/users/profile/</code></td>
<td><code>UsersApp.user_profile</code></td>
<td>获取当前用户信息</td>
<td>-</td>
<td><code>{user_id, username, email, balance, company, ...}</code></td>
<td>广告主/管理员</td>
</tr>
<tr>
<td>PUT</td>
<td><code>/api/users/profile/</code></td>
<td><code>UsersApp.update_profile</code></td>
<td>更新用户信息</td>
<td><code>{company, phone, ...}</code></td>
<td><code>{user_id, username, ..., message}</code></td>
<td>广告主/管理员</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/campaigns/</code></td>
<td><code>AdManageApp.list_campaigns</code></td>
<td>获取广告活动列表</td>
<td>-</td>
<td><code>[{id, name, status, budget, ...}, ...]</code></td>
<td>广告主/管理员</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/campaigns/</code></td>
<td><code>AdManageApp.create_campaign</code></td>
<td>创建广告活动</td>
<td><code>{name, budget, start_date, end_date}</code></td>
<td><code>{id, name, status, ..., message}</code></td>
<td>广告主</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/campaigns/{id}/</code></td>
<td><code>AdManageApp.campaign_detail</code></td>
<td>获取特定广告活动详情</td>
<td>-</td>
<td><code>{id, name, status, ads:[...], ...}</code></td>
<td>广告主/管理员</td>
</tr>
<tr>
<td>PUT</td>
<td><code>/api/campaigns/{id}/</code></td>
<td><code>AdManageApp.update_campaign</code></td>
<td>更新广告活动</td>
<td><code>{name?, budget?, status?}</code></td>
<td><code>{id, name, status, ..., message}</code></td>
<td>广告主</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/ads/</code></td>
<td><code>AdPlaceApp.list_ads</code></td>
<td>获取广告列表 (可带过滤参数)</td>
<td><code>?campaign_id={id}&amp;status={status}</code></td>
<td><code>[{id, name, status, campaign_id, ...}, ...]</code></td>
<td>广告主/管理员</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/ads/</code></td>
<td><code>AdPlaceApp.create_ad</code></td>
<td>创建广告</td>
<td><code>{campaign_id, placement_id, name, creative, ...}</code></td>
<td><code>{id, name, status, ..., message}</code></td>
<td>广告主</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/ads/{id}/submit_audit/</code></td>
<td><code>AdPlaceApp.submit_ad_audit</code></td>
<td>提交广告审核</td>
<td>-</td>
<td><code>{message}</code></td>
<td>广告主</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/admin/ads/pending_audit/</code></td>
<td><code>AdAuditApp.pending_ads</code></td>
<td>(管理员)获取待审核广告列表</td>
<td>-</td>
<td><code>[{id, name, advertiser_info, ...}, ...]</code></td>
<td>管理员</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/admin/ads/{id}/approve/</code></td>
<td><code>AdAuditApp.approve_ad</code></td>
<td>(管理员)批准广告</td>
<td><code>{remark?}</code></td>
<td><code>{message}</code></td>
<td>管理员</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/admin/ads/{id}/reject/</code></td>
<td><code>AdAuditApp.reject_ad</code></td>
<td>(管理员)拒绝广告</td>
<td><code>{reason, remark?}</code></td>
<td><code>{message}</code></td>
<td>管理员</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/payment/recharge/</code></td>
<td><code>PaymentApp.recharge</code></td>
<td>账户充值</td>
<td><code>{amount, payment_method}</code></td>
<td><code>{transaction_id, status, message}</code></td>
<td>广告主</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/payment/transactions/</code></td>
<td><code>PaymentApp.list_transactions</code></td>
<td>获取交易记录</td>
<td><code>?type={type}&amp;date_from={date}</code></td>
<td><code>[{id, amount, type, status, created_at, ...}, ...]</code></td>
<td>广告主/管理员</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/payment/invoices/request/</code></td>
<td><code>PaymentApp.request_invoice</code></td>
<td>申请发票</td>
<td><code>{invoice_info_id, amount, items:[{tx_id, amt}]}</code></td>
<td><code>{invoice_id, status, message}</code></td>
<td>广告主</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/payment/invoices/</code></td>
<td><code>PaymentApp.list_invoices</code></td>
<td>获取发票列表</td>
<td><code>?status={status}</code></td>
<td><code>[{id, amount, status, invoice_number, ...}, ...]</code></td>
<td>广告主/管理员</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/admin/invoices/{id}/process/</code></td>
<td><code>PaymentApp.process_invoice</code></td>
<td>(管理员)处理发票 (批准/拒绝/完成)</td>
<td><code>{action, remark?, invoice_number?}</code></td>
<td><code>{message}</code></td>
<td>管理员</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/stats/advertiser/summary/</code></td>
<td><code>DataShowApp.advertiser_summary</code></td>
<td>(广告主)获取其广告数据概览</td>
<td><code>?date_range={range}</code></td>
<td><code>{total_spent, total_impressions, total_clicks, ctr, ...}</code></td>
<td>广告主</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/stats/admin/platform/</code></td>
<td><code>DataShowApp.platform_stats</code></td>
<td>(管理员)获取平台整体数据</td>
<td><code>?date_range={range}</code></td>
<td><code>{total_revenue, active_users, total_ads, ...}</code></td>
<td>管理员</td>
</tr>
</tbody>
</table>
<h3 id="102-关键内部接口服务调用-概念性">10.2 关键内部接口/服务调用 (概念性) </h3>
<p>除了对外API，系统内部模块间也存在调用（通过Python函数/方法调用，或Django Signals等机制）。</p>
<ul>
<li><strong><code>NotificationService.send(recipient, title, content, type, related_obj)</code></strong>:
<ul>
<li><strong>调用者</strong>: <code>UsersApp</code> (用户注册/审核后), <code>PaymentApp</code> (交易/发票状态变更后), <code>AdAuditApp</code> (审核结果后), <code>AdPlaceApp</code> (广告状态变更)等。</li>
<li><strong>功能</strong>: 创建并可能发送通知 (站内信, 邮件)。</li>
</ul>
</li>
<li><strong><code>UserService.update_balance(user, amount_delta, transaction_obj)</code></strong>:
<ul>
<li><strong>调用者</strong>: <code>PaymentApp</code> (充值成功后, 广告花费扣款时)。</li>
<li><strong>功能</strong>: 安全地更新用户余额，并关联交易。</li>
</ul>
</li>
<li><strong><code>AdStatusService.change_ad_status(ad, new_status, actor, reason)</code></strong>:
<ul>
<li><strong>调用者</strong>: <code>AdAuditApp</code> (审核操作), <code>AdPlaceApp</code> (用户操作暂停/启动), 定时任务 (预算耗尽/到期)。</li>
<li><strong>功能</strong>: 改变广告状态，记录日志，触发相关通知和副作用 (如更新Campaign统计)。</li>
</ul>
</li>
<li><strong><code>DailyStatsAggregator.run_aggregation(date)</code></strong>:
<ul>
<li><strong>调用者</strong>: 定时任务 (如每日凌晨执行)。</li>
<li><strong>功能</strong>: 从 <code>AdImpression</code> 和 <code>AdClick</code> 表收集原始数据，聚合生成 <code>DailyStats</code>。</li>
</ul>
</li>
</ul>
<h3 id="103-接口与组件依赖图-plantuml">10.3 接口与组件依赖图 (PlantUML) </h3>
<p class="plantuml"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentstyletype="text/css" data-diagram-type="DESCRIPTION" height="414px" preserveAspectRatio="none" style="width:1687px;height:414px;background:#FFFFFF;" version="1.1" viewBox="0 0 1687 414" width="1687px" zoomAndPan="magnify"><title>AdWeb Backend Components</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="199.9033" x="736.5633" y="24.5332">AdWeb Backend Components</text><!--cluster Django??--><g class="cluster" data-entity="Django应用" data-source-line="4" data-uid="ent0002" id="cluster_Django应用"><path d="M385.53,44.6094 L463.5027,44.6094 A3.75,3.75 0 0 1 466.0027,47.1094 L473.0027,68.2188 L1303.53,68.2188 A2.5,2.5 0 0 1 1306.03,70.7188 L1306.03,162.1094 A2.5,2.5 0 0 1 1303.53,164.6094 L385.53,164.6094 A2.5,2.5 0 0 1 383.03,162.1094 L383.03,47.1094 A2.5,2.5 0 0 1 385.53,44.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="383.03" x2="473.0027" y1="68.2188" y2="68.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76.9727" x="387.03" y="61.1426">Django应用</text></g><!--cluster ????--><g class="cluster" data-entity="核心服务" data-source-line="13" data-uid="ent0009" id="cluster_核心服务"><path d="M769.53,214.6094 L829.5925,214.6094 A3.75,3.75 0 0 1 832.0925,217.1094 L839.0925,238.2188 L1132.53,238.2188 A2.5,2.5 0 0 1 1135.03,240.7188 L1135.03,332.1094 A2.5,2.5 0 0 1 1132.53,334.6094 L769.53,334.6094 A2.5,2.5 0 0 1 767.03,332.1094 L767.03,217.1094 A2.5,2.5 0 0 1 769.53,214.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="767.03" x2="839.0925" y1="238.2188" y2="238.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59.0625" x="771.03" y="231.1426">核心服务</text></g><!--cluster ????--><g class="cluster" data-entity="外部接口" data-source-line="19" data-uid="ent0013" id="cluster_外部接口"><path d="M260.53,229.6094 L320.5925,229.6094 A3.75,3.75 0 0 1 323.0925,232.1094 L330.0925,253.2188 L411.53,253.2188 A2.5,2.5 0 0 1 414.03,255.7188 L414.03,317.1094 A2.5,2.5 0 0 1 411.53,319.6094 L260.53,319.6094 A2.5,2.5 0 0 1 258.03,317.1094 L258.03,232.1094 A2.5,2.5 0 0 1 260.53,229.6094" fill="none" style="stroke:#000000;stroke-width:1.5;"></path><line style="stroke:#000000;stroke-width:1.5;" x1="258.03" x2="330.0925" y1="253.2188" y2="253.2188"></line><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59.0625" x="262.03" y="246.1426">外部接口</text></g><!--entity users--><g class="entity" data-entity="users" data-source-line="5" data-uid="ent0003" id="entity_users"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101.4688" x="884.53" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="965.9988" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="963.9988" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="963.9988" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4688" x="899.53" y="135.1426">UsersApp</text></g><!--entity payment--><g class="entity" data-entity="payment" data-source-line="6" data-uid="ent0004" id="entity_payment"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120.1582" x="1021.03" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1121.1882" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1119.1882" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1119.1882" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.1582" x="1036.03" y="135.1426">PaymentApp</text></g><!--entity ad_manage--><g class="entity" data-entity="ad_manage" data-source-line="7" data-uid="ent0005" id="entity_ad_manage"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.627" x="716.53" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="829.157" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="827.157" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="827.157" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.627" x="731.53" y="135.1426">AdManageApp</text></g><!--entity ad_place--><g class="entity" data-entity="ad_place" data-source-line="8" data-uid="ent0006" id="entity_ad_place"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.0547" x="564.53" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="661.5847" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="659.5847" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="659.5847" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.0547" x="579.53" y="135.1426">AdPlaceApp</text></g><!--entity ad_audit--><g class="entity" data-entity="ad_audit" data-source-line="9" data-uid="ent0007" id="entity_ad_audit"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.9443" x="1176.03" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1269.9743" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1267.9743" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1267.9743" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9443" x="1191.03" y="135.1426">AdAuditApp</text></g><!--entity data_show--><g class="entity" data-entity="data_show" data-source-line="10" data-uid="ent0008" id="entity_data_show"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129.5029" x="399.03" y="100.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="508.5329" y="105.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="506.5329" y="107.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="506.5329" y="111.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.5029" x="414.03" y="135.1426">DataShowApp</text></g><!--entity ORM--><g class="entity" data-entity="ORM" data-source-line="14" data-uid="ent0010" id="entity_ORM"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72.6621" x="783.53" y="270.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="836.1921" y="275.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="834.1921" y="277.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="834.1921" y="281.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.6621" x="798.53" y="305.1426">ORM</text></g><!--entity auth--><g class="entity" data-entity="auth" data-source-line="15" data-uid="ent0011" id="entity_auth"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="892.03" y="270.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="968.03" y="275.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="966.03" y="277.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="966.03" y="281.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="907.03" y="305.1426">认证系统</text></g><!--entity notify--><g class="entity" data-entity="notify" data-source-line="16" data-uid="ent0012" id="entity_notify"><rect fill="#F1F1F1" height="47.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96" x="1023.03" y="270.6094"></rect><rect fill="#F1F1F1" height="10" style="stroke:#181818;stroke-width:0.5;" width="15" x="1099.03" y="275.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1097.03" y="277.6094"></rect><rect fill="#F1F1F1" height="2" style="stroke:#181818;stroke-width:0.5;" width="4" x="1097.03" y="281.6094"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1038.03" y="305.1426">通知服务</text></g><!--entity pay_gateway--><g class="entity" data-entity="pay_gateway" data-source-line="20" data-uid="ent0014" id="entity_pay_gateway"><ellipse cx="389.03" cy="294.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="361.03" y="326.1426">支付网关</text></g><!--entity email--><g class="entity" data-entity="email" data-source-line="21" data-uid="ent0015" id="entity_email"><ellipse cx="336.03" cy="294.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="308.03" y="326.1426">邮件服务</text></g><!--entity ad_network--><g class="entity" data-entity="ad_network" data-source-line="22" data-uid="ent0016" id="entity_ad_network"><ellipse cx="283.03" cy="294.6094" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"></ellipse><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="255.03" y="326.1426">广告网络</text></g><g class="entity" data-entity="GMN36" data-source-line="49" data-uid="ent0037" id="entity_GMN36"><path d="M154.53,381.6094 L154.53,407.9609 A0,0 0 0 0 154.53,407.9609 L411.7263,407.9609 A0,0 0 0 0 411.7263,407.9609 L411.7263,391.6094 L401.7263,381.6094 L287.03,381.6094 L283.03,303.6294 L279.03,381.6094 L154.53,381.6094 A0,0 0 0 0 154.53,381.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M401.7263,381.6094 L401.7263,391.6094 L411.7263,391.6094 L401.7263,381.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.1963" x="160.53" y="400.1045">依赖关系基于Django模型关联和服务调用</text></g><!--link users to ORM--><g class="link" data-entity-1="users" data-entity-2="ORM" data-source-line="26" data-uid="lnk17" id="link_users_ORM"><path d="M927.56,148.7994 C921.37,164.7294 911.12,185.3094 896.03,198.6094 C888.53,205.2094 882.76,200.2894 875.03,206.6094 C854.14,223.6894 841.306,245.4564 832.196,264.8964" fill="none" id="users-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="829.65,270.3294,837.0911,263.8772,831.7717,265.8019,829.847,260.4825,829.65,270.3294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="911.03" y="195.1045">使用</text></g><!--link payment to ORM--><g class="link" data-entity-1="payment" data-entity-2="ORM" data-source-line="27" data-uid="lnk18" id="link_payment_ORM"><path d="M1112.08,148.7394 C1125.78,157.7494 1142.5,167.1894 1159.03,172.6094 C1177.47,178.6594 1232.94,166.2694 1246.03,180.6094 C1251.42,186.5194 1251.62,192.8894 1246.03,198.6094 C1231.61,213.3394 892.98,196.4694 875.03,206.6094 C850.76,220.3194 837.8173,244.0384 829.7173,264.8384" fill="none" id="payment-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="827.54,270.4294,834.5333,263.4944,829.3544,265.7702,827.0786,260.5913,827.54,270.4294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="1251.03" y="195.1045">使用</text></g><!--link ad_manage to ORM--><g class="link" data-entity-1="ad_manage" data-entity-2="ORM" data-source-line="28" data-uid="lnk19" id="link_ad_manage_ORM"><path d="M747.94,148.8494 C733.35,157.5394 715.91,166.7094 699.03,172.6094 C688.61,176.2494 657.17,172.1994 650.03,180.6094 C644.85,186.7094 645.98,191.7094 650.03,198.6094 C678.69,247.4494 736.8587,271.3738 777.6387,283.2338" fill="none" id="ad_manage-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="783.4,284.9094,775.8751,278.5552,778.5989,283.5131,773.641,286.2369,783.4,284.9094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="651.03" y="195.1045">使用</text></g><!--link ad_place to ORM--><g class="link" data-entity-1="ad_place" data-entity-2="ORM" data-source-line="29" data-uid="lnk20" id="link_ad_place_ORM"><path d="M592.41,148.7194 C578.89,157.7194 562.37,167.1694 546.03,172.6094 C528.24,178.5294 474.64,166.7394 462.03,180.6094 C456.64,186.5294 457.15,192.2694 462.03,198.6094 C501.48,249.8994 694.1947,278.5283 777.3647,288.7383" fill="none" id="ad_place-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="783.32,289.4694,774.8744,284.4026,778.3573,288.8601,773.8997,292.343,783.32,289.4694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="463.03" y="195.1045">使用</text></g><!--link ad_audit to ORM--><g class="link" data-entity-1="ad_audit" data-entity-2="ORM" data-source-line="30" data-uid="lnk21" id="link_ad_audit_ORM"><path d="M1290.29,128.8594 C1362.17,134.2694 1479.31,147.9694 1506.03,180.6094 C1511.09,186.7994 1511.65,192.9194 1506.03,198.6094 C1493.71,211.0794 890.33,198.0494 875.03,206.6094 C850.7,220.2194 837.7722,243.9564 829.6822,264.7864" fill="none" id="ad_audit-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="827.51,270.3794,834.497,263.438,829.3202,265.7186,827.0397,260.5418,827.51,270.3794" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="1511.03" y="195.1045">使用</text></g><!--link data_show to ORM--><g class="link" data-entity-1="data_show" data-entity-2="ORM" data-source-line="31" data-uid="lnk22" id="link_data_show_ORM"><path d="M399.01,125.3894 C306.6,127.1294 154.5,138.7594 212.03,198.6094 C219.81,206.7094 402.88,205.2094 414.03,206.6094 C552.06,223.9994 706.9343,263.067 777.6443,282.007" fill="none" id="data_show-to-ORM" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="783.44,283.5594,775.7814,277.367,778.6103,282.2657,773.7115,285.0946,783.44,283.5594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="213.03" y="195.1045">使用</text></g><!--link users to auth--><g class="link" data-entity-1="users" data-entity-2="auth" data-source-line="33" data-uid="lnk23" id="link_users_auth"><path d="M950.4,148.6894 C955.83,158.1594 961.28,169.4994 964.03,180.6094 C971.69,211.5594 962.8724,242.1187 953.3524,265.0287" fill="none" id="users-to-auth" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="951.05,270.5694,958.1973,263.7933,952.9686,265.9521,950.8098,260.7234,951.05,270.5694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="967.03" y="195.1045">认证</text></g><!--link payment to auth--><g class="link" data-entity-1="payment" data-entity-2="auth" data-source-line="34" data-uid="lnk24" id="link_payment_auth"><path d="M1111.6,148.8194 C1125.35,157.9594 1142.25,167.4794 1159.03,172.6094 C1225.82,193.0494 1362.77,148.5794 1314.03,198.6094 C1302.08,210.8694 1021.26,198.7994 1006.03,206.6094 C979.71,220.1094 963.6852,244.114 953.0452,264.984" fill="none" id="payment-to-auth" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="950.32,270.3294,957.9714,264.1281,952.591,265.8749,950.8442,260.4945,950.32,270.3294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1325.03" y="195.1045">登录验证</text></g><!--link ad_manage to auth--><g class="link" data-entity-1="ad_manage" data-entity-2="auth" data-source-line="35" data-uid="lnk25" id="link_ad_manage_auth"><path d="M741.66,148.6394 C720.63,163.1794 702.48,182.2494 718.03,198.6094 C729.98,211.1894 858.68,198.4994 874.03,206.6094 C900.17,220.4394 916.2142,244.3845 926.9042,265.1545" fill="none" id="ad_manage-to-auth" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="929.65,270.4894,929.0879,260.6566,927.3619,266.0437,921.9748,264.3176,929.65,270.4894" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="719.03" y="195.1045">登录验证</text></g><!--link users to notify--><g class="link" data-entity-1="users" data-entity-2="notify" data-source-line="37" data-uid="lnk26" id="link_users_notify"><path d="M967.66,148.7994 C979.27,157.9394 991.95,169.0294 1002.03,180.6094 C1026.46,208.7094 1044.8722,241.1553 1057.1022,265.1153" fill="none" id="users-to-notify" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="1059.83,270.4594,1059.301,260.6247,1057.5568,266.006,1052.1756,264.2618,1059.83,270.4594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1016.03" y="195.1045">触发用户通知</text></g><!--link payment to notify--><g class="link" data-entity-1="payment" data-entity-2="notify" data-source-line="38" data-uid="lnk27" id="link_payment_notify"><path d="M1111.18,148.7294 C1124.99,157.9694 1142.05,167.5894 1159.03,172.6094 C1172.3,176.5294 1398.4,170.6694 1408.03,180.6094 C1495.28,270.7094 1237.5568,288.772 1125.1668,292.472" fill="none" id="payment-to-notify" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="1119.17,292.6694,1128.2967,296.3711,1124.1673,292.5049,1128.0335,288.3754,1119.17,292.6694" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1419.03" y="195.1045">触发支付通知</text></g><!--link ad_audit to notify--><g class="link" data-entity-1="ad_audit" data-entity-2="notify" data-source-line="39" data-uid="lnk28" id="link_ad_audit_notify"><path d="M1290.16,127.7894 C1402.17,133.1594 1636.41,150.2594 1596.03,198.6094 C1535.39,271.2094 1243.3066,288.2367 1125.2766,292.2267" fill="none" id="ad_audit-to-notify" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="1119.28,292.4294,1128.41,296.123,1124.2771,292.2604,1128.1397,288.1276,1119.28,292.4294" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1601.03" y="195.1045">触发审核通知</text></g><!--link ad_place to notify--><g class="link" data-entity-1="ad_place" data-entity-2="notify" data-source-line="40" data-uid="lnk29" id="link_ad_place_notify"><path d="M581.48,148.8194 C560.37,163.4294 542.21,182.5094 558.03,198.6094 C575.47,216.3694 983.87,195.2594 1006.03,206.6094 C1032.2,220.0194 1047.9401,244.0161 1058.3301,264.9261" fill="none" id="ad_place-to-notify" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="1061,270.2994,1060.5773,260.4596,1058.7751,265.8217,1053.413,264.0195,1061,270.2994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="559.03" y="195.1045">触发广告通知</text></g><!--link payment to pay_gateway--><g class="link" data-entity-1="payment" data-entity-2="pay_gateway" data-source-line="42" data-uid="lnk30" id="link_payment_pay_gateway"><path d="M1098.46,148.8294 C1108.18,164.7594 1115.97,185.3494 1103.03,198.6094 C1096.5,205.2894 776.29,205.4494 767.03,206.6094 C617.36,225.4194 445.9377,276.1646 403.9877,288.9946" fill="none" id="payment-to-pay_gateway" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="398.25,290.7494,408.0263,291.9423,403.0314,289.287,405.6866,284.2921,398.25,290.7494" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="1110.03" y="195.1045">处理充值</text></g><!--link users to email--><g class="link" data-entity-1="users" data-entity-2="email" data-source-line="43" data-uid="lnk31" id="link_users_email"><path d="M907.94,148.7094 C896.11,157.5994 881.61,166.9594 867.03,172.6094 C842.35,182.1694 833.12,172.1994 808.03,180.6094 C792.56,185.7994 791.77,194.3194 776.03,198.6094 C753.83,204.6494 380.34,192.6894 362.03,206.6094 C337.05,225.5894 335.0483,261.631 335.4683,279.411" fill="none" id="users-to-email" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="335.61,285.4094,339.3963,276.3174,335.4919,280.4108,331.3986,276.5063,335.61,285.4094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="809.03" y="195.1045">发送验证邮件</text></g><!--link notify to email--><g class="link" data-entity-1="notify" data-entity-2="email" data-source-line="44" data-uid="lnk32" id="link_notify_email"><path d="M1060.92,270.5394 C1050.58,249.3694 1032.29,219.9194 1006.03,206.6094 C932.44,169.3194 350.73,199.4494 345.03,204.6094 C322.21,225.2594 327.6372,261.2181 332.1072,279.6681" fill="none" id="notify-to-email" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"></path><polygon fill="#181818" points="333.52,285.4994,335.2884,275.8106,332.3427,280.64,327.5133,277.6943,333.52,285.4994" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="346.03" y="195.1045">发送各类通知</text></g><!--link ad_place to ad_network--><g class="link" data-entity-1="ad_place" data-entity-2="ad_network" data-source-line="45" data-uid="lnk33" id="link_ad_place_ad_network"><path d="M593.31,148.7694 C579.69,158.0094 562.85,167.6294 546.03,172.6094 C530.63,177.1694 268.23,169.0994 257.03,180.6094 C228.25,210.1894 258.7464,259.9743 273.4364,280.5743" fill="none" id="ad_place-to-ad_network" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="276.92,285.4594,274.9513,275.8093,274.017,281.3884,268.4378,280.4541,276.92,285.4594" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="258.03" y="195.1045">发送广告数据</text></g><!--reverse link data_show to ad_network--><g class="link" data-entity-1="data_show" data-entity-2="ad_network" data-source-line="47" data-uid="lnk35" id="link_data_show_ad_network"><path d="M393.02,124.8272 C292.13,125.1272 111.02,132.3694 69.03,180.6094 C6,253.0194 225.98,286.1894 273.97,292.4894" fill="none" id="data_show-backto-ad_network" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="399.02,124.8094,390.0081,120.8362,394.02,124.8242,390.0319,128.8361,399.02,124.8094" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="70.03" y="195.1045">接收统计数据</text></g><!--SRC=[TPHRJnf15CVVzrDCVB5zW0_GD2QqlfgQDaqVpIWhR8NT3QmXf6a2ueKg2XWWNa2BHILDYXYfvIhVnJ2povDVeMTsLtONuMdtpFdDdDj_HX6K08yytY_yCdg7LzPuqOlUIq5P4dbH2NFXDK6KSGW7KK0GUIKgyqWAANu9pQ91hw_cgkffGxi-rFfdQhl_r4t18caco6sCdZPela4RSOwJuLZiuz7C_5Si-YJIpi6-6VIDGsZbEHBw7EP3OOyi8nn6w-pVuLt4qI1yJRziM0x2urt08aGn4UnT2khs6BGOm2isHcRc6E9PzmgAXM1cEf1vhE1FVYbYCbumby9WSzzjjTAVJT9FqE8-sIsFr_hXuuB3rceLxIQktdNKphaUTLtnEu1Xx4GzlpGEOu0eAS9gr16FL0h3H9KUN9BqBoEU82fyQ1NgGpHtC-WSgRqisRep-xVammeVmL47Dzoe3JhtLXW-Y8M0Wo2jFidkmabgfsZs1rGHaK9hB9bPHEebxIOFPGoQiSTOqJxmnrY99EkmQEyCBAedcuPwQA55CbdqQl2mHwusG4l3H0yM1iqzcjfvpUcYG2wl515TSwo5w8qfGSxKmsJdI0bJtRe8fdhr-K_sZYO_sJsMCfigE8rXlyZPzAh77TBB3t-d6FCozKcK6SRD4FUSgGqMwFgAfBEG24t-CmGq2Zg5DNHYigFIfy2aLeP9Mh3HnMcmhXiJjceF2Jw_0cNP10bRI6LJpMoJhIqIwpxty9dK9ScOT7OOYniTC6JBcI7TEkeUHqbcKxtjZASxEjSIihL3pvdcwtI_1jAsXltMvNBoSEjexXvKhq5FT1x16T1BM6wHxMEQp82AXwKBq3hfNP1k6jJD7iYZ0xLS0tMJdRRzH5AisiAnJUaxxQ7rr4t2nQ1dHUE5PVz_Aa_T7vnjgol0hx9whEsJqkDOitYqB2cA50IzFfIqlmLu7E098kVjGVl0kBYqMYPdUx2knNFaC6LSMQsU04tz1m00]--></g></svg></p>
      </div>
      
      
    
    
    <script type="module">
// TODO: If ZenUML gets integrated into mermaid in the future,
//      we can remove the following lines.


var MERMAID_CONFIG = ({"startOnLoad":false});
if (typeof MERMAID_CONFIG !== 'undefined') {
  MERMAID_CONFIG.startOnLoad = false
  MERMAID_CONFIG.cloneCssStyles = false
  MERMAID_CONFIG.theme = "default"
}

mermaid.initialize(MERMAID_CONFIG || {})
if (typeof(window['Reveal']) !== 'undefined') {
  function mermaidRevealHelper(event) {
    var currentSlide = event.currentSlide
    var diagrams = currentSlide.querySelectorAll('.mermaid')
    for (var i = 0; i < diagrams.length; i++) {
      var diagram = diagrams[i]
      if (!diagram.hasAttribute('data-processed')) {
        mermaid.init(null, diagram, ()=> {
          Reveal.slide(event.indexh, event.indexv)
        })
      }
    }
  }
  Reveal.addEventListener('slidetransitionend', mermaidRevealHelper)
  Reveal.addEventListener('ready', mermaidRevealHelper)
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
} else {
  await mermaid.run({
    nodes: document.querySelectorAll('.mermaid')
  })
}
</script>
    
    
    
  
    </body></html>