# AdWeb 广告管理平台 - 场景分析文档

## 1. 场景分析概述

本文档描述了AdWeb广告管理平台中的关键用户场景，

## 2. 用户角色

系统中存在两种主要用户角色：

1. **广告主**：需要在平台投放广告的企业或个人用户
2. **管理员**：负责平台运营和内容审核的系统管理人员

## 3. 核心场景分析

### 3.1 场景一：用户注册与审核流程

**参与角色**：潜在广告主、管理员

**前置条件**：
- 用户尚未在系统中注册
- 管理员账号已存在且有权限审核用户

**场景流程**：
1. **初始访问**：
   - 潜在广告主访问平台首页，点击"注册"按钮
   - 系统显示注册表单

2. **信息填写**：
   - 用户填写注册信息：用户名、密码、邮箱、手机号、公司名称等
   - 系统实时验证信息格式（如邮箱格式、密码强度）

3. **提交注册**：
   - 用户阅读并接受服务条款，点击"提交注册"按钮
   - 系统保存用户信息，状态设为"待审核"
   - 系统显示"注册申请已提交，等待管理员审核"的提示

4. **管理员审核**：
   - 管理员登录系统，导航至"用户管理->待审核用户"
   - 系统显示所有待审核用户列表
   - 管理员点击用户名查看详细信息
   - 管理员核实用户信息的真实性和合规性

5. **审核决策**：
   - 如果信息合规：管理员点击"通过"按钮，可选填写备注
   - 如果信息不合规：管理员点击"拒绝"按钮，填写拒绝理由
   - 系统更新用户状态为"已批准"或"已拒绝"

6. **通知用户**：
   - 系统通过邮件通知用户审核结果
   - 如果通过：邮件包含登录链接和欢迎信息
   - 如果拒绝：邮件包含拒绝原因和重新注册指导

7. **用户登录**：
   - 审核通过的用户点击邮件中的链接或直接访问登录页
   - 用户输入用户名和密码登录系统
   - 系统验证凭据并引导用户进入平台

**异常流程**：
- 如果用户提供的邮箱已被注册，系统提示"邮箱已存在"
- 如果管理员长时间（>48小时）未审核，系统发送提醒给管理员
- 如果用户注册被拒绝，用户可以修改信息重新提交申请

### 3.2 场景二：广告主账户充值

**参与角色**：广告主

**前置条件**：
- 广告主已注册并登录系统
- 广告主账户处于正常状态

**场景流程**：
1. **进入充值页面**：
   - 广告主点击顶部导航栏的"财务中心"
   - 在下拉菜单中选择"账户充值"
   - 系统显示充值页面，包含当前账户余额和充值选项

2. **选择充值金额**：
   - 广告主可以选择预设金额（如100元、500元、1000元）
   - 或输入自定义金额（最低100元）
   - 系统验证金额是否符合要求

3. **选择支付方式**：
   - 广告主选择支付方式（支付宝、微信支付、银行转账等）
   - 系统根据选择显示对应支付信息

4. **确认充值**：
   - 广告主点击"确认充值"按钮
   - 系统创建充值订单，状态为"处理中"
   - 系统显示支付二维码或跳转到支付页面（模拟）

5. **完成支付**：
   - 广告主完成支付操作（模拟）
   - 系统接收支付结果通知
   - 验证支付是否成功

6. **更新账户**：
   - 如果支付成功：
     - 系统更新充值订单状态为"已完成"
     - 增加用户账户余额
     - 记录交易明细
   - 如果支付失败：
     - 系统更新充值订单状态为"失败"
     - 不改变用户余额
     - 记录失败原因

7. **充值反馈**：
   - 系统显示充值结果页面，包含新的账户余额
   - 系统通过站内消息通知广告主充值成功
   - 广告主可以在交易记录中查看此次充值详情

**异常流程**：
- 如果充值金额小于最低限额，系统提示错误
- 如果支付过程中断，订单状态保持"处理中"，可以在30分钟内重试
- 如果支付网关返回错误，系统记录错误并提示用户尝试其他支付方式

### 3.3 场景三：广告活动创建与广告投放

**参与角色**：广告主、管理员

**前置条件**：
- 广告主已登录系统
- 广告主账户余额充足
- 系统中已存在可用的广告位

**场景流程**：
1. **创建广告活动**：
   - 广告主进入"广告管理"页面，点击"创建广告活动"
   - 系统显示活动创建表单
   - 广告主填写活动名称、总预算、开始和结束日期
   - 广告主点击"保存活动"，系统创建活动记录
   - 系统返回活动列表页，显示新创建的活动

2. **浏览广告位**：
   - 广告主点击"广告位市场"菜单
   - 系统显示所有可用广告位列表，包含类型、尺寸、价格等信息
   - 广告主可以使用筛选条件查找特定类型的广告位

3. **创建广告**：
   - 广告主点击活动名称进入活动详情页
   - 点击"添加广告"按钮
   - 系统显示广告创建表单
   - 广告主选择目标广告位（如"首页横幅"）
   - 上传广告素材（图片）
   - 填写广告名称、目标链接和描述
   - 设置广告预算和每日限额
   - 确认投放时间范围（默认继承活动时间）

4. **提交审核**：
   - 广告主检查广告信息，点击"提交审核"
   - 系统验证账户余额是否足够预扣费（如预算的10%）
   - 如余额充足，系统预扣费用并将广告状态设为"待审核"
   - 系统通知管理员有新广告待审核

5. **广告审核**：
   - 管理员登录系统，进入"广告审核"页面
   - 系统显示待审核广告列表
   - 管理员点击广告查看详情（包括素材、链接、描述等）
   - 管理员检查广告内容是否符合平台规范

6. **审核决策**：
   - 如符合规范：管理员点击"通过"，填写审核意见
   - 如不符合规范：管理员点击"拒绝"，填写拒绝理由
   - 系统记录审核决定和时间

7. **投放状态更新**：
   - 如果审核通过且当前时间在投放时间范围内：
     - 系统将广告状态更新为"投放中"
     - 广告开始参与展示
   - 如果审核通过但尚未到投放时间：
     - 系统将广告状态更新为"已批准"
     - 在开始时间到达时自动变为"投放中"
   - 如果审核拒绝：
     - 系统将广告状态更新为"已拒绝"
     - 退回预扣费用
     - 通知广告主审核结果和原因

8. **广告效果监控**：
   - 广告主可以在"数据统计"页面查看广告效果
   - 系统显示展示次数、点击次数、点击率等指标
   - 广告主可以根据数据调整广告策略

**异常流程**：
- 如果账户余额不足以支付预扣费用，系统提示充值
- 如果上传的广告素材不符合尺寸要求，系统提示调整
- 如果广告预算超过活动总预算，系统提示调整

### 3.4 场景四：广告数据统计与分析

**参与角色**：广告主

**前置条件**：
- 广告主有正在投放或已结束的广告
- 系统已收集了广告展示和点击数据

**场景流程**：
1. **进入数据统计页面**：
   - 广告主登录系统，点击"数据统计"菜单
   - 系统默认显示近7天所有广告的汇总数据

2. **选择查询条件**：
   - 广告主可以选择特定的广告活动或单个广告
   - 设置时间范围（如今天、昨天、近7天、近30天或自定义）
   - 选择要查看的指标（展示量、点击量、点击率、消费金额等）
   - 点击"查询"按钮

3. **查看数据概览**：
   - 系统根据查询条件生成数据概览
   - 显示选定时间范围内的关键指标总值和日均值
   - 以图表形式展示指标趋势（如每日展示量变化）

4. **查看详细数据**：
   - 广告主可以切换到"详细数据"标签
   - 系统以表格形式展示按日期细分的数据
   - 可以按各指标升序或降序排列

5. **数据导出**：
   - 广告主点击"导出数据"按钮
   - 选择导出格式（如Excel、CSV）
   - 系统生成并下载数据文件

6. **优化建议**：
   - 系统基于数据分析提供简单的优化建议
   - 如点击率低于行业平均时，建议优化广告创意
   - 或建议调整投放时间以提高展示效果

**异常流程**：
- 如果选定时间范围内没有数据，系统显示"无数据"提示
- 如果数据量过大导致图表加载缓慢，系统提供简化视图选项
- 如果导出失败，系统提供重试选项

### 3.5 场景五：管理员广告位管理

**参与角色**：管理员

**前置条件**：
- 管理员已登录系统
- 管理员拥有广告位管理权限

**场景流程**：
1. **进入广告位管理页面**：
   - 管理员点击"系统管理"菜单
   - 选择"广告位管理"子菜单
   - 系统显示当前所有广告位列表

2. **创建新广告位**：
   - 管理员点击"创建广告位"按钮
   - 系统显示广告位创建表单
   - 管理员填写广告位信息：
     - 名称（如"首页顶部横幅"）
     - 类型（横幅、侧边栏、弹窗、文字等）
     - 尺寸规格（如"728x90像素"）
     - 价格（每日费用或千次展示费用）
     - 状态（启用/禁用）
   - 管理员点击"保存"按钮

3. **编辑广告位**：
   - 管理员在列表中找到需要修改的广告位
   - 点击"编辑"按钮
   - 系统显示广告位编辑表单，预填充当前信息
   - 管理员修改相关字段
   - 点击"保存"更新广告位信息

4. **启用/禁用广告位**：
   - 管理员可以通过开关按钮快速启用或禁用广告位
   - 禁用广告位时，系统提示确认
   - 确认后，系统更新广告位状态
   - 如果有正在投放的广告使用此广告位，系统提供处理选项：
     - 立即下线相关广告
     - 允许现有广告完成投放但不接受新广告

5. **查看广告位使用情况**：
   - 管理员点击广告位名称查看详情
   - 系统显示该广告位的使用统计：
     - 当前投放的广告数量
     - 历史投放广告总数
     - 产生的总收入
     - 平均点击率等性能指标

6. **调整广告位价格**：
   - 管理员可以根据市场需求调整广告位价格
   - 点击"调整价格"按钮，输入新价格
   - 系统提示价格变更将影响新广告，不影响已投放广告
   - 确认后，系统更新价格并记录变更历史

**异常流程**：
- 如果尝试删除有正在使用的广告位，系统阻止并提示先处理相关广告
- 如果设置的尺寸不符合标准，系统提供常用尺寸建议
- 如果价格设置过高/过低，系统给出市场参考价格范围

## 4. 场景间交互与状态流转

各场景之间存在紧密的关联和状态流转，主要体现在：

1. **用户与广告的生命周期关联**：
   - 用户注册并审核通过后（场景一）才能进行账户充值（场景二）
   - 账户余额充足（场景二）是创建广告（场景三）的前提条件
   - 广告创建并审核通过后，才会产生数据供分析（场景四）

2. **广告状态的完整流转链**：
   - 创建 → 待审核 → 已批准/已拒绝
   - 已批准 → 投放中 → 已暂停/已结束
   - 已拒绝 → 修改 → 重新提交审核

3. **广告位与广告的关联**：
   - 管理员创建和管理广告位（场景五）是广告创建（场景三）的基础
   - 广告位状态变化（启用/禁用）会影响依赖该广告位的广告投放状态

4. **资金流转的完整链条**：
   - 充值（场景二）→ 预扣费（场景三）→ 消费计费 → 数据分析（场景四）